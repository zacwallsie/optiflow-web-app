{"version":3,"file":"static/js/280.3fa40e0b.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/ChangeCircle.js","../node_modules/@mui/icons-material/Input.js","../node_modules/@mui/icons-material/Output.js","../node_modules/@mui/icons-material/utils/createSvgIcon.js","../node_modules/@mui/material/internal/svg-icons/MoreHoriz.js","../node_modules/@mui/material/Breadcrumbs/BreadcrumbCollapsed.js","../node_modules/@mui/material/Breadcrumbs/breadcrumbsClasses.js","../node_modules/@mui/material/Breadcrumbs/Breadcrumbs.js","../node_modules/@mui/material/utils/createChainedFunction.js","../node_modules/@mui/material/utils/deprecatedPropType.js","../node_modules/@mui/utils/esm/deprecatedPropType.js","../node_modules/@mui/material/utils/requirePropFactory.js","../node_modules/@mui/utils/esm/requirePropFactory.js","../node_modules/@mui/material/utils/setRef.js","../node_modules/@mui/material/utils/unsupportedProp.js","../node_modules/@mui/utils/esm/unsupportedProp.js","../node_modules/@mui/material/utils/index.js","../node_modules/@mui/icons-material/node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@reactflow/background/dist/esm/index.mjs","../node_modules/@reactflow/controls/dist/esm/index.mjs","../node_modules/zustand/esm/vanilla.mjs","../node_modules/zustand/esm/traditional.mjs","../node_modules/d3-drag/src/constant.js","../node_modules/d3-drag/src/event.js","../node_modules/d3-drag/src/drag.js","../node_modules/@reactflow/core/dist/esm/index.mjs","../node_modules/@reactflow/minimap/dist/esm/index.mjs","../node_modules/classcat/index.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/node_modules/d3-color/src/define.js","../node_modules/d3-transition/node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/node_modules/d3-color/src/define.js","../node_modules/d3-interpolate/node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-zoom/src/constant.js","../node_modules/d3-zoom/src/event.js","../node_modules/d3-zoom/src/transform.js","../node_modules/d3-zoom/src/noevent.js","../node_modules/d3-zoom/src/zoom.js","../node_modules/zustand/esm/shallow.mjs"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm.06 17v-2.01H12c-1.28 0-2.56-.49-3.54-1.46-1.71-1.71-1.92-4.35-.64-6.29l1.1 1.1c-.71 1.33-.53 3.01.59 4.13.7.7 1.62 1.03 2.54 1.01v-2.14l2.83 2.83L12.06 19zm4.11-4.24-1.1-1.1c.71-1.33.53-3.01-.59-4.13C13.79 8.84 12.9 8.5 12 8.5h-.06v2.15L9.11 7.83 11.94 5v2.02c1.3-.02 2.61.45 3.6 1.45 1.7 1.7 1.91 4.35.63 6.29z\"\n}), 'ChangeCircle');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z\"\n}), 'Input');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)([/*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m17 17 5-5-5-5-1.41 1.41L18.17 11H9v2h9.17l-2.58 2.59z\"\n}, \"0\"), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 19H5V5h14v2h2V5c0-1.1-.89-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.11 0 2-.9 2-2v-2h-2v2z\"\n}, \"1\")], 'Output');\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _utils.createSvgIcon;\n  }\n});\n\nvar _utils = require(\"@mui/material/utils\");","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreHoriz');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { emphasize } from '@mui/system';\nimport styled from '../styles/styled';\nimport MoreHorizIcon from '../internal/svg-icons/MoreHoriz';\nimport ButtonBase from '../ButtonBase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst BreadcrumbCollapsedButton = styled(ButtonBase)(({\n  theme\n}) => _extends({\n  display: 'flex',\n  marginLeft: `calc(${theme.spacing(1)} * 0.5)`,\n  marginRight: `calc(${theme.spacing(1)} * 0.5)`\n}, theme.palette.mode === 'light' ? {\n  backgroundColor: theme.palette.grey[100],\n  color: theme.palette.grey[700]\n} : {\n  backgroundColor: theme.palette.grey[700],\n  color: theme.palette.grey[100]\n}, {\n  borderRadius: 2,\n  '&:hover, &:focus': _extends({}, theme.palette.mode === 'light' ? {\n    backgroundColor: theme.palette.grey[200]\n  } : {\n    backgroundColor: theme.palette.grey[600]\n  }),\n  '&:active': _extends({\n    boxShadow: theme.shadows[0]\n  }, theme.palette.mode === 'light' ? {\n    backgroundColor: emphasize(theme.palette.grey[200], 0.12)\n  } : {\n    backgroundColor: emphasize(theme.palette.grey[600], 0.12)\n  })\n}));\nconst BreadcrumbCollapsedIcon = styled(MoreHorizIcon)({\n  width: 24,\n  height: 16\n});\n/**\n * @ignore - internal component.\n */\n\nfunction BreadcrumbCollapsed(props) {\n  const ownerState = props;\n  return /*#__PURE__*/_jsx(\"li\", {\n    children: /*#__PURE__*/_jsx(BreadcrumbCollapsedButton, _extends({\n      focusRipple: true\n    }, props, {\n      ownerState: ownerState,\n      children: /*#__PURE__*/_jsx(BreadcrumbCollapsedIcon, {\n        ownerState: ownerState\n      })\n    }))\n  });\n}\n\nprocess.env.NODE_ENV !== \"production\" ? BreadcrumbCollapsed.propTypes = {\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object\n} : void 0;\nexport default BreadcrumbCollapsed;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getBreadcrumbsUtilityClass(slot) {\n  return generateUtilityClass('MuiBreadcrumbs', slot);\n}\nconst breadcrumbsClasses = generateUtilityClasses('MuiBreadcrumbs', ['root', 'ol', 'li', 'separator']);\nexport default breadcrumbsClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"component\", \"expandText\", \"itemsAfterCollapse\", \"itemsBeforeCollapse\", \"maxItems\", \"separator\"];\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { integerPropType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Typography from '../Typography';\nimport BreadcrumbCollapsed from './BreadcrumbCollapsed';\nimport breadcrumbsClasses, { getBreadcrumbsUtilityClass } from './breadcrumbsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    li: ['li'],\n    ol: ['ol'],\n    separator: ['separator']\n  };\n  return composeClasses(slots, getBreadcrumbsUtilityClass, classes);\n};\n\nconst BreadcrumbsRoot = styled(Typography, {\n  name: 'MuiBreadcrumbs',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    return [{\n      [`& .${breadcrumbsClasses.li}`]: styles.li\n    }, styles.root];\n  }\n})({});\nconst BreadcrumbsOl = styled('ol', {\n  name: 'MuiBreadcrumbs',\n  slot: 'Ol',\n  overridesResolver: (props, styles) => styles.ol\n})({\n  display: 'flex',\n  flexWrap: 'wrap',\n  alignItems: 'center',\n  padding: 0,\n  margin: 0,\n  listStyle: 'none'\n});\nconst BreadcrumbsSeparator = styled('li', {\n  name: 'MuiBreadcrumbs',\n  slot: 'Separator',\n  overridesResolver: (props, styles) => styles.separator\n})({\n  display: 'flex',\n  userSelect: 'none',\n  marginLeft: 8,\n  marginRight: 8\n});\n\nfunction insertSeparators(items, className, separator, ownerState) {\n  return items.reduce((acc, current, index) => {\n    if (index < items.length - 1) {\n      acc = acc.concat(current, /*#__PURE__*/_jsx(BreadcrumbsSeparator, {\n        \"aria-hidden\": true,\n        className: className,\n        ownerState: ownerState,\n        children: separator\n      }, `separator-${index}`));\n    } else {\n      acc.push(current);\n    }\n\n    return acc;\n  }, []);\n}\n\nconst Breadcrumbs = /*#__PURE__*/React.forwardRef(function Breadcrumbs(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiBreadcrumbs'\n  });\n\n  const {\n    children,\n    className,\n    component = 'nav',\n    expandText = 'Show path',\n    itemsAfterCollapse = 1,\n    itemsBeforeCollapse = 1,\n    maxItems = 8,\n    separator = '/'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const [expanded, setExpanded] = React.useState(false);\n\n  const ownerState = _extends({}, props, {\n    component,\n    expanded,\n    expandText,\n    itemsAfterCollapse,\n    itemsBeforeCollapse,\n    maxItems,\n    separator\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const listRef = React.useRef(null);\n\n  const renderItemsBeforeAndAfter = allItems => {\n    const handleClickExpand = () => {\n      setExpanded(true); // The clicked element received the focus but gets removed from the DOM.\n      // Let's keep the focus in the component after expanding.\n      // Moving it to the <ol> or <nav> does not cause any announcement in NVDA.\n      // By moving it to some link/button at least we have some announcement.\n\n      const focusable = listRef.current.querySelector('a[href],button,[tabindex]');\n\n      if (focusable) {\n        focusable.focus();\n      }\n    }; // This defends against someone passing weird input, to ensure that if all\n    // items would be shown anyway, we just show all items without the EllipsisItem\n\n\n    if (itemsBeforeCollapse + itemsAfterCollapse >= allItems.length) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error(['MUI: You have provided an invalid combination of props to the Breadcrumbs.', `itemsAfterCollapse={${itemsAfterCollapse}} + itemsBeforeCollapse={${itemsBeforeCollapse}} >= maxItems={${maxItems}}`].join('\\n'));\n      }\n\n      return allItems;\n    }\n\n    return [...allItems.slice(0, itemsBeforeCollapse), /*#__PURE__*/_jsx(BreadcrumbCollapsed, {\n      \"aria-label\": expandText,\n      onClick: handleClickExpand\n    }, \"ellipsis\"), ...allItems.slice(allItems.length - itemsAfterCollapse, allItems.length)];\n  };\n\n  const allItems = React.Children.toArray(children).filter(child => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"MUI: The Breadcrumbs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    return /*#__PURE__*/React.isValidElement(child);\n  }).map((child, index) => /*#__PURE__*/_jsx(\"li\", {\n    className: classes.li,\n    children: child\n  }, `child-${index}`));\n  return /*#__PURE__*/_jsx(BreadcrumbsRoot, _extends({\n    ref: ref,\n    component: component,\n    color: \"text.secondary\",\n    className: clsx(classes.root, className),\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/_jsx(BreadcrumbsOl, {\n      className: classes.ol,\n      ref: listRef,\n      ownerState: ownerState,\n      children: insertSeparators(expanded || maxItems && allItems.length <= maxItems ? allItems : renderItemsBeforeAndAfter(allItems), classes.separator, separator, ownerState)\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Breadcrumbs.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Override the default label for the expand button.\n   *\n   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n   * @default 'Show path'\n   */\n  expandText: PropTypes.string,\n\n  /**\n   * If max items is exceeded, the number of items to show after the ellipsis.\n   * @default 1\n   */\n  itemsAfterCollapse: integerPropType,\n\n  /**\n   * If max items is exceeded, the number of items to show before the ellipsis.\n   * @default 1\n   */\n  itemsBeforeCollapse: integerPropType,\n\n  /**\n   * Specifies the maximum number of breadcrumbs to display. When there are more\n   * than the maximum number, only the first `itemsBeforeCollapse` and last `itemsAfterCollapse`\n   * will be shown, with an ellipsis in between.\n   * @default 8\n   */\n  maxItems: integerPropType,\n\n  /**\n   * Custom separator node.\n   * @default '/'\n   */\n  separator: PropTypes.node,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Breadcrumbs;","import { unstable_createChainedFunction as createChainedFunction } from '@mui/utils';\nexport default createChainedFunction;","import { unstable_deprecatedPropType as deprecatedPropType } from '@mui/utils';\nexport default deprecatedPropType;","export default function deprecatedPropType(validator, reason) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n\n  return (props, propName, componentName, location, propFullName) => {\n    const componentNameSafe = componentName || '<<anonymous>>';\n    const propFullNameSafe = propFullName || propName;\n\n    if (typeof props[propName] !== 'undefined') {\n      return new Error(`The ${location} \\`${propFullNameSafe}\\` of ` + `\\`${componentNameSafe}\\` is deprecated. ${reason}`);\n    }\n\n    return null;\n  };\n}","import { unstable_requirePropFactory as requirePropFactory } from '@mui/utils';\nexport default requirePropFactory;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nexport default function requirePropFactory(componentNameInError, Component) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  } // eslint-disable-next-line react/forbid-foreign-prop-types\n\n\n  const prevPropTypes = Component ? _extends({}, Component.propTypes) : null;\n\n  const requireProp = requiredProp => (props, propName, componentName, location, propFullName, ...args) => {\n    const propFullNameSafe = propFullName || propName;\n    const defaultTypeChecker = prevPropTypes == null ? void 0 : prevPropTypes[propFullNameSafe];\n\n    if (defaultTypeChecker) {\n      const typeCheckerResult = defaultTypeChecker(props, propName, componentName, location, propFullName, ...args);\n\n      if (typeCheckerResult) {\n        return typeCheckerResult;\n      }\n    }\n\n    if (typeof props[propName] !== 'undefined' && !props[requiredProp]) {\n      return new Error(`The prop \\`${propFullNameSafe}\\` of ` + `\\`${componentNameInError}\\` can only be used together with the \\`${requiredProp}\\` prop.`);\n    }\n\n    return null;\n  };\n\n  return requireProp;\n}","import { unstable_setRef as setRef } from '@mui/utils';\nexport default setRef;","import { unstable_unsupportedProp as unsupportedProp } from '@mui/utils';\nexport default unsupportedProp;","export default function unsupportedProp(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n\n  const propFullNameSafe = propFullName || propName;\n\n  if (typeof props[propName] !== 'undefined') {\n    return new Error(`The prop \\`${propFullNameSafe}\\` is not supported. Please remove it.`);\n  }\n\n  return null;\n}","import { unstable_ClassNameGenerator as ClassNameGenerator } from '@mui/base/className';\nexport { default as capitalize } from './capitalize';\nexport { default as createChainedFunction } from './createChainedFunction';\nexport { default as createSvgIcon } from './createSvgIcon';\nexport { default as debounce } from './debounce';\nexport { default as deprecatedPropType } from './deprecatedPropType';\nexport { default as isMuiElement } from './isMuiElement';\nexport { default as ownerDocument } from './ownerDocument';\nexport { default as ownerWindow } from './ownerWindow';\nexport { default as requirePropFactory } from './requirePropFactory';\nexport { default as setRef } from './setRef';\nexport { default as unstable_useEnhancedEffect } from './useEnhancedEffect';\nexport { default as unstable_useId } from './useId';\nexport { default as unsupportedProp } from './unsupportedProp';\nexport { default as useControlled } from './useControlled';\nexport { default as useEventCallback } from './useEventCallback';\nexport { default as useForkRef } from './useForkRef';\nexport { default as useIsFocusVisible } from './useIsFocusVisible'; // TODO: remove this export once ClassNameGenerator is stable\n// eslint-disable-next-line @typescript-eslint/naming-convention\n\nexport const unstable_ClassNameGenerator = {\n  configure: generator => {\n    console.warn(['MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.', '', \"You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead\", '', 'The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401', '', 'The updated documentation: https://mui.com/guides/classname-generator/'].join('\\n'));\n    ClassNameGenerator.configure(generator);\n  }\n};","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import React, { memo, useRef } from 'react';\nimport cc from 'classcat';\nimport { useStore } from '@reactflow/core';\nimport { shallow } from 'zustand/shallow';\n\nvar BackgroundVariant;\n(function (BackgroundVariant) {\n    BackgroundVariant[\"Lines\"] = \"lines\";\n    BackgroundVariant[\"Dots\"] = \"dots\";\n    BackgroundVariant[\"Cross\"] = \"cross\";\n})(BackgroundVariant || (BackgroundVariant = {}));\n\nfunction LinePattern({ color, dimensions, lineWidth }) {\n    return (React.createElement(\"path\", { stroke: color, strokeWidth: lineWidth, d: `M${dimensions[0] / 2} 0 V${dimensions[1]} M0 ${dimensions[1] / 2} H${dimensions[0]}` }));\n}\nfunction DotPattern({ color, radius }) {\n    return React.createElement(\"circle\", { cx: radius, cy: radius, r: radius, fill: color });\n}\n\nconst defaultColor = {\n    [BackgroundVariant.Dots]: '#91919a',\n    [BackgroundVariant.Lines]: '#eee',\n    [BackgroundVariant.Cross]: '#e2e2e2',\n};\nconst defaultSize = {\n    [BackgroundVariant.Dots]: 1,\n    [BackgroundVariant.Lines]: 1,\n    [BackgroundVariant.Cross]: 6,\n};\nconst selector = (s) => ({ transform: s.transform, patternId: `pattern-${s.rfId}` });\nfunction Background({ id, variant = BackgroundVariant.Dots, \n// only used for dots and cross\ngap = 20, \n// only used for lines and cross\nsize, lineWidth = 1, offset = 2, color, style, className, }) {\n    const ref = useRef(null);\n    const { transform, patternId } = useStore(selector, shallow);\n    const patternColor = color || defaultColor[variant];\n    const patternSize = size || defaultSize[variant];\n    const isDots = variant === BackgroundVariant.Dots;\n    const isCross = variant === BackgroundVariant.Cross;\n    const gapXY = Array.isArray(gap) ? gap : [gap, gap];\n    const scaledGap = [gapXY[0] * transform[2] || 1, gapXY[1] * transform[2] || 1];\n    const scaledSize = patternSize * transform[2];\n    const patternDimensions = isCross ? [scaledSize, scaledSize] : scaledGap;\n    const patternOffset = isDots\n        ? [scaledSize / offset, scaledSize / offset]\n        : [patternDimensions[0] / offset, patternDimensions[1] / offset];\n    return (React.createElement(\"svg\", { className: cc(['react-flow__background', className]), style: {\n            ...style,\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            top: 0,\n            left: 0,\n        }, ref: ref, \"data-testid\": \"rf__background\" },\n        React.createElement(\"pattern\", { id: patternId + id, x: transform[0] % scaledGap[0], y: transform[1] % scaledGap[1], width: scaledGap[0], height: scaledGap[1], patternUnits: \"userSpaceOnUse\", patternTransform: `translate(-${patternOffset[0]},-${patternOffset[1]})` }, isDots ? (React.createElement(DotPattern, { color: patternColor, radius: scaledSize / offset })) : (React.createElement(LinePattern, { dimensions: patternDimensions, color: patternColor, lineWidth: lineWidth }))),\n        React.createElement(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\", fill: `url(#${patternId + id})` })));\n}\nBackground.displayName = 'Background';\nvar Background$1 = memo(Background);\n\nexport { Background$1 as Background, BackgroundVariant };\n","import React, { memo, useState, useEffect } from 'react';\nimport cc from 'classcat';\nimport { shallow } from 'zustand/shallow';\nimport { useStoreApi, useStore, useReactFlow, Panel } from '@reactflow/core';\n\nfunction PlusIcon() {\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 32\" },\n        React.createElement(\"path\", { d: \"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z\" })));\n}\n\nfunction MinusIcon() {\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 5\" },\n        React.createElement(\"path\", { d: \"M0 0h32v4.2H0z\" })));\n}\n\nfunction FitViewIcon() {\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 30\" },\n        React.createElement(\"path\", { d: \"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z\" })));\n}\n\nfunction LockIcon() {\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 25 32\" },\n        React.createElement(\"path\", { d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z\" })));\n}\n\nfunction UnlockIcon() {\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 25 32\" },\n        React.createElement(\"path\", { d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z\" })));\n}\n\nconst ControlButton = ({ children, className, ...rest }) => (React.createElement(\"button\", { type: \"button\", className: cc(['react-flow__controls-button', className]), ...rest }, children));\nControlButton.displayName = 'ControlButton';\n\nconst selector = (s) => ({\n    isInteractive: s.nodesDraggable || s.nodesConnectable || s.elementsSelectable,\n    minZoomReached: s.transform[2] <= s.minZoom,\n    maxZoomReached: s.transform[2] >= s.maxZoom,\n});\nconst Controls = ({ style, showZoom = true, showFitView = true, showInteractive = true, fitViewOptions, onZoomIn, onZoomOut, onFitView, onInteractiveChange, className, children, position = 'bottom-left', }) => {\n    const store = useStoreApi();\n    const [isVisible, setIsVisible] = useState(false);\n    const { isInteractive, minZoomReached, maxZoomReached } = useStore(selector, shallow);\n    const { zoomIn, zoomOut, fitView } = useReactFlow();\n    useEffect(() => {\n        setIsVisible(true);\n    }, []);\n    if (!isVisible) {\n        return null;\n    }\n    const onZoomInHandler = () => {\n        zoomIn();\n        onZoomIn?.();\n    };\n    const onZoomOutHandler = () => {\n        zoomOut();\n        onZoomOut?.();\n    };\n    const onFitViewHandler = () => {\n        fitView(fitViewOptions);\n        onFitView?.();\n    };\n    const onToggleInteractivity = () => {\n        store.setState({\n            nodesDraggable: !isInteractive,\n            nodesConnectable: !isInteractive,\n            elementsSelectable: !isInteractive,\n        });\n        onInteractiveChange?.(!isInteractive);\n    };\n    return (React.createElement(Panel, { className: cc(['react-flow__controls', className]), position: position, style: style, \"data-testid\": \"rf__controls\" },\n        showZoom && (React.createElement(React.Fragment, null,\n            React.createElement(ControlButton, { onClick: onZoomInHandler, className: \"react-flow__controls-zoomin\", title: \"zoom in\", \"aria-label\": \"zoom in\", disabled: maxZoomReached },\n                React.createElement(PlusIcon, null)),\n            React.createElement(ControlButton, { onClick: onZoomOutHandler, className: \"react-flow__controls-zoomout\", title: \"zoom out\", \"aria-label\": \"zoom out\", disabled: minZoomReached },\n                React.createElement(MinusIcon, null)))),\n        showFitView && (React.createElement(ControlButton, { className: \"react-flow__controls-fitview\", onClick: onFitViewHandler, title: \"fit view\", \"aria-label\": \"fit view\" },\n            React.createElement(FitViewIcon, null))),\n        showInteractive && (React.createElement(ControlButton, { className: \"react-flow__controls-interactive\", onClick: onToggleInteractivity, title: \"toggle interactivity\", \"aria-label\": \"toggle interactivity\" }, isInteractive ? React.createElement(UnlockIcon, null) : React.createElement(LockIcon, null))),\n        children));\n};\nControls.displayName = 'Controls';\nvar Controls$1 = memo(Controls);\n\nexport { ControlButton, Controls$1 as Controls };\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","import ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\nimport { createStore } from 'zustand/vanilla';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nconst identity = (arg) => arg;\nfunction useStoreWithEqualityFn(api, selector = identity, equalityFn) {\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createWithEqualityFnImpl = (createState, defaultEqualityFn) => {\n  const api = createStore(createState);\n  const useBoundStoreWithEqualityFn = (selector, equalityFn = defaultEqualityFn) => useStoreWithEqualityFn(api, selector, equalityFn);\n  Object.assign(useBoundStoreWithEqualityFn, api);\n  return useBoundStoreWithEqualityFn;\n};\nconst createWithEqualityFn = (createState, defaultEqualityFn) => createState ? createWithEqualityFnImpl(createState, defaultEqualityFn) : createWithEqualityFnImpl;\n\nexport { createWithEqualityFn, useStoreWithEqualityFn };\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","import React, { createContext, useContext, useMemo, memo, useRef, useState, useEffect, forwardRef, useCallback } from 'react';\nimport cc from 'classcat';\nimport { useStoreWithEqualityFn, createWithEqualityFn } from 'zustand/traditional';\nimport { shallow } from 'zustand/shallow';\nimport { zoomIdentity, zoom } from 'd3-zoom';\nimport { select, pointer } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { createPortal } from 'react-dom';\n\nconst StoreContext = createContext(null);\nconst Provider$1 = StoreContext.Provider;\n\nconst errorMessages = {\n    error001: () => '[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001',\n    error002: () => \"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\",\n    error003: (nodeType) => `Node type \"${nodeType}\" not found. Using fallback type \"default\".`,\n    error004: () => 'The React Flow parent container needs a width and a height to render the graph.',\n    error005: () => 'Only child nodes can use a parent extent.',\n    error006: () => \"Can't create edge. An edge needs a source and a target.\",\n    error007: (id) => `The old edge with id=${id} does not exist.`,\n    error009: (type) => `Marker type \"${type}\" doesn't exist.`,\n    error008: (sourceHandle, edge) => `Couldn't create edge for ${!sourceHandle ? 'source' : 'target'} handle id: \"${!sourceHandle ? edge.sourceHandle : edge.targetHandle}\", edge id: ${edge.id}.`,\n    error010: () => 'Handle: No node id found. Make sure to only use a Handle inside a custom Node.',\n    error011: (edgeType) => `Edge type \"${edgeType}\" not found. Using fallback type \"default\".`,\n    error012: (id) => `Node with id \"${id}\" does not exist, it may have been removed. This can happen when a node is deleted before the \"onNodeClick\" handler is called.`,\n};\n\nconst zustandErrorMessage = errorMessages['error001']();\nfunction useStore(selector, equalityFn) {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useStoreWithEqualityFn(store, selector, equalityFn);\n}\nconst useStoreApi = () => {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useMemo(() => ({\n        getState: store.getState,\n        setState: store.setState,\n        subscribe: store.subscribe,\n        destroy: store.destroy,\n    }), [store]);\n};\n\nconst selector$g = (s) => (s.userSelectionActive ? 'none' : 'all');\nfunction Panel({ position, children, className, style, ...rest }) {\n    const pointerEvents = useStore(selector$g);\n    const positionClasses = `${position}`.split('-');\n    return (React.createElement(\"div\", { className: cc(['react-flow__panel', className, ...positionClasses]), style: { ...style, pointerEvents }, ...rest }, children));\n}\n\nfunction Attribution({ proOptions, position = 'bottom-right' }) {\n    if (proOptions?.hideAttribution) {\n        return null;\n    }\n    return (React.createElement(Panel, { position: position, className: \"react-flow__attribution\", \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro\" },\n        React.createElement(\"a\", { href: \"https://reactflow.dev\", target: \"_blank\", rel: \"noopener noreferrer\", \"aria-label\": \"React Flow attribution\" }, \"React Flow\")));\n}\n\nconst EdgeText = ({ x, y, label, labelStyle = {}, labelShowBg = true, labelBgStyle = {}, labelBgPadding = [2, 4], labelBgBorderRadius = 2, children, className, ...rest }) => {\n    const edgeRef = useRef(null);\n    const [edgeTextBbox, setEdgeTextBbox] = useState({ x: 0, y: 0, width: 0, height: 0 });\n    const edgeTextClasses = cc(['react-flow__edge-textwrapper', className]);\n    useEffect(() => {\n        if (edgeRef.current) {\n            const textBbox = edgeRef.current.getBBox();\n            setEdgeTextBbox({\n                x: textBbox.x,\n                y: textBbox.y,\n                width: textBbox.width,\n                height: textBbox.height,\n            });\n        }\n    }, [label]);\n    if (typeof label === 'undefined' || !label) {\n        return null;\n    }\n    return (React.createElement(\"g\", { transform: `translate(${x - edgeTextBbox.width / 2} ${y - edgeTextBbox.height / 2})`, className: edgeTextClasses, visibility: edgeTextBbox.width ? 'visible' : 'hidden', ...rest },\n        labelShowBg && (React.createElement(\"rect\", { width: edgeTextBbox.width + 2 * labelBgPadding[0], x: -labelBgPadding[0], y: -labelBgPadding[1], height: edgeTextBbox.height + 2 * labelBgPadding[1], className: \"react-flow__edge-textbg\", style: labelBgStyle, rx: labelBgBorderRadius, ry: labelBgBorderRadius })),\n        React.createElement(\"text\", { className: \"react-flow__edge-text\", y: edgeTextBbox.height / 2, dy: \"0.3em\", ref: edgeRef, style: labelStyle }, label),\n        children));\n};\nvar EdgeText$1 = memo(EdgeText);\n\nconst getDimensions = (node) => ({\n    width: node.offsetWidth,\n    height: node.offsetHeight,\n});\nconst clamp = (val, min = 0, max = 1) => Math.min(Math.max(val, min), max);\nconst clampPosition = (position = { x: 0, y: 0 }, extent) => ({\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1]),\n});\n// returns a number between 0 and 1 that represents the velocity of the movement\n// when the mouse is close to the edge of the canvas\nconst calcAutoPanVelocity = (value, min, max) => {\n    if (value < min) {\n        return clamp(Math.abs(value - min), 1, 50) / 50;\n    }\n    else if (value > max) {\n        return -clamp(Math.abs(value - max), 1, 50) / 50;\n    }\n    return 0;\n};\nconst calcAutoPan = (pos, bounds) => {\n    const xMovement = calcAutoPanVelocity(pos.x, 35, bounds.width - 35) * 20;\n    const yMovement = calcAutoPanVelocity(pos.y, 35, bounds.height - 35) * 20;\n    return [xMovement, yMovement];\n};\nconst getHostForElement = (element) => element.getRootNode?.() || window?.document;\nconst getBoundsOfBoxes = (box1, box2) => ({\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2),\n});\nconst rectToBox = ({ x, y, width, height }) => ({\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n});\nconst boxToRect = ({ x, y, x2, y2 }) => ({\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y,\n});\nconst nodeToRect = (node) => ({\n    ...(node.positionAbsolute || { x: 0, y: 0 }),\n    width: node.width || 0,\n    height: node.height || 0,\n});\nconst getBoundsOfRects = (rect1, rect2) => boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\nconst getOverlappingArea = (rectA, rectB) => {\n    const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n    const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n    return Math.ceil(xOverlap * yOverlap);\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isRectObject = (obj) => isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nconst isNumeric = (n) => !isNaN(n) && isFinite(n);\nconst internalsSymbol = Symbol.for('internals');\n// used for a11y key board controls for nodes and edges\nconst elementSelectionKeys = ['Enter', ' ', 'Escape'];\nconst devWarn = (id, message) => {\n    if (process.env.NODE_ENV === 'development') {\n        console.warn(`[React Flow]: ${message} Help: https://reactflow.dev/error#${id}`);\n    }\n};\nconst isReactKeyboardEvent = (event) => 'nativeEvent' in event;\nfunction isInputDOMNode(event) {\n    const kbEvent = isReactKeyboardEvent(event) ? event.nativeEvent : event;\n    // using composed path for handling shadow dom\n    const target = (kbEvent.composedPath?.()?.[0] || event.target);\n    const isInput = ['INPUT', 'SELECT', 'TEXTAREA'].includes(target?.nodeName) || target?.hasAttribute('contenteditable');\n    // when an input field is focused we don't want to trigger deletion or movement of nodes\n    return isInput || !!target?.closest('.nokey');\n}\nconst isMouseEvent = (event) => 'clientX' in event;\nconst getEventPosition = (event, bounds) => {\n    const isMouseTriggered = isMouseEvent(event);\n    const evtX = isMouseTriggered ? event.clientX : event.touches?.[0].clientX;\n    const evtY = isMouseTriggered ? event.clientY : event.touches?.[0].clientY;\n    return {\n        x: evtX - (bounds?.left ?? 0),\n        y: evtY - (bounds?.top ?? 0),\n    };\n};\nconst isMacOs = () => typeof navigator !== 'undefined' && navigator?.userAgent?.indexOf('Mac') >= 0;\n\nconst BaseEdge = ({ id, path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth = 20, }) => {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"path\", { id: id, style: style, d: path, fill: \"none\", className: \"react-flow__edge-path\", markerEnd: markerEnd, markerStart: markerStart }),\n        interactionWidth && (React.createElement(\"path\", { d: path, fill: \"none\", strokeOpacity: 0, strokeWidth: interactionWidth, className: \"react-flow__edge-interaction\" })),\n        label && isNumeric(labelX) && isNumeric(labelY) ? (React.createElement(EdgeText$1, { x: labelX, y: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius })) : null));\n};\nBaseEdge.displayName = 'BaseEdge';\n\nconst getMarkerEnd = (markerType, markerEndId) => {\n    if (typeof markerEndId !== 'undefined' && markerEndId) {\n        return `url(#${markerEndId})`;\n    }\n    return typeof markerType !== 'undefined' ? `url(#react-flow__${markerType})` : 'none';\n};\nfunction getMouseHandler$1(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const edge = getState().edges.find((e) => e.id === id);\n            if (edge) {\n                handler(event, { ...edge });\n            }\n        };\n}\n// this is used for straight edges and simple smoothstep edges (LTR, RTL, BTT, TTB)\nfunction getEdgeCenter({ sourceX, sourceY, targetX, targetY, }) {\n    const xOffset = Math.abs(targetX - sourceX) / 2;\n    const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n    const yOffset = Math.abs(targetY - sourceY) / 2;\n    const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n    return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({ sourceX, sourceY, targetX, targetY, sourceControlX, sourceControlY, targetControlX, targetControlY, }) {\n    // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n    // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n    const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n    const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n    const offsetX = Math.abs(centerX - sourceX);\n    const offsetY = Math.abs(centerY - sourceY);\n    return [centerX, centerY, offsetX, offsetY];\n}\n\nvar ConnectionMode;\n(function (ConnectionMode) {\n    ConnectionMode[\"Strict\"] = \"strict\";\n    ConnectionMode[\"Loose\"] = \"loose\";\n})(ConnectionMode || (ConnectionMode = {}));\nvar PanOnScrollMode;\n(function (PanOnScrollMode) {\n    PanOnScrollMode[\"Free\"] = \"free\";\n    PanOnScrollMode[\"Vertical\"] = \"vertical\";\n    PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\n})(PanOnScrollMode || (PanOnScrollMode = {}));\nvar SelectionMode;\n(function (SelectionMode) {\n    SelectionMode[\"Partial\"] = \"partial\";\n    SelectionMode[\"Full\"] = \"full\";\n})(SelectionMode || (SelectionMode = {}));\n\nvar ConnectionLineType;\n(function (ConnectionLineType) {\n    ConnectionLineType[\"Bezier\"] = \"default\";\n    ConnectionLineType[\"Straight\"] = \"straight\";\n    ConnectionLineType[\"Step\"] = \"step\";\n    ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n    ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\n})(ConnectionLineType || (ConnectionLineType = {}));\nvar MarkerType;\n(function (MarkerType) {\n    MarkerType[\"Arrow\"] = \"arrow\";\n    MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\n})(MarkerType || (MarkerType = {}));\n\nvar Position;\n(function (Position) {\n    Position[\"Left\"] = \"left\";\n    Position[\"Top\"] = \"top\";\n    Position[\"Right\"] = \"right\";\n    Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\n\nfunction getControl({ pos, x1, y1, x2, y2 }) {\n    if (pos === Position.Left || pos === Position.Right) {\n        return [0.5 * (x1 + x2), y1];\n    }\n    return [x1, 0.5 * (y1 + y2)];\n}\nfunction getSimpleBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, }) {\n    const [sourceControlX, sourceControlY] = getControl({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n    });\n    const [targetControlX, targetControlY] = getControl({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst SimpleBezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSimpleBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n    });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSimpleBezierEdge.displayName = 'SimpleBezierEdge';\n\nconst handleDirections = {\n    [Position.Left]: { x: -1, y: 0 },\n    [Position.Right]: { x: 1, y: 0 },\n    [Position.Top]: { x: 0, y: -1 },\n    [Position.Bottom]: { x: 0, y: 1 },\n};\nconst getDirection = ({ source, sourcePosition = Position.Bottom, target, }) => {\n    if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n        return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n    }\n    return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n};\nconst distance = (a, b) => Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n// ith this function we try to mimic a orthogonal edge routing behaviour\n// It's not as good as a real orthogonal edge routing but it's faster and good enough as a default for step and smooth step edges\nfunction getPoints({ source, sourcePosition = Position.Bottom, target, targetPosition = Position.Top, center, offset, }) {\n    const sourceDir = handleDirections[sourcePosition];\n    const targetDir = handleDirections[targetPosition];\n    const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n    const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n    const dir = getDirection({\n        source: sourceGapped,\n        sourcePosition,\n        target: targetGapped,\n    });\n    const dirAccessor = dir.x !== 0 ? 'x' : 'y';\n    const currDir = dir[dirAccessor];\n    let points = [];\n    let centerX, centerY;\n    const sourceGapOffset = { x: 0, y: 0 };\n    const targetGapOffset = { x: 0, y: 0 };\n    const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getEdgeCenter({\n        sourceX: source.x,\n        sourceY: source.y,\n        targetX: target.x,\n        targetY: target.y,\n    });\n    // opposite handle positions, default case\n    if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n        centerX = center.x || defaultCenterX;\n        centerY = center.y || defaultCenterY;\n        //    --->\n        //    |\n        // >---\n        const verticalSplit = [\n            { x: centerX, y: sourceGapped.y },\n            { x: centerX, y: targetGapped.y },\n        ];\n        //    |\n        //  ---\n        //  |\n        const horizontalSplit = [\n            { x: sourceGapped.x, y: centerY },\n            { x: targetGapped.x, y: centerY },\n        ];\n        if (sourceDir[dirAccessor] === currDir) {\n            points = dirAccessor === 'x' ? verticalSplit : horizontalSplit;\n        }\n        else {\n            points = dirAccessor === 'x' ? horizontalSplit : verticalSplit;\n        }\n    }\n    else {\n        // sourceTarget means we take x from source and y from target, targetSource is the opposite\n        const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n        const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n        // this handles edges with same handle positions\n        if (dirAccessor === 'x') {\n            points = sourceDir.x === currDir ? targetSource : sourceTarget;\n        }\n        else {\n            points = sourceDir.y === currDir ? sourceTarget : targetSource;\n        }\n        if (sourcePosition === targetPosition) {\n            const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n            // if an edge goes from right to right for example (sourcePosition === targetPosition) and the distance between source.x and target.x is less than the offset, the added point and the gapped source/target will overlap. This leads to a weird edge path. To avoid this we add a gapOffset to the source/target\n            if (diff <= offset) {\n                const gapOffset = Math.min(offset - 1, offset - diff);\n                if (sourceDir[dirAccessor] === currDir) {\n                    sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n                }\n                else {\n                    targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n                }\n            }\n        }\n        // these are conditions for handling mixed handle positions like Right -> Bottom for example\n        if (sourcePosition !== targetPosition) {\n            const dirAccessorOpposite = dirAccessor === 'x' ? 'y' : 'x';\n            const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n            const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n            const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n            const flipSourceTarget = (sourceDir[dirAccessor] === 1 && ((!isSameDir && sourceGtTargetOppo) || (isSameDir && sourceLtTargetOppo))) ||\n                (sourceDir[dirAccessor] !== 1 && ((!isSameDir && sourceLtTargetOppo) || (isSameDir && sourceGtTargetOppo)));\n            if (flipSourceTarget) {\n                points = dirAccessor === 'x' ? sourceTarget : targetSource;\n            }\n        }\n        const sourceGapPoint = { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y };\n        const targetGapPoint = { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y };\n        const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n        const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n        // we want to place the label on the longest segment of the edge\n        if (maxXDistance >= maxYDistance) {\n            centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n            centerY = points[0].y;\n        }\n        else {\n            centerX = points[0].x;\n            centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n        }\n    }\n    const pathPoints = [\n        source,\n        { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y },\n        ...points,\n        { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y },\n        target,\n    ];\n    return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n    const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n    const { x, y } = b;\n    // no bend\n    if ((a.x === x && x === c.x) || (a.y === y && y === c.y)) {\n        return `L${x} ${y}`;\n    }\n    // first segment is horizontal\n    if (a.y === y) {\n        const xDir = a.x < c.x ? -1 : 1;\n        const yDir = a.y < c.y ? 1 : -1;\n        return `L ${x + bendSize * xDir},${y}Q ${x},${y} ${x},${y + bendSize * yDir}`;\n    }\n    const xDir = a.x < c.x ? 1 : -1;\n    const yDir = a.y < c.y ? -1 : 1;\n    return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, borderRadius = 5, centerX, centerY, offset = 20, }) {\n    const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n        source: { x: sourceX, y: sourceY },\n        sourcePosition,\n        target: { x: targetX, y: targetY },\n        targetPosition,\n        center: { x: centerX, y: centerY },\n        offset,\n    });\n    const path = points.reduce((res, p, i) => {\n        let segment = '';\n        if (i > 0 && i < points.length - 1) {\n            segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n        }\n        else {\n            segment = `${i === 0 ? 'M' : 'L'}${p.x} ${p.y}`;\n        }\n        res += segment;\n        return res;\n    }, '');\n    return [path, labelX, labelY, offsetX, offsetY];\n}\nconst SmoothStepEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, sourcePosition = Position.Bottom, targetPosition = Position.Top, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSmoothStepPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        borderRadius: pathOptions?.borderRadius,\n        offset: pathOptions?.offset,\n    });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSmoothStepEdge.displayName = 'SmoothStepEdge';\n\nconst StepEdge = memo((props) => (React.createElement(SmoothStepEdge, { ...props, pathOptions: useMemo(() => ({ borderRadius: 0, offset: props.pathOptions?.offset }), [props.pathOptions?.offset]) })));\nStepEdge.displayName = 'StepEdge';\n\nfunction getStraightPath({ sourceX, sourceY, targetX, targetY, }) {\n    const [labelX, labelY, offsetX, offsetY] = getEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n    });\n    return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, labelX, labelY, offsetX, offsetY];\n}\nconst StraightEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getStraightPath({ sourceX, sourceY, targetX, targetY });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nStraightEdge.displayName = 'StraightEdge';\n\nfunction calculateControlOffset(distance, curvature) {\n    if (distance >= 0) {\n        return 0.5 * distance;\n    }\n    return curvature * 25 * Math.sqrt(-distance);\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n    switch (pos) {\n        case Position.Left:\n            return [x1 - calculateControlOffset(x1 - x2, c), y1];\n        case Position.Right:\n            return [x1 + calculateControlOffset(x2 - x1, c), y1];\n        case Position.Top:\n            return [x1, y1 - calculateControlOffset(y1 - y2, c)];\n        case Position.Bottom:\n            return [x1, y1 + calculateControlOffset(y2 - y1, c)];\n    }\n}\nfunction getBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, curvature = 0.25, }) {\n    const [sourceControlX, sourceControlY] = getControlWithCurvature({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n        c: curvature,\n    });\n    const [targetControlX, targetControlY] = getControlWithCurvature({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n        c: curvature,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst BezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        curvature: pathOptions?.curvature,\n    });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nBezierEdge.displayName = 'BezierEdge';\n\nconst NodeIdContext = createContext(null);\nconst Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\nconst useNodeId = () => {\n    const nodeId = useContext(NodeIdContext);\n    return nodeId;\n};\n\nconst isEdge = (element) => 'id' in element && 'source' in element && 'target' in element;\nconst isNode = (element) => 'id' in element && !('source' in element) && !('target' in element);\nconst getOutgoers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const outgoerIds = edges.filter((e) => e.source === node.id).map((e) => e.target);\n    return nodes.filter((n) => outgoerIds.includes(n.id));\n};\nconst getIncomers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const incomersIds = edges.filter((e) => e.target === node.id).map((e) => e.source);\n    return nodes.filter((n) => incomersIds.includes(n.id));\n};\nconst getEdgeId = ({ source, sourceHandle, target, targetHandle }) => `reactflow__edge-${source}${sourceHandle || ''}-${target}${targetHandle || ''}`;\nconst getMarkerId = (marker, rfId) => {\n    if (typeof marker === 'undefined') {\n        return '';\n    }\n    if (typeof marker === 'string') {\n        return marker;\n    }\n    const idPrefix = rfId ? `${rfId}__` : '';\n    return `${idPrefix}${Object.keys(marker)\n        .sort()\n        .map((key) => `${key}=${marker[key]}`)\n        .join('&')}`;\n};\nconst connectionExists = (edge, edges) => {\n    return edges.some((el) => el.source === edge.source &&\n        el.target === edge.target &&\n        (el.sourceHandle === edge.sourceHandle || (!el.sourceHandle && !edge.sourceHandle)) &&\n        (el.targetHandle === edge.targetHandle || (!el.targetHandle && !edge.targetHandle)));\n};\nconst addEdge = (edgeParams, edges) => {\n    if (!edgeParams.source || !edgeParams.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    let edge;\n    if (isEdge(edgeParams)) {\n        edge = { ...edgeParams };\n    }\n    else {\n        edge = {\n            ...edgeParams,\n            id: getEdgeId(edgeParams),\n        };\n    }\n    if (connectionExists(edge, edges)) {\n        return edges;\n    }\n    return edges.concat(edge);\n};\nconst updateEdge = (oldEdge, newConnection, edges, options = { shouldReplaceId: true }) => {\n    const { id: oldEdgeId, ...rest } = oldEdge;\n    if (!newConnection.source || !newConnection.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    const foundEdge = edges.find((e) => e.id === oldEdgeId);\n    if (!foundEdge) {\n        devWarn('007', errorMessages['error007'](oldEdgeId));\n        return edges;\n    }\n    // Remove old edge and create the new edge with parameters of old edge.\n    const edge = {\n        ...rest,\n        id: options.shouldReplaceId ? getEdgeId(newConnection) : oldEdgeId,\n        source: newConnection.source,\n        target: newConnection.target,\n        sourceHandle: newConnection.sourceHandle,\n        targetHandle: newConnection.targetHandle,\n    };\n    return edges.filter((e) => e.id !== oldEdgeId).concat(edge);\n};\nconst pointToRendererPoint = ({ x, y }, [tx, ty, tScale], snapToGrid, [snapX, snapY]) => {\n    const position = {\n        x: (x - tx) / tScale,\n        y: (y - ty) / tScale,\n    };\n    if (snapToGrid) {\n        return {\n            x: snapX * Math.round(position.x / snapX),\n            y: snapY * Math.round(position.y / snapY),\n        };\n    }\n    return position;\n};\nconst rendererPointToPoint = ({ x, y }, [tx, ty, tScale]) => {\n    return {\n        x: x * tScale + tx,\n        y: y * tScale + ty,\n    };\n};\nconst getNodePositionWithOrigin = (node, nodeOrigin = [0, 0]) => {\n    if (!node) {\n        return {\n            x: 0,\n            y: 0,\n            positionAbsolute: {\n                x: 0,\n                y: 0,\n            },\n        };\n    }\n    const offsetX = (node.width ?? 0) * nodeOrigin[0];\n    const offsetY = (node.height ?? 0) * nodeOrigin[1];\n    const position = {\n        x: node.position.x - offsetX,\n        y: node.position.y - offsetY,\n    };\n    return {\n        ...position,\n        positionAbsolute: node.positionAbsolute\n            ? {\n                x: node.positionAbsolute.x - offsetX,\n                y: node.positionAbsolute.y - offsetY,\n            }\n            : position,\n    };\n};\nconst getNodesBounds = (nodes, nodeOrigin = [0, 0]) => {\n    if (nodes.length === 0) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n    const box = nodes.reduce((currBox, node) => {\n        const { x, y } = getNodePositionWithOrigin(node, nodeOrigin).positionAbsolute;\n        return getBoundsOfBoxes(currBox, rectToBox({\n            x,\n            y,\n            width: node.width || 0,\n            height: node.height || 0,\n        }));\n    }, { x: Infinity, y: Infinity, x2: -Infinity, y2: -Infinity });\n    return boxToRect(box);\n};\n// @deprecated Use `getNodesBounds`.\nconst getRectOfNodes = (nodes, nodeOrigin = [0, 0]) => {\n    console.warn('[DEPRECATED] `getRectOfNodes` is deprecated. Instead use `getNodesBounds` https://reactflow.dev/api-reference/utils/get-nodes-bounds.');\n    return getNodesBounds(nodes, nodeOrigin);\n};\nconst getNodesInside = (nodeInternals, rect, [tx, ty, tScale] = [0, 0, 1], partially = false, \n// set excludeNonSelectableNodes if you want to pay attention to the nodes \"selectable\" attribute\nexcludeNonSelectableNodes = false, nodeOrigin = [0, 0]) => {\n    const paneRect = {\n        x: (rect.x - tx) / tScale,\n        y: (rect.y - ty) / tScale,\n        width: rect.width / tScale,\n        height: rect.height / tScale,\n    };\n    const visibleNodes = [];\n    nodeInternals.forEach((node) => {\n        const { width, height, selectable = true, hidden = false } = node;\n        if ((excludeNonSelectableNodes && !selectable) || hidden) {\n            return false;\n        }\n        const { positionAbsolute } = getNodePositionWithOrigin(node, nodeOrigin);\n        const nodeRect = {\n            x: positionAbsolute.x,\n            y: positionAbsolute.y,\n            width: width || 0,\n            height: height || 0,\n        };\n        const overlappingArea = getOverlappingArea(paneRect, nodeRect);\n        const notInitialized = typeof width === 'undefined' || typeof height === 'undefined' || width === null || height === null;\n        const partiallyVisible = partially && overlappingArea > 0;\n        const area = (width || 0) * (height || 0);\n        const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n        if (isVisible || node.dragging) {\n            visibleNodes.push(node);\n        }\n    });\n    return visibleNodes;\n};\nconst getConnectedEdges = (nodes, edges) => {\n    const nodeIds = nodes.map((node) => node.id);\n    return edges.filter((edge) => nodeIds.includes(edge.source) || nodeIds.includes(edge.target));\n};\n// @deprecated Use `getViewportForBounds`.\nconst getTransformForBounds = (bounds, width, height, minZoom, maxZoom, padding = 0.1) => {\n    const { x, y, zoom } = getViewportForBounds(bounds, width, height, minZoom, maxZoom, padding);\n    console.warn('[DEPRECATED] `getTransformForBounds` is deprecated. Instead use `getViewportForBounds`. Beware that the return value is type Viewport (`{ x: number, y: number, zoom: number }`) instead of Transform (`[number, number, number]`). https://reactflow.dev/api-reference/utils/get-viewport-for-bounds');\n    return [x, y, zoom];\n};\nconst getViewportForBounds = (bounds, width, height, minZoom, maxZoom, padding = 0.1) => {\n    const xZoom = width / (bounds.width * (1 + padding));\n    const yZoom = height / (bounds.height * (1 + padding));\n    const zoom = Math.min(xZoom, yZoom);\n    const clampedZoom = clamp(zoom, minZoom, maxZoom);\n    const boundsCenterX = bounds.x + bounds.width / 2;\n    const boundsCenterY = bounds.y + bounds.height / 2;\n    const x = width / 2 - boundsCenterX * clampedZoom;\n    const y = height / 2 - boundsCenterY * clampedZoom;\n    return { x, y, zoom: clampedZoom };\n};\nconst getD3Transition = (selection, duration = 0) => {\n    return selection.transition().duration(duration);\n};\n\n// this functions collects all handles and adds an absolute position\n// so that we can later find the closest handle to the mouse position\nfunction getHandles(node, handleBounds, type, currentHandle) {\n    return (handleBounds[type] || []).reduce((res, h) => {\n        if (`${node.id}-${h.id}-${type}` !== currentHandle) {\n            res.push({\n                id: h.id || null,\n                type,\n                nodeId: node.id,\n                x: (node.positionAbsolute?.x ?? 0) + h.x + h.width / 2,\n                y: (node.positionAbsolute?.y ?? 0) + h.y + h.height / 2,\n            });\n        }\n        return res;\n    }, []);\n}\nfunction getClosestHandle(event, doc, pos, connectionRadius, handles, validator) {\n    // we always want to prioritize the handle below the mouse cursor over the closest distance handle,\n    // because it could be that the center of another handle is closer to the mouse pointer than the handle below the cursor\n    const { x, y } = getEventPosition(event);\n    const domNodes = doc.elementsFromPoint(x, y);\n    const handleBelow = domNodes.find((el) => el.classList.contains('react-flow__handle'));\n    if (handleBelow) {\n        const handleNodeId = handleBelow.getAttribute('data-nodeid');\n        if (handleNodeId) {\n            const handleType = getHandleType(undefined, handleBelow);\n            const handleId = handleBelow.getAttribute('data-handleid');\n            const validHandleResult = validator({ nodeId: handleNodeId, id: handleId, type: handleType });\n            if (validHandleResult) {\n                const handle = handles.find((h) => h.nodeId === handleNodeId && h.type === handleType && h.id === handleId);\n                return {\n                    handle: {\n                        id: handleId,\n                        type: handleType,\n                        nodeId: handleNodeId,\n                        x: handle?.x || pos.x,\n                        y: handle?.y || pos.y,\n                    },\n                    validHandleResult,\n                };\n            }\n        }\n    }\n    // if we couldn't find a handle below the mouse cursor we look for the closest distance based on the connectionRadius\n    let closestHandles = [];\n    let minDistance = Infinity;\n    handles.forEach((handle) => {\n        const distance = Math.sqrt((handle.x - pos.x) ** 2 + (handle.y - pos.y) ** 2);\n        if (distance <= connectionRadius) {\n            const validHandleResult = validator(handle);\n            if (distance <= minDistance) {\n                if (distance < minDistance) {\n                    closestHandles = [{ handle, validHandleResult }];\n                }\n                else if (distance === minDistance) {\n                    // when multiple handles are on the same distance we collect all of them\n                    closestHandles.push({\n                        handle,\n                        validHandleResult,\n                    });\n                }\n                minDistance = distance;\n            }\n        }\n    });\n    if (!closestHandles.length) {\n        return { handle: null, validHandleResult: defaultResult() };\n    }\n    if (closestHandles.length === 1) {\n        return closestHandles[0];\n    }\n    const hasValidHandle = closestHandles.some(({ validHandleResult }) => validHandleResult.isValid);\n    const hasTargetHandle = closestHandles.some(({ handle }) => handle.type === 'target');\n    // if multiple handles are layouted on top of each other we prefer the one with type = target and the one that is valid\n    return (closestHandles.find(({ handle, validHandleResult }) => hasTargetHandle ? handle.type === 'target' : (hasValidHandle ? validHandleResult.isValid : true)) || closestHandles[0]);\n}\nconst nullConnection = { source: null, target: null, sourceHandle: null, targetHandle: null };\nconst defaultResult = () => ({\n    handleDomNode: null,\n    isValid: false,\n    connection: nullConnection,\n    endHandle: null,\n});\n// checks if  and returns connection in fom of an object { source: 123, target: 312 }\nfunction isValidHandle(handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc) {\n    const isTarget = fromType === 'target';\n    const handleToCheck = doc.querySelector(`.react-flow__handle[data-id=\"${handle?.nodeId}-${handle?.id}-${handle?.type}\"]`);\n    const result = {\n        ...defaultResult(),\n        handleDomNode: handleToCheck,\n    };\n    if (handleToCheck) {\n        const handleType = getHandleType(undefined, handleToCheck);\n        const handleNodeId = handleToCheck.getAttribute('data-nodeid');\n        const handleId = handleToCheck.getAttribute('data-handleid');\n        const connectable = handleToCheck.classList.contains('connectable');\n        const connectableEnd = handleToCheck.classList.contains('connectableend');\n        const connection = {\n            source: isTarget ? handleNodeId : fromNodeId,\n            sourceHandle: isTarget ? handleId : fromHandleId,\n            target: isTarget ? fromNodeId : handleNodeId,\n            targetHandle: isTarget ? fromHandleId : handleId,\n        };\n        result.connection = connection;\n        const isConnectable = connectable && connectableEnd;\n        // in strict mode we don't allow target to target or source to source connections\n        const isValid = isConnectable &&\n            (connectionMode === ConnectionMode.Strict\n                ? (isTarget && handleType === 'source') || (!isTarget && handleType === 'target')\n                : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n        if (isValid) {\n            result.endHandle = {\n                nodeId: handleNodeId,\n                handleId,\n                type: handleType,\n            };\n            result.isValid = isValidConnection(connection);\n        }\n    }\n    return result;\n}\nfunction getHandleLookup({ nodes, nodeId, handleId, handleType }) {\n    return nodes.reduce((res, node) => {\n        if (node[internalsSymbol]) {\n            const { handleBounds } = node[internalsSymbol];\n            let sourceHandles = [];\n            let targetHandles = [];\n            if (handleBounds) {\n                sourceHandles = getHandles(node, handleBounds, 'source', `${nodeId}-${handleId}-${handleType}`);\n                targetHandles = getHandles(node, handleBounds, 'target', `${nodeId}-${handleId}-${handleType}`);\n            }\n            res.push(...sourceHandles, ...targetHandles);\n        }\n        return res;\n    }, []);\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n    if (edgeUpdaterType) {\n        return edgeUpdaterType;\n    }\n    else if (handleDomNode?.classList.contains('target')) {\n        return 'target';\n    }\n    else if (handleDomNode?.classList.contains('source')) {\n        return 'source';\n    }\n    return null;\n}\nfunction resetRecentHandle(handleDomNode) {\n    handleDomNode?.classList.remove('valid', 'connecting', 'react-flow__handle-valid', 'react-flow__handle-connecting');\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n    let connectionStatus = null;\n    if (isHandleValid) {\n        connectionStatus = 'valid';\n    }\n    else if (isInsideConnectionRadius && !isHandleValid) {\n        connectionStatus = 'invalid';\n    }\n    return connectionStatus;\n}\n\nfunction handlePointerDown({ event, handleId, nodeId, onConnect, isTarget, getState, setState, isValidConnection, edgeUpdaterType, onEdgeUpdateEnd, }) {\n    // when react-flow is used inside a shadow root we can't use document\n    const doc = getHostForElement(event.target);\n    const { connectionMode, domNode, autoPanOnConnect, connectionRadius, onConnectStart, panBy, getNodes, cancelConnection, } = getState();\n    let autoPanId = 0;\n    let closestHandle;\n    const { x, y } = getEventPosition(event);\n    const clickedHandle = doc?.elementFromPoint(x, y);\n    const handleType = getHandleType(edgeUpdaterType, clickedHandle);\n    const containerBounds = domNode?.getBoundingClientRect();\n    if (!containerBounds || !handleType) {\n        return;\n    }\n    let prevActiveHandle;\n    let connectionPosition = getEventPosition(event, containerBounds);\n    let autoPanStarted = false;\n    let connection = null;\n    let isValid = false;\n    let handleDomNode = null;\n    const handleLookup = getHandleLookup({\n        nodes: getNodes(),\n        nodeId,\n        handleId,\n        handleType,\n    });\n    // when the user is moving the mouse close to the edge of the canvas while connecting we move the canvas\n    const autoPan = () => {\n        if (!autoPanOnConnect) {\n            return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds);\n        panBy({ x: xMovement, y: yMovement });\n        autoPanId = requestAnimationFrame(autoPan);\n    };\n    setState({\n        connectionPosition,\n        connectionStatus: null,\n        // connectionNodeId etc will be removed in the next major in favor of connectionStartHandle\n        connectionNodeId: nodeId,\n        connectionHandleId: handleId,\n        connectionHandleType: handleType,\n        connectionStartHandle: {\n            nodeId,\n            handleId,\n            type: handleType,\n        },\n        connectionEndHandle: null,\n    });\n    onConnectStart?.(event, { nodeId, handleId, handleType });\n    function onPointerMove(event) {\n        const { transform } = getState();\n        connectionPosition = getEventPosition(event, containerBounds);\n        const { handle, validHandleResult } = getClosestHandle(event, doc, pointToRendererPoint(connectionPosition, transform, false, [1, 1]), connectionRadius, handleLookup, (handle) => isValidHandle(handle, connectionMode, nodeId, handleId, isTarget ? 'target' : 'source', isValidConnection, doc));\n        closestHandle = handle;\n        if (!autoPanStarted) {\n            autoPan();\n            autoPanStarted = true;\n        }\n        handleDomNode = validHandleResult.handleDomNode;\n        connection = validHandleResult.connection;\n        isValid = validHandleResult.isValid;\n        setState({\n            connectionPosition: closestHandle && isValid\n                ? rendererPointToPoint({\n                    x: closestHandle.x,\n                    y: closestHandle.y,\n                }, transform)\n                : connectionPosition,\n            connectionStatus: getConnectionStatus(!!closestHandle, isValid),\n            connectionEndHandle: validHandleResult.endHandle,\n        });\n        if (!closestHandle && !isValid && !handleDomNode) {\n            return resetRecentHandle(prevActiveHandle);\n        }\n        if (connection.source !== connection.target && handleDomNode) {\n            resetRecentHandle(prevActiveHandle);\n            prevActiveHandle = handleDomNode;\n            // @todo: remove the old class names \"react-flow__handle-\" in the next major version\n            handleDomNode.classList.add('connecting', 'react-flow__handle-connecting');\n            handleDomNode.classList.toggle('valid', isValid);\n            handleDomNode.classList.toggle('react-flow__handle-valid', isValid);\n        }\n    }\n    function onPointerUp(event) {\n        if ((closestHandle || handleDomNode) && connection && isValid) {\n            onConnect?.(connection);\n        }\n        // it's important to get a fresh reference from the store here\n        // in order to get the latest state of onConnectEnd\n        getState().onConnectEnd?.(event);\n        if (edgeUpdaterType) {\n            onEdgeUpdateEnd?.(event);\n        }\n        resetRecentHandle(prevActiveHandle);\n        cancelConnection();\n        cancelAnimationFrame(autoPanId);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener('mousemove', onPointerMove);\n        doc.removeEventListener('mouseup', onPointerUp);\n        doc.removeEventListener('touchmove', onPointerMove);\n        doc.removeEventListener('touchend', onPointerUp);\n    }\n    doc.addEventListener('mousemove', onPointerMove);\n    doc.addEventListener('mouseup', onPointerUp);\n    doc.addEventListener('touchmove', onPointerMove);\n    doc.addEventListener('touchend', onPointerUp);\n}\n\nconst alwaysValid = () => true;\nconst selector$f = (s) => ({\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick,\n    noPanClassName: s.noPanClassName,\n});\nconst connectingSelector = (nodeId, handleId, type) => (state) => {\n    const { connectionStartHandle: startHandle, connectionEndHandle: endHandle, connectionClickStartHandle: clickHandle, } = state;\n    return {\n        connecting: (startHandle?.nodeId === nodeId && startHandle?.handleId === handleId && startHandle?.type === type) ||\n            (endHandle?.nodeId === nodeId && endHandle?.handleId === handleId && endHandle?.type === type),\n        clickConnecting: clickHandle?.nodeId === nodeId && clickHandle?.handleId === handleId && clickHandle?.type === type,\n    };\n};\nconst Handle = forwardRef(({ type = 'source', position = Position.Top, isValidConnection, isConnectable = true, isConnectableStart = true, isConnectableEnd = true, id, onConnect, children, className, onMouseDown, onTouchStart, ...rest }, ref) => {\n    const handleId = id || null;\n    const isTarget = type === 'target';\n    const store = useStoreApi();\n    const nodeId = useNodeId();\n    const { connectOnClick, noPanClassName } = useStore(selector$f, shallow);\n    const { connecting, clickConnecting } = useStore(connectingSelector(nodeId, handleId, type), shallow);\n    if (!nodeId) {\n        store.getState().onError?.('010', errorMessages['error010']());\n    }\n    const onConnectExtended = (params) => {\n        const { defaultEdgeOptions, onConnect: onConnectAction, hasDefaultEdges } = store.getState();\n        const edgeParams = {\n            ...defaultEdgeOptions,\n            ...params,\n        };\n        if (hasDefaultEdges) {\n            const { edges, setEdges } = store.getState();\n            setEdges(addEdge(edgeParams, edges));\n        }\n        onConnectAction?.(edgeParams);\n        onConnect?.(edgeParams);\n    };\n    const onPointerDown = (event) => {\n        if (!nodeId) {\n            return;\n        }\n        const isMouseTriggered = isMouseEvent(event);\n        if (isConnectableStart && ((isMouseTriggered && event.button === 0) || !isMouseTriggered)) {\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectExtended,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection: isValidConnection || store.getState().isValidConnection || alwaysValid,\n            });\n        }\n        if (isMouseTriggered) {\n            onMouseDown?.(event);\n        }\n        else {\n            onTouchStart?.(event);\n        }\n    };\n    const onClick = (event) => {\n        const { onClickConnectStart, onClickConnectEnd, connectionClickStartHandle, connectionMode, isValidConnection: isValidConnectionStore, } = store.getState();\n        if (!nodeId || (!connectionClickStartHandle && !isConnectableStart)) {\n            return;\n        }\n        if (!connectionClickStartHandle) {\n            onClickConnectStart?.(event, { nodeId, handleId, handleType: type });\n            store.setState({ connectionClickStartHandle: { nodeId, type, handleId } });\n            return;\n        }\n        const doc = getHostForElement(event.target);\n        const isValidConnectionHandler = isValidConnection || isValidConnectionStore || alwaysValid;\n        const { connection, isValid } = isValidHandle({\n            nodeId,\n            id: handleId,\n            type,\n        }, connectionMode, connectionClickStartHandle.nodeId, connectionClickStartHandle.handleId || null, connectionClickStartHandle.type, isValidConnectionHandler, doc);\n        if (isValid) {\n            onConnectExtended(connection);\n        }\n        onClickConnectEnd?.(event);\n        store.setState({ connectionClickStartHandle: null });\n    };\n    return (React.createElement(\"div\", { \"data-handleid\": handleId, \"data-nodeid\": nodeId, \"data-handlepos\": position, \"data-id\": `${nodeId}-${handleId}-${type}`, className: cc([\n            'react-flow__handle',\n            `react-flow__handle-${position}`,\n            'nodrag',\n            noPanClassName,\n            className,\n            {\n                source: !isTarget,\n                target: isTarget,\n                connectable: isConnectable,\n                connectablestart: isConnectableStart,\n                connectableend: isConnectableEnd,\n                connecting: clickConnecting,\n                // this class is used to style the handle when the user is connecting\n                connectionindicator: isConnectable && ((isConnectableStart && !connecting) || (isConnectableEnd && connecting)),\n            },\n        ]), onMouseDown: onPointerDown, onTouchStart: onPointerDown, onClick: connectOnClick ? onClick : undefined, ref: ref, ...rest }, children));\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = memo(Handle);\n\nconst DefaultNode = ({ data, isConnectable, targetPosition = Position.Top, sourcePosition = Position.Bottom, }) => {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }),\n        data?.label,\n        React.createElement(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })));\n};\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = memo(DefaultNode);\n\nconst InputNode = ({ data, isConnectable, sourcePosition = Position.Bottom }) => (React.createElement(React.Fragment, null,\n    data?.label,\n    React.createElement(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })));\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = memo(InputNode);\n\nconst OutputNode = ({ data, isConnectable, targetPosition = Position.Top }) => (React.createElement(React.Fragment, null,\n    React.createElement(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }),\n    data?.label));\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = memo(OutputNode);\n\nconst GroupNode = () => null;\nGroupNode.displayName = 'GroupNode';\n\nconst selector$e = (s) => ({\n    selectedNodes: s.getNodes().filter((n) => n.selected),\n    selectedEdges: s.edges.filter((e) => e.selected),\n});\nconst selectId = (obj) => obj.id;\nfunction areEqual(a, b) {\n    return (shallow(a.selectedNodes.map(selectId), b.selectedNodes.map(selectId)) &&\n        shallow(a.selectedEdges.map(selectId), b.selectedEdges.map(selectId)));\n}\n// This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\nconst SelectionListener = memo(({ onSelectionChange }) => {\n    const store = useStoreApi();\n    const { selectedNodes, selectedEdges } = useStore(selector$e, areEqual);\n    useEffect(() => {\n        const params = { nodes: selectedNodes, edges: selectedEdges };\n        onSelectionChange?.(params);\n        store.getState().onSelectionChange.forEach((fn) => fn(params));\n    }, [selectedNodes, selectedEdges, onSelectionChange]);\n    return null;\n});\nSelectionListener.displayName = 'SelectionListener';\nconst changeSelector = (s) => !!s.onSelectionChange;\nfunction Wrapper$1({ onSelectionChange }) {\n    const storeHasSelectionChange = useStore(changeSelector);\n    if (onSelectionChange || storeHasSelectionChange) {\n        return React.createElement(SelectionListener, { onSelectionChange: onSelectionChange });\n    }\n    return null;\n}\n\nconst selector$d = (s) => ({\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset,\n});\nfunction useStoreUpdater(value, setStoreState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setStoreState(value);\n        }\n    }, [value]);\n}\n// updates with values in store that don't have a dedicated setter function\nfunction useDirectStoreUpdater(key, value, setState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setState({ [key]: value });\n        }\n    }, [value]);\n}\nconst StoreUpdater = ({ nodes, edges, defaultNodes, defaultEdges, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, nodesDraggable, nodesConnectable, nodesFocusable, edgesFocusable, edgesUpdatable, elevateNodesOnSelect, minZoom, maxZoom, nodeExtent, onNodesChange, onEdgesChange, elementsSelectable, connectionMode, snapGrid, snapToGrid, translateExtent, connectOnClick, defaultEdgeOptions, fitView, fitViewOptions, onNodesDelete, onEdgesDelete, onNodeDrag, onNodeDragStart, onNodeDragStop, onSelectionDrag, onSelectionDragStart, onSelectionDragStop, noPanClassName, nodeOrigin, rfId, autoPanOnConnect, autoPanOnNodeDrag, onError, connectionRadius, isValidConnection, nodeDragThreshold, }) => {\n    const { setNodes, setEdges, setDefaultNodesAndEdges, setMinZoom, setMaxZoom, setTranslateExtent, setNodeExtent, reset, } = useStore(selector$d, shallow);\n    const store = useStoreApi();\n    useEffect(() => {\n        const edgesWithDefaults = defaultEdges?.map((e) => ({ ...e, ...defaultEdgeOptions }));\n        setDefaultNodesAndEdges(defaultNodes, edgesWithDefaults);\n        return () => {\n            reset();\n        };\n    }, []);\n    useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n    useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n    useDirectStoreUpdater('onConnect', onConnect, store.setState);\n    useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n    useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n    useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n    useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n    useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n    useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n    useDirectStoreUpdater('nodesFocusable', nodesFocusable, store.setState);\n    useDirectStoreUpdater('edgesFocusable', edgesFocusable, store.setState);\n    useDirectStoreUpdater('edgesUpdatable', edgesUpdatable, store.setState);\n    useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n    useDirectStoreUpdater('elevateNodesOnSelect', elevateNodesOnSelect, store.setState);\n    useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n    useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n    useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n    useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n    useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n    useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n    useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n    useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n    useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n    useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n    useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n    useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n    useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n    useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n    useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n    useDirectStoreUpdater('noPanClassName', noPanClassName, store.setState);\n    useDirectStoreUpdater('nodeOrigin', nodeOrigin, store.setState);\n    useDirectStoreUpdater('rfId', rfId, store.setState);\n    useDirectStoreUpdater('autoPanOnConnect', autoPanOnConnect, store.setState);\n    useDirectStoreUpdater('autoPanOnNodeDrag', autoPanOnNodeDrag, store.setState);\n    useDirectStoreUpdater('onError', onError, store.setState);\n    useDirectStoreUpdater('connectionRadius', connectionRadius, store.setState);\n    useDirectStoreUpdater('isValidConnection', isValidConnection, store.setState);\n    useDirectStoreUpdater('nodeDragThreshold', nodeDragThreshold, store.setState);\n    useStoreUpdater(nodes, setNodes);\n    useStoreUpdater(edges, setEdges);\n    useStoreUpdater(minZoom, setMinZoom);\n    useStoreUpdater(maxZoom, setMaxZoom);\n    useStoreUpdater(translateExtent, setTranslateExtent);\n    useStoreUpdater(nodeExtent, setNodeExtent);\n    return null;\n};\n\nconst style = { display: 'none' };\nconst ariaLiveStyle = {\n    position: 'absolute',\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0px, 0px, 0px, 0px)',\n    clipPath: 'inset(100%)',\n};\nconst ARIA_NODE_DESC_KEY = 'react-flow__node-desc';\nconst ARIA_EDGE_DESC_KEY = 'react-flow__edge-desc';\nconst ARIA_LIVE_MESSAGE = 'react-flow__aria-live';\nconst selector$c = (s) => s.ariaLiveMessage;\nfunction AriaLiveMessage({ rfId }) {\n    const ariaLiveMessage = useStore(selector$c);\n    return (React.createElement(\"div\", { id: `${ARIA_LIVE_MESSAGE}-${rfId}`, \"aria-live\": \"assertive\", \"aria-atomic\": \"true\", style: ariaLiveStyle }, ariaLiveMessage));\n}\nfunction A11yDescriptions({ rfId, disableKeyboardA11y }) {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { id: `${ARIA_NODE_DESC_KEY}-${rfId}`, style: style },\n            \"Press enter or space to select a node.\",\n            !disableKeyboardA11y && 'You can then use the arrow keys to move the node around.',\n            \" Press delete to remove it and escape to cancel.\",\n            ' '),\n        React.createElement(\"div\", { id: `${ARIA_EDGE_DESC_KEY}-${rfId}`, style: style }, \"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.\"),\n        !disableKeyboardA11y && React.createElement(AriaLiveMessage, { rfId: rfId })));\n}\n\n// the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilities. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\nvar useKeyPress = (keyCode = null, options = { actInsideInputWithModifier: true }) => {\n    const [keyPressed, setKeyPressed] = useState(false);\n    // we need to remember if a modifier key is pressed in order to track it\n    const modifierPressed = useRef(false);\n    // we need to remember the pressed keys in order to support combinations\n    const pressedKeys = useRef(new Set([]));\n    // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n    // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n    // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n    // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n    // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n    // we can't find it in the list of keysToWatch.\n    const [keyCodes, keysToWatch] = useMemo(() => {\n        if (keyCode !== null) {\n            const keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n            const keys = keyCodeArr.filter((kc) => typeof kc === 'string').map((kc) => kc.split('+'));\n            const keysFlat = keys.reduce((res, item) => res.concat(...item), []);\n            return [keys, keysFlat];\n        }\n        return [[], []];\n    }, [keyCode]);\n    useEffect(() => {\n        const doc = typeof document !== 'undefined' ? document : null;\n        const target = options?.target || doc;\n        if (keyCode !== null) {\n            const downHandler = (event) => {\n                modifierPressed.current = event.ctrlKey || event.metaKey || event.shiftKey;\n                const preventAction = (!modifierPressed.current || (modifierPressed.current && !options.actInsideInputWithModifier)) &&\n                    isInputDOMNode(event);\n                if (preventAction) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                pressedKeys.current.add(event[keyOrCode]);\n                if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n                    event.preventDefault();\n                    setKeyPressed(true);\n                }\n            };\n            const upHandler = (event) => {\n                const preventAction = (!modifierPressed.current || (modifierPressed.current && !options.actInsideInputWithModifier)) &&\n                    isInputDOMNode(event);\n                if (preventAction) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n                    setKeyPressed(false);\n                    pressedKeys.current.clear();\n                }\n                else {\n                    pressedKeys.current.delete(event[keyOrCode]);\n                }\n                // fix for Mac: when cmd key is pressed, keyup is not triggered for any other key, see: https://stackoverflow.com/questions/27380018/when-cmd-key-is-kept-pressed-keyup-is-not-triggered-for-any-other-key\n                if (event.key === 'Meta') {\n                    pressedKeys.current.clear();\n                }\n                modifierPressed.current = false;\n            };\n            const resetHandler = () => {\n                pressedKeys.current.clear();\n                setKeyPressed(false);\n            };\n            target?.addEventListener('keydown', downHandler);\n            target?.addEventListener('keyup', upHandler);\n            window.addEventListener('blur', resetHandler);\n            return () => {\n                target?.removeEventListener('keydown', downHandler);\n                target?.removeEventListener('keyup', upHandler);\n                window.removeEventListener('blur', resetHandler);\n            };\n        }\n    }, [keyCode, setKeyPressed]);\n    return keyPressed;\n};\n// utils\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n    return (keyCodes\n        // we only want to compare same sizes of keyCode definitions\n        // and pressed keys. When the user specified 'Meta' as a key somewhere\n        // this would also be truthy without this filter when user presses 'Meta' + 'r'\n        .filter((keys) => isUp || keys.length === pressedKeys.size)\n        // since we want to support multiple possibilities only one of the\n        // combinations need to be part of the pressed keys\n        .some((keys) => keys.every((k) => pressedKeys.has(k))));\n}\nfunction useKeyOrCode(eventCode, keysToWatch) {\n    return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\n\nfunction calculateXYZPosition(node, nodeInternals, result, nodeOrigin) {\n    if (!node.parentNode) {\n        return result;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    const parentNodePosition = getNodePositionWithOrigin(parentNode, nodeOrigin);\n    return calculateXYZPosition(parentNode, nodeInternals, {\n        x: (result.x ?? 0) + parentNodePosition.x,\n        y: (result.y ?? 0) + parentNodePosition.y,\n        z: (parentNode[internalsSymbol]?.z ?? 0) > (result.z ?? 0) ? parentNode[internalsSymbol]?.z ?? 0 : result.z ?? 0,\n    }, nodeOrigin);\n}\nfunction updateAbsoluteNodePositions(nodeInternals, nodeOrigin, parentNodes) {\n    nodeInternals.forEach((node) => {\n        if (node.parentNode && !nodeInternals.has(node.parentNode)) {\n            throw new Error(`Parent node ${node.parentNode} not found`);\n        }\n        if (node.parentNode || parentNodes?.[node.id]) {\n            const { x, y, z } = calculateXYZPosition(node, nodeInternals, {\n                ...node.position,\n                z: node[internalsSymbol]?.z ?? 0,\n            }, nodeOrigin);\n            node.positionAbsolute = {\n                x,\n                y,\n            };\n            node[internalsSymbol].z = z;\n            if (parentNodes?.[node.id]) {\n                node[internalsSymbol].isParent = true;\n            }\n        }\n    });\n}\nfunction createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) {\n    const nextNodeInternals = new Map();\n    const parentNodes = {};\n    const selectedNodeZ = elevateNodesOnSelect ? 1000 : 0;\n    nodes.forEach((node) => {\n        const z = (isNumeric(node.zIndex) ? node.zIndex : 0) + (node.selected ? selectedNodeZ : 0);\n        const currInternals = nodeInternals.get(node.id);\n        const internals = {\n            ...node,\n            positionAbsolute: {\n                x: node.position.x,\n                y: node.position.y,\n            },\n        };\n        if (node.parentNode) {\n            parentNodes[node.parentNode] = true;\n        }\n        const resetHandleBounds = currInternals?.type && currInternals?.type !== node.type;\n        Object.defineProperty(internals, internalsSymbol, {\n            enumerable: false,\n            value: {\n                handleBounds: resetHandleBounds ? undefined : currInternals?.[internalsSymbol]?.handleBounds,\n                z,\n            },\n        });\n        nextNodeInternals.set(node.id, internals);\n    });\n    updateAbsoluteNodePositions(nextNodeInternals, nodeOrigin, parentNodes);\n    return nextNodeInternals;\n}\nfunction fitView(get, options = {}) {\n    const { getNodes, width, height, minZoom, maxZoom, d3Zoom, d3Selection, fitViewOnInitDone, fitViewOnInit, nodeOrigin, } = get();\n    const isInitialFitView = options.initial && !fitViewOnInitDone && fitViewOnInit;\n    const d3initialized = d3Zoom && d3Selection;\n    if (d3initialized && (isInitialFitView || !options.initial)) {\n        const nodes = getNodes().filter((n) => {\n            const isVisible = options.includeHiddenNodes ? n.width && n.height : !n.hidden;\n            if (options.nodes?.length) {\n                return isVisible && options.nodes.some((optionNode) => optionNode.id === n.id);\n            }\n            return isVisible;\n        });\n        const nodesInitialized = nodes.every((n) => n.width && n.height);\n        if (nodes.length > 0 && nodesInitialized) {\n            const bounds = getNodesBounds(nodes, nodeOrigin);\n            const { x, y, zoom } = getViewportForBounds(bounds, width, height, options.minZoom ?? minZoom, options.maxZoom ?? maxZoom, options.padding ?? 0.1);\n            const nextTransform = zoomIdentity.translate(x, y).scale(zoom);\n            if (typeof options.duration === 'number' && options.duration > 0) {\n                d3Zoom.transform(getD3Transition(d3Selection, options.duration), nextTransform);\n            }\n            else {\n                d3Zoom.transform(d3Selection, nextTransform);\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {\n    nodeChanges.forEach((change) => {\n        const node = nodeInternals.get(change.id);\n        if (node) {\n            nodeInternals.set(node.id, {\n                ...node,\n                [internalsSymbol]: node[internalsSymbol],\n                selected: change.selected,\n            });\n        }\n    });\n    return new Map(nodeInternals);\n}\nfunction handleControlledEdgeSelectionChange(edgeChanges, edges) {\n    return edges.map((e) => {\n        const change = edgeChanges.find((change) => change.id === e.id);\n        if (change) {\n            e.selected = change.selected;\n        }\n        return e;\n    });\n}\nfunction updateNodesAndEdgesSelections({ changedNodes, changedEdges, get, set }) {\n    const { nodeInternals, edges, onNodesChange, onEdgesChange, hasDefaultNodes, hasDefaultEdges } = get();\n    if (changedNodes?.length) {\n        if (hasDefaultNodes) {\n            set({ nodeInternals: handleControlledNodeSelectionChange(changedNodes, nodeInternals) });\n        }\n        onNodesChange?.(changedNodes);\n    }\n    if (changedEdges?.length) {\n        if (hasDefaultEdges) {\n            set({ edges: handleControlledEdgeSelectionChange(changedEdges, edges) });\n        }\n        onEdgesChange?.(changedEdges);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => { };\nconst initialViewportHelper = {\n    zoomIn: noop,\n    zoomOut: noop,\n    zoomTo: noop,\n    getZoom: () => 1,\n    setViewport: noop,\n    getViewport: () => ({ x: 0, y: 0, zoom: 1 }),\n    fitView: () => false,\n    setCenter: noop,\n    fitBounds: noop,\n    project: (position) => position,\n    screenToFlowPosition: (position) => position,\n    flowToScreenPosition: (position) => position,\n    viewportInitialized: false,\n};\nconst selector$b = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n});\nconst useViewportHelper = () => {\n    const store = useStoreApi();\n    const { d3Zoom, d3Selection } = useStore(selector$b, shallow);\n    const viewportHelperFunctions = useMemo(() => {\n        if (d3Selection && d3Zoom) {\n            return {\n                zoomIn: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1.2),\n                zoomOut: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1 / 1.2),\n                zoomTo: (zoomLevel, options) => d3Zoom.scaleTo(getD3Transition(d3Selection, options?.duration), zoomLevel),\n                getZoom: () => store.getState().transform[2],\n                setViewport: (transform, options) => {\n                    const [x, y, zoom] = store.getState().transform;\n                    const nextTransform = zoomIdentity\n                        .translate(transform.x ?? x, transform.y ?? y)\n                        .scale(transform.zoom ?? zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), nextTransform);\n                },\n                getViewport: () => {\n                    const [x, y, zoom] = store.getState().transform;\n                    return { x, y, zoom };\n                },\n                fitView: (options) => fitView(store.getState, options),\n                setCenter: (x, y, options) => {\n                    const { width, height, maxZoom } = store.getState();\n                    const nextZoom = typeof options?.zoom !== 'undefined' ? options.zoom : maxZoom;\n                    const centerX = width / 2 - x * nextZoom;\n                    const centerY = height / 2 - y * nextZoom;\n                    const transform = zoomIdentity.translate(centerX, centerY).scale(nextZoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                fitBounds: (bounds, options) => {\n                    const { width, height, minZoom, maxZoom } = store.getState();\n                    const { x, y, zoom } = getViewportForBounds(bounds, width, height, minZoom, maxZoom, options?.padding ?? 0.1);\n                    const transform = zoomIdentity.translate(x, y).scale(zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                // @deprecated Use `screenToFlowPosition`.\n                project: (position) => {\n                    const { transform, snapToGrid, snapGrid } = store.getState();\n                    console.warn('[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position');\n                    return pointToRendererPoint(position, transform, snapToGrid, snapGrid);\n                },\n                screenToFlowPosition: (position) => {\n                    const { transform, snapToGrid, snapGrid, domNode } = store.getState();\n                    if (!domNode) {\n                        return position;\n                    }\n                    const { x: domX, y: domY } = domNode.getBoundingClientRect();\n                    const relativePosition = {\n                        x: position.x - domX,\n                        y: position.y - domY,\n                    };\n                    return pointToRendererPoint(relativePosition, transform, snapToGrid, snapGrid);\n                },\n                flowToScreenPosition: (position) => {\n                    const { transform, domNode } = store.getState();\n                    if (!domNode) {\n                        return position;\n                    }\n                    const { x: domX, y: domY } = domNode.getBoundingClientRect();\n                    const rendererPosition = rendererPointToPoint(position, transform);\n                    return {\n                        x: rendererPosition.x + domX,\n                        y: rendererPosition.y + domY,\n                    };\n                },\n                viewportInitialized: true,\n            };\n        }\n        return initialViewportHelper;\n    }, [d3Zoom, d3Selection]);\n    return viewportHelperFunctions;\n};\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nfunction useReactFlow() {\n    const viewportHelper = useViewportHelper();\n    const store = useStoreApi();\n    const getNodes = useCallback(() => {\n        return store\n            .getState()\n            .getNodes()\n            .map((n) => ({ ...n }));\n    }, []);\n    const getNode = useCallback((id) => {\n        return store.getState().nodeInternals.get(id);\n    }, []);\n    const getEdges = useCallback(() => {\n        const { edges = [] } = store.getState();\n        return edges.map((e) => ({ ...e }));\n    }, []);\n    const getEdge = useCallback((id) => {\n        const { edges = [] } = store.getState();\n        return edges.find((e) => e.id === id);\n    }, []);\n    const setNodes = useCallback((payload) => {\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        const nodes = getNodes();\n        const nextNodes = typeof payload === 'function' ? payload(nodes) : payload;\n        if (hasDefaultNodes) {\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nextNodes.length === 0\n                ? nodes.map((node) => ({ type: 'remove', id: node.id }))\n                : nextNodes.map((node) => ({ item: node, type: 'reset' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const setEdges = useCallback((payload) => {\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        const nextEdges = typeof payload === 'function' ? payload(edges) : payload;\n        if (hasDefaultEdges) {\n            setEdges(nextEdges);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.length === 0\n                ? edges.map((edge) => ({ type: 'remove', id: edge.id }))\n                : nextEdges.map((edge) => ({ item: edge, type: 'reset' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const addNodes = useCallback((payload) => {\n        const nodes = Array.isArray(payload) ? payload : [payload];\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        if (hasDefaultNodes) {\n            const currentNodes = getNodes();\n            const nextNodes = [...currentNodes, ...nodes];\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nodes.map((node) => ({ item: node, type: 'add' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const addEdges = useCallback((payload) => {\n        const nextEdges = Array.isArray(payload) ? payload : [payload];\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        if (hasDefaultEdges) {\n            setEdges([...edges, ...nextEdges]);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.map((edge) => ({ item: edge, type: 'add' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const toObject = useCallback(() => {\n        const { getNodes, edges = [], transform } = store.getState();\n        const [x, y, zoom] = transform;\n        return {\n            nodes: getNodes().map((n) => ({ ...n })),\n            edges: edges.map((e) => ({ ...e })),\n            viewport: {\n                x,\n                y,\n                zoom,\n            },\n        };\n    }, []);\n    const deleteElements = useCallback(({ nodes: nodesDeleted, edges: edgesDeleted }) => {\n        const { nodeInternals, getNodes, edges, hasDefaultNodes, hasDefaultEdges, onNodesDelete, onEdgesDelete, onNodesChange, onEdgesChange, } = store.getState();\n        const nodeIds = (nodesDeleted || []).map((node) => node.id);\n        const edgeIds = (edgesDeleted || []).map((edge) => edge.id);\n        const nodesToRemove = getNodes().reduce((res, node) => {\n            const parentHit = !nodeIds.includes(node.id) && node.parentNode && res.find((n) => n.id === node.parentNode);\n            const deletable = typeof node.deletable === 'boolean' ? node.deletable : true;\n            if (deletable && (nodeIds.includes(node.id) || parentHit)) {\n                res.push(node);\n            }\n            return res;\n        }, []);\n        const deletableEdges = edges.filter((e) => (typeof e.deletable === 'boolean' ? e.deletable : true));\n        const initialHitEdges = deletableEdges.filter((e) => edgeIds.includes(e.id));\n        if (nodesToRemove || initialHitEdges) {\n            const connectedEdges = getConnectedEdges(nodesToRemove, deletableEdges);\n            const edgesToRemove = [...initialHitEdges, ...connectedEdges];\n            const edgeIdsToRemove = edgesToRemove.reduce((res, edge) => {\n                if (!res.includes(edge.id)) {\n                    res.push(edge.id);\n                }\n                return res;\n            }, []);\n            if (hasDefaultEdges || hasDefaultNodes) {\n                if (hasDefaultEdges) {\n                    store.setState({\n                        edges: edges.filter((e) => !edgeIdsToRemove.includes(e.id)),\n                    });\n                }\n                if (hasDefaultNodes) {\n                    nodesToRemove.forEach((node) => {\n                        nodeInternals.delete(node.id);\n                    });\n                    store.setState({\n                        nodeInternals: new Map(nodeInternals),\n                    });\n                }\n            }\n            if (edgeIdsToRemove.length > 0) {\n                onEdgesDelete?.(edgesToRemove);\n                if (onEdgesChange) {\n                    onEdgesChange(edgeIdsToRemove.map((id) => ({\n                        id,\n                        type: 'remove',\n                    })));\n                }\n            }\n            if (nodesToRemove.length > 0) {\n                onNodesDelete?.(nodesToRemove);\n                if (onNodesChange) {\n                    const nodeChanges = nodesToRemove.map((n) => ({ id: n.id, type: 'remove' }));\n                    onNodesChange(nodeChanges);\n                }\n            }\n        }\n    }, []);\n    const getNodeRect = useCallback((nodeOrRect) => {\n        const isRect = isRectObject(nodeOrRect);\n        const node = isRect ? null : store.getState().nodeInternals.get(nodeOrRect.id);\n        if (!isRect && !node) {\n            return [null, null, isRect];\n        }\n        const nodeRect = isRect ? nodeOrRect : nodeToRect(node);\n        return [nodeRect, node, isRect];\n    }, []);\n    const getIntersectingNodes = useCallback((nodeOrRect, partially = true, nodes) => {\n        const [nodeRect, node, isRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return [];\n        }\n        return (nodes || store.getState().getNodes()).filter((n) => {\n            if (!isRect && (n.id === node.id || !n.positionAbsolute)) {\n                return false;\n            }\n            const currNodeRect = nodeToRect(n);\n            const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n            const partiallyVisible = partially && overlappingArea > 0;\n            return partiallyVisible || overlappingArea >= nodeRect.width * nodeRect.height;\n        });\n    }, []);\n    const isNodeIntersecting = useCallback((nodeOrRect, area, partially = true) => {\n        const [nodeRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return false;\n        }\n        const overlappingArea = getOverlappingArea(nodeRect, area);\n        const partiallyVisible = partially && overlappingArea > 0;\n        return partiallyVisible || overlappingArea >= nodeRect.width * nodeRect.height;\n    }, []);\n    return useMemo(() => {\n        return {\n            ...viewportHelper,\n            getNodes,\n            getNode,\n            getEdges,\n            getEdge,\n            setNodes,\n            setEdges,\n            addNodes,\n            addEdges,\n            toObject,\n            deleteElements,\n            getIntersectingNodes,\n            isNodeIntersecting,\n        };\n    }, [\n        viewportHelper,\n        getNodes,\n        getNode,\n        getEdges,\n        getEdge,\n        setNodes,\n        setEdges,\n        addNodes,\n        addEdges,\n        toObject,\n        deleteElements,\n        getIntersectingNodes,\n        isNodeIntersecting,\n    ]);\n}\n\nconst deleteKeyOptions = { actInsideInputWithModifier: false };\nvar useGlobalKeyHandler = ({ deleteKeyCode, multiSelectionKeyCode }) => {\n    const store = useStoreApi();\n    const { deleteElements } = useReactFlow();\n    const deleteKeyPressed = useKeyPress(deleteKeyCode, deleteKeyOptions);\n    const multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n    useEffect(() => {\n        if (deleteKeyPressed) {\n            const { edges, getNodes } = store.getState();\n            const selectedNodes = getNodes().filter((node) => node.selected);\n            const selectedEdges = edges.filter((edge) => edge.selected);\n            deleteElements({ nodes: selectedNodes, edges: selectedEdges });\n            store.setState({ nodesSelectionActive: false });\n        }\n    }, [deleteKeyPressed]);\n    useEffect(() => {\n        store.setState({ multiSelectionActive: multiSelectionKeyPressed });\n    }, [multiSelectionKeyPressed]);\n};\n\nfunction useResizeHandler(rendererNode) {\n    const store = useStoreApi();\n    useEffect(() => {\n        let resizeObserver;\n        const updateDimensions = () => {\n            if (!rendererNode.current) {\n                return;\n            }\n            const size = getDimensions(rendererNode.current);\n            if (size.height === 0 || size.width === 0) {\n                store.getState().onError?.('004', errorMessages['error004']());\n            }\n            store.setState({ width: size.width || 500, height: size.height || 500 });\n        };\n        updateDimensions();\n        window.addEventListener('resize', updateDimensions);\n        if (rendererNode.current) {\n            resizeObserver = new ResizeObserver(() => updateDimensions());\n            resizeObserver.observe(rendererNode.current);\n        }\n        return () => {\n            window.removeEventListener('resize', updateDimensions);\n            if (resizeObserver && rendererNode.current) {\n                resizeObserver.unobserve(rendererNode.current);\n            }\n        };\n    }, []);\n}\n\nconst containerStyle = {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n};\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nconst viewChanged = (prevViewport, eventTransform) => prevViewport.x !== eventTransform.x || prevViewport.y !== eventTransform.y || prevViewport.zoom !== eventTransform.k;\nconst eventToFlowTransform = (eventTransform) => ({\n    x: eventTransform.x,\n    y: eventTransform.y,\n    zoom: eventTransform.k,\n});\nconst isWrappedWithClass = (event, className) => event.target.closest(`.${className}`);\nconst isRightClickPan = (panOnDrag, usedButton) => usedButton === 2 && Array.isArray(panOnDrag) && panOnDrag.includes(2);\nconst wheelDelta = (event) => {\n    const factor = event.ctrlKey && isMacOs() ? 10 : 1;\n    return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * factor;\n};\nconst selector$a = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler,\n    userSelectionActive: s.userSelectionActive,\n});\nconst ZoomPane = ({ onMove, onMoveStart, onMoveEnd, onPaneContextMenu, zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, elementsSelectable, panOnDrag = true, defaultViewport, translateExtent, minZoom, maxZoom, zoomActivationKeyCode, preventScrolling = true, children, noWheelClassName, noPanClassName, }) => {\n    const timerId = useRef();\n    const store = useStoreApi();\n    const isZoomingOrPanning = useRef(false);\n    const zoomedWithRightMouseButton = useRef(false);\n    const zoomPane = useRef(null);\n    const prevTransform = useRef({ x: 0, y: 0, zoom: 0 });\n    const { d3Zoom, d3Selection, d3ZoomHandler, userSelectionActive } = useStore(selector$a, shallow);\n    const zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const mouseButton = useRef(0);\n    const isPanScrolling = useRef(false);\n    const panScrollTimeout = useRef();\n    useResizeHandler(zoomPane);\n    useEffect(() => {\n        if (zoomPane.current) {\n            const bbox = zoomPane.current.getBoundingClientRect();\n            const d3ZoomInstance = zoom().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n            const selection = select(zoomPane.current).call(d3ZoomInstance);\n            const updatedTransform = zoomIdentity\n                .translate(defaultViewport.x, defaultViewport.y)\n                .scale(clamp(defaultViewport.zoom, minZoom, maxZoom));\n            const extent = [\n                [0, 0],\n                [bbox.width, bbox.height],\n            ];\n            const constrainedTransform = d3ZoomInstance.constrain()(updatedTransform, extent, translateExtent);\n            d3ZoomInstance.transform(selection, constrainedTransform);\n            d3ZoomInstance.wheelDelta(wheelDelta);\n            store.setState({\n                d3Zoom: d3ZoomInstance,\n                d3Selection: selection,\n                d3ZoomHandler: selection.on('wheel.zoom'),\n                // we need to pass transform because zoom handler is not registered when we set the initial transform\n                transform: [constrainedTransform.x, constrainedTransform.y, constrainedTransform.k],\n                domNode: zoomPane.current.closest('.react-flow'),\n            });\n        }\n    }, []);\n    useEffect(() => {\n        if (d3Selection && d3Zoom) {\n            if (panOnScroll && !zoomActivationKeyPressed && !userSelectionActive) {\n                d3Selection.on('wheel.zoom', (event) => {\n                    if (isWrappedWithClass(event, noWheelClassName)) {\n                        return false;\n                    }\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    const currentZoom = d3Selection.property('__zoom').k || 1;\n                    const _isMacOs = isMacOs();\n                    // macos sets ctrlKey=true for pinch gesture on a trackpad\n                    if (event.ctrlKey && zoomOnPinch && _isMacOs) {\n                        const point = pointer(event);\n                        const pinchDelta = wheelDelta(event);\n                        const zoom = currentZoom * Math.pow(2, pinchDelta);\n                        // @ts-ignore\n                        d3Zoom.scaleTo(d3Selection, zoom, point, event);\n                        return;\n                    }\n                    // increase scroll speed in firefox\n                    // firefox: deltaMode === 1; chrome: deltaMode === 0\n                    const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n                    let deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n                    let deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n                    // this enables vertical scrolling with shift + scroll on windows\n                    if (!_isMacOs && event.shiftKey && panOnScrollMode !== PanOnScrollMode.Vertical) {\n                        deltaX = event.deltaY * deltaNormalize;\n                        deltaY = 0;\n                    }\n                    d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed, \n                    // @ts-ignore\n                    { internal: true });\n                    const nextViewport = eventToFlowTransform(d3Selection.property('__zoom'));\n                    const { onViewportChangeStart, onViewportChange, onViewportChangeEnd } = store.getState();\n                    clearTimeout(panScrollTimeout.current);\n                    // for pan on scroll we need to handle the event calls on our own\n                    // we can't use the start, zoom and end events from d3-zoom\n                    // because start and move gets called on every scroll event and not once at the beginning\n                    if (!isPanScrolling.current) {\n                        isPanScrolling.current = true;\n                        onMoveStart?.(event, nextViewport);\n                        onViewportChangeStart?.(nextViewport);\n                    }\n                    if (isPanScrolling.current) {\n                        onMove?.(event, nextViewport);\n                        onViewportChange?.(nextViewport);\n                        panScrollTimeout.current = setTimeout(() => {\n                            onMoveEnd?.(event, nextViewport);\n                            onViewportChangeEnd?.(nextViewport);\n                            isPanScrolling.current = false;\n                        }, 150);\n                    }\n                }, { passive: false });\n            }\n            else if (typeof d3ZoomHandler !== 'undefined') {\n                d3Selection.on('wheel.zoom', function (event, d) {\n                    if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n                        return null;\n                    }\n                    event.preventDefault();\n                    d3ZoomHandler.call(this, event, d);\n                }, { passive: false });\n            }\n        }\n    }, [\n        userSelectionActive,\n        panOnScroll,\n        panOnScrollMode,\n        d3Selection,\n        d3Zoom,\n        d3ZoomHandler,\n        zoomActivationKeyPressed,\n        zoomOnPinch,\n        preventScrolling,\n        noWheelClassName,\n        onMoveStart,\n        onMove,\n        onMoveEnd,\n    ]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('start', (event) => {\n                if (!event.sourceEvent || event.sourceEvent.internal) {\n                    return null;\n                }\n                // we need to remember it here, because it's always 0 in the \"zoom\" event\n                mouseButton.current = event.sourceEvent?.button;\n                const { onViewportChangeStart } = store.getState();\n                const flowTransform = eventToFlowTransform(event.transform);\n                isZoomingOrPanning.current = true;\n                prevTransform.current = flowTransform;\n                if (event.sourceEvent?.type === 'mousedown') {\n                    store.setState({ paneDragging: true });\n                }\n                onViewportChangeStart?.(flowTransform);\n                onMoveStart?.(event.sourceEvent, flowTransform);\n            });\n        }\n    }, [d3Zoom, onMoveStart]);\n    useEffect(() => {\n        if (d3Zoom) {\n            if (userSelectionActive && !isZoomingOrPanning.current) {\n                d3Zoom.on('zoom', null);\n            }\n            else if (!userSelectionActive) {\n                d3Zoom.on('zoom', (event) => {\n                    const { onViewportChange } = store.getState();\n                    store.setState({ transform: [event.transform.x, event.transform.y, event.transform.k] });\n                    zoomedWithRightMouseButton.current = !!(onPaneContextMenu && isRightClickPan(panOnDrag, mouseButton.current ?? 0));\n                    if ((onMove || onViewportChange) && !event.sourceEvent?.internal) {\n                        const flowTransform = eventToFlowTransform(event.transform);\n                        onViewportChange?.(flowTransform);\n                        onMove?.(event.sourceEvent, flowTransform);\n                    }\n                });\n            }\n        }\n    }, [userSelectionActive, d3Zoom, onMove, panOnDrag, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('end', (event) => {\n                if (!event.sourceEvent || event.sourceEvent.internal) {\n                    return null;\n                }\n                const { onViewportChangeEnd } = store.getState();\n                isZoomingOrPanning.current = false;\n                store.setState({ paneDragging: false });\n                if (onPaneContextMenu &&\n                    isRightClickPan(panOnDrag, mouseButton.current ?? 0) &&\n                    !zoomedWithRightMouseButton.current) {\n                    onPaneContextMenu(event.sourceEvent);\n                }\n                zoomedWithRightMouseButton.current = false;\n                if ((onMoveEnd || onViewportChangeEnd) && viewChanged(prevTransform.current, event.transform)) {\n                    const flowTransform = eventToFlowTransform(event.transform);\n                    prevTransform.current = flowTransform;\n                    clearTimeout(timerId.current);\n                    timerId.current = setTimeout(() => {\n                        onViewportChangeEnd?.(flowTransform);\n                        onMoveEnd?.(event.sourceEvent, flowTransform);\n                    }, panOnScroll ? 150 : 0);\n                }\n            });\n        }\n    }, [d3Zoom, panOnScroll, panOnDrag, onMoveEnd, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.filter((event) => {\n                const zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n                const pinchZoom = zoomOnPinch && event.ctrlKey;\n                if ((panOnDrag === true || (Array.isArray(panOnDrag) && panOnDrag.includes(1))) &&\n                    event.button === 1 &&\n                    event.type === 'mousedown' &&\n                    (isWrappedWithClass(event, 'react-flow__node') || isWrappedWithClass(event, 'react-flow__edge'))) {\n                    return true;\n                }\n                // if all interactions are disabled, we prevent all zoom events\n                if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n                    return false;\n                }\n                // during a selection we prevent all other interactions\n                if (userSelectionActive) {\n                    return false;\n                }\n                // if zoom on double click is disabled, we prevent the double click event\n                if (!zoomOnDoubleClick && event.type === 'dblclick') {\n                    return false;\n                }\n                // if the target element is inside an element with the nowheel class, we prevent zooming\n                if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n                    return false;\n                }\n                // if the target element is inside an element with the nopan class, we prevent panning\n                if (isWrappedWithClass(event, noPanClassName) &&\n                    (event.type !== 'wheel' || (panOnScroll && event.type === 'wheel' && !zoomActivationKeyPressed))) {\n                    return false;\n                }\n                if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n                    return false;\n                }\n                // when there is no scroll handling enabled, we prevent all wheel events\n                if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n                    return false;\n                }\n                // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n                if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // if the pane is only movable using allowed clicks\n                if (Array.isArray(panOnDrag) &&\n                    !panOnDrag.includes(event.button) &&\n                    (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // We only allow right clicks if pan on drag is set to right click\n                const buttonAllowed = (Array.isArray(panOnDrag) && panOnDrag.includes(event.button)) || !event.button || event.button <= 1;\n                // default filter for d3-zoom\n                return (!event.ctrlKey || event.type === 'wheel') && buttonAllowed;\n            });\n        }\n    }, [\n        userSelectionActive,\n        d3Zoom,\n        zoomOnScroll,\n        zoomOnPinch,\n        panOnScroll,\n        zoomOnDoubleClick,\n        panOnDrag,\n        elementsSelectable,\n        zoomActivationKeyPressed,\n    ]);\n    return (React.createElement(\"div\", { className: \"react-flow__renderer\", ref: zoomPane, style: containerStyle }, children));\n};\n\nconst selector$9 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    userSelectionRect: s.userSelectionRect,\n});\nfunction UserSelection() {\n    const { userSelectionActive, userSelectionRect } = useStore(selector$9, shallow);\n    const isActive = userSelectionActive && userSelectionRect;\n    if (!isActive) {\n        return null;\n    }\n    return (React.createElement(\"div\", { className: \"react-flow__selection react-flow__container\", style: {\n            width: userSelectionRect.width,\n            height: userSelectionRect.height,\n            transform: `translate(${userSelectionRect.x}px, ${userSelectionRect.y}px)`,\n        } }));\n}\n\nfunction handleParentExpand(res, updateItem) {\n    const parent = res.find((e) => e.id === updateItem.parentNode);\n    if (parent) {\n        const extendWidth = updateItem.position.x + updateItem.width - parent.width;\n        const extendHeight = updateItem.position.y + updateItem.height - parent.height;\n        if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n            parent.style = { ...parent.style } || {};\n            parent.style.width = parent.style.width ?? parent.width;\n            parent.style.height = parent.style.height ?? parent.height;\n            if (extendWidth > 0) {\n                parent.style.width += extendWidth;\n            }\n            if (extendHeight > 0) {\n                parent.style.height += extendHeight;\n            }\n            if (updateItem.position.x < 0) {\n                const xDiff = Math.abs(updateItem.position.x);\n                parent.position.x = parent.position.x - xDiff;\n                parent.style.width += xDiff;\n                updateItem.position.x = 0;\n            }\n            if (updateItem.position.y < 0) {\n                const yDiff = Math.abs(updateItem.position.y);\n                parent.position.y = parent.position.y - yDiff;\n                parent.style.height += yDiff;\n                updateItem.position.y = 0;\n            }\n            parent.width = parent.style.width;\n            parent.height = parent.style.height;\n        }\n    }\n}\nfunction applyChanges(changes, elements) {\n    // we need this hack to handle the setNodes and setEdges function of the useReactFlow hook for controlled flows\n    if (changes.some((c) => c.type === 'reset')) {\n        return changes.filter((c) => c.type === 'reset').map((c) => c.item);\n    }\n    const initElements = changes.filter((c) => c.type === 'add').map((c) => c.item);\n    return elements.reduce((res, item) => {\n        const currentChanges = changes.filter((c) => c.id === item.id);\n        if (currentChanges.length === 0) {\n            res.push(item);\n            return res;\n        }\n        const updateItem = { ...item };\n        for (const currentChange of currentChanges) {\n            if (currentChange) {\n                switch (currentChange.type) {\n                    case 'select': {\n                        updateItem.selected = currentChange.selected;\n                        break;\n                    }\n                    case 'position': {\n                        if (typeof currentChange.position !== 'undefined') {\n                            updateItem.position = currentChange.position;\n                        }\n                        if (typeof currentChange.positionAbsolute !== 'undefined') {\n                            updateItem.positionAbsolute = currentChange.positionAbsolute;\n                        }\n                        if (typeof currentChange.dragging !== 'undefined') {\n                            updateItem.dragging = currentChange.dragging;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'dimensions': {\n                        if (typeof currentChange.dimensions !== 'undefined') {\n                            updateItem.width = currentChange.dimensions.width;\n                            updateItem.height = currentChange.dimensions.height;\n                        }\n                        if (typeof currentChange.updateStyle !== 'undefined') {\n                            updateItem.style = { ...(updateItem.style || {}), ...currentChange.dimensions };\n                        }\n                        if (typeof currentChange.resizing === 'boolean') {\n                            updateItem.resizing = currentChange.resizing;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'remove': {\n                        return res;\n                    }\n                }\n            }\n        }\n        res.push(updateItem);\n        return res;\n    }, initElements);\n}\nfunction applyNodeChanges(changes, nodes) {\n    return applyChanges(changes, nodes);\n}\nfunction applyEdgeChanges(changes, edges) {\n    return applyChanges(changes, edges);\n}\nconst createSelectionChange = (id, selected) => ({\n    id,\n    type: 'select',\n    selected,\n});\nfunction getSelectionChanges(items, selectedIds) {\n    return items.reduce((res, item) => {\n        const willBeSelected = selectedIds.includes(item.id);\n        if (!item.selected && willBeSelected) {\n            item.selected = true;\n            res.push(createSelectionChange(item.id, true));\n        }\n        else if (item.selected && !willBeSelected) {\n            item.selected = false;\n            res.push(createSelectionChange(item.id, false));\n        }\n        return res;\n    }, []);\n}\n\n/**\n * The user selection rectangle gets displayed when a user drags the mouse while pressing shift\n */\nconst wrapHandler = (handler, containerRef) => {\n    return (event) => {\n        if (event.target !== containerRef.current) {\n            return;\n        }\n        handler?.(event);\n    };\n};\nconst selector$8 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable,\n    dragging: s.paneDragging,\n});\nconst Pane = memo(({ isSelecting, selectionMode = SelectionMode.Full, panOnDrag, onSelectionStart, onSelectionEnd, onPaneClick, onPaneContextMenu, onPaneScroll, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, children, }) => {\n    const container = useRef(null);\n    const store = useStoreApi();\n    const prevSelectedNodesCount = useRef(0);\n    const prevSelectedEdgesCount = useRef(0);\n    const containerBounds = useRef();\n    const { userSelectionActive, elementsSelectable, dragging } = useStore(selector$8, shallow);\n    const resetUserSelection = () => {\n        store.setState({ userSelectionActive: false, userSelectionRect: null });\n        prevSelectedNodesCount.current = 0;\n        prevSelectedEdgesCount.current = 0;\n    };\n    const onClick = (event) => {\n        onPaneClick?.(event);\n        store.getState().resetSelectedElements();\n        store.setState({ nodesSelectionActive: false });\n    };\n    const onContextMenu = (event) => {\n        if (Array.isArray(panOnDrag) && panOnDrag?.includes(2)) {\n            event.preventDefault();\n            return;\n        }\n        onPaneContextMenu?.(event);\n    };\n    const onWheel = onPaneScroll ? (event) => onPaneScroll(event) : undefined;\n    const onMouseDown = (event) => {\n        const { resetSelectedElements, domNode } = store.getState();\n        containerBounds.current = domNode?.getBoundingClientRect();\n        if (!elementsSelectable ||\n            !isSelecting ||\n            event.button !== 0 ||\n            event.target !== container.current ||\n            !containerBounds.current) {\n            return;\n        }\n        const { x, y } = getEventPosition(event, containerBounds.current);\n        resetSelectedElements();\n        store.setState({\n            userSelectionRect: {\n                width: 0,\n                height: 0,\n                startX: x,\n                startY: y,\n                x,\n                y,\n            },\n        });\n        onSelectionStart?.(event);\n    };\n    const onMouseMove = (event) => {\n        const { userSelectionRect, nodeInternals, edges, transform, onNodesChange, onEdgesChange, nodeOrigin, getNodes } = store.getState();\n        if (!isSelecting || !containerBounds.current || !userSelectionRect) {\n            return;\n        }\n        store.setState({ userSelectionActive: true, nodesSelectionActive: false });\n        const mousePos = getEventPosition(event, containerBounds.current);\n        const startX = userSelectionRect.startX ?? 0;\n        const startY = userSelectionRect.startY ?? 0;\n        const nextUserSelectRect = {\n            ...userSelectionRect,\n            x: mousePos.x < startX ? mousePos.x : startX,\n            y: mousePos.y < startY ? mousePos.y : startY,\n            width: Math.abs(mousePos.x - startX),\n            height: Math.abs(mousePos.y - startY),\n        };\n        const nodes = getNodes();\n        const selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform, selectionMode === SelectionMode.Partial, true, nodeOrigin);\n        const selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map((e) => e.id);\n        const selectedNodeIds = selectedNodes.map((n) => n.id);\n        if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n            prevSelectedNodesCount.current = selectedNodeIds.length;\n            const changes = getSelectionChanges(nodes, selectedNodeIds);\n            if (changes.length) {\n                onNodesChange?.(changes);\n            }\n        }\n        if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n            prevSelectedEdgesCount.current = selectedEdgeIds.length;\n            const changes = getSelectionChanges(edges, selectedEdgeIds);\n            if (changes.length) {\n                onEdgesChange?.(changes);\n            }\n        }\n        store.setState({\n            userSelectionRect: nextUserSelectRect,\n        });\n    };\n    const onMouseUp = (event) => {\n        if (event.button !== 0) {\n            return;\n        }\n        const { userSelectionRect } = store.getState();\n        // We only want to trigger click functions when in selection mode if\n        // the user did not move the mouse.\n        if (!userSelectionActive && userSelectionRect && event.target === container.current) {\n            onClick?.(event);\n        }\n        store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n        resetUserSelection();\n        onSelectionEnd?.(event);\n    };\n    const onMouseLeave = (event) => {\n        if (userSelectionActive) {\n            store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n            onSelectionEnd?.(event);\n        }\n        resetUserSelection();\n    };\n    const hasActiveSelection = elementsSelectable && (isSelecting || userSelectionActive);\n    return (React.createElement(\"div\", { className: cc(['react-flow__pane', { dragging, selection: isSelecting }]), onClick: hasActiveSelection ? undefined : wrapHandler(onClick, container), onContextMenu: wrapHandler(onContextMenu, container), onWheel: wrapHandler(onWheel, container), onMouseEnter: hasActiveSelection ? undefined : onPaneMouseEnter, onMouseDown: hasActiveSelection ? onMouseDown : undefined, onMouseMove: hasActiveSelection ? onMouseMove : onPaneMouseMove, onMouseUp: hasActiveSelection ? onMouseUp : undefined, onMouseLeave: hasActiveSelection ? onMouseLeave : onPaneMouseLeave, ref: container, style: containerStyle },\n        children,\n        React.createElement(UserSelection, null)));\n});\nPane.displayName = 'Pane';\n\nfunction isParentSelected(node, nodeInternals) {\n    if (!node.parentNode) {\n        return false;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    if (!parentNode) {\n        return false;\n    }\n    if (parentNode.selected) {\n        return true;\n    }\n    return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n    let current = target;\n    do {\n        if (current?.matches(selector))\n            return true;\n        if (current === nodeRef.current)\n            return false;\n        current = current.parentElement;\n    } while (current);\n    return false;\n}\n// looks for all selected nodes and created a NodeDragItem for each of them\nfunction getDragItems(nodeInternals, nodesDraggable, mousePos, nodeId) {\n    return Array.from(nodeInternals.values())\n        .filter((n) => (n.selected || n.id === nodeId) &&\n        (!n.parentNode || !isParentSelected(n, nodeInternals)) &&\n        (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')))\n        .map((n) => ({\n        id: n.id,\n        position: n.position || { x: 0, y: 0 },\n        positionAbsolute: n.positionAbsolute || { x: 0, y: 0 },\n        distance: {\n            x: mousePos.x - (n.positionAbsolute?.x ?? 0),\n            y: mousePos.y - (n.positionAbsolute?.y ?? 0),\n        },\n        delta: {\n            x: 0,\n            y: 0,\n        },\n        extent: n.extent,\n        parentNode: n.parentNode,\n        width: n.width,\n        height: n.height,\n        expandParent: n.expandParent,\n    }));\n}\nfunction clampNodeExtent(node, extent) {\n    if (!extent || extent === 'parent') {\n        return extent;\n    }\n    return [extent[0], [extent[1][0] - (node.width || 0), extent[1][1] - (node.height || 0)]];\n}\nfunction calcNextPosition(node, nextPosition, nodeInternals, nodeExtent, nodeOrigin = [0, 0], onError) {\n    const clampedNodeExtent = clampNodeExtent(node, node.extent || nodeExtent);\n    let currentExtent = clampedNodeExtent;\n    if (node.extent === 'parent' && !node.expandParent) {\n        if (node.parentNode && node.width && node.height) {\n            const parent = nodeInternals.get(node.parentNode);\n            const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n            currentExtent =\n                parent && isNumeric(parentX) && isNumeric(parentY) && isNumeric(parent.width) && isNumeric(parent.height)\n                    ? [\n                        [parentX + node.width * nodeOrigin[0], parentY + node.height * nodeOrigin[1]],\n                        [\n                            parentX + parent.width - node.width + node.width * nodeOrigin[0],\n                            parentY + parent.height - node.height + node.height * nodeOrigin[1],\n                        ],\n                    ]\n                    : currentExtent;\n        }\n        else {\n            onError?.('005', errorMessages['error005']());\n            currentExtent = clampedNodeExtent;\n        }\n    }\n    else if (node.extent && node.parentNode && node.extent !== 'parent') {\n        const parent = nodeInternals.get(node.parentNode);\n        const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n        currentExtent = [\n            [node.extent[0][0] + parentX, node.extent[0][1] + parentY],\n            [node.extent[1][0] + parentX, node.extent[1][1] + parentY],\n        ];\n    }\n    let parentPosition = { x: 0, y: 0 };\n    if (node.parentNode) {\n        const parentNode = nodeInternals.get(node.parentNode);\n        parentPosition = getNodePositionWithOrigin(parentNode, nodeOrigin).positionAbsolute;\n    }\n    const positionAbsolute = currentExtent && currentExtent !== 'parent'\n        ? clampPosition(nextPosition, currentExtent)\n        : nextPosition;\n    return {\n        position: {\n            x: positionAbsolute.x - parentPosition.x,\n            y: positionAbsolute.y - parentPosition.y,\n        },\n        positionAbsolute,\n    };\n}\n// returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\nfunction getEventHandlerParams({ nodeId, dragItems, nodeInternals, }) {\n    const extentedDragItems = dragItems.map((n) => {\n        const node = nodeInternals.get(n.id);\n        return {\n            ...node,\n            position: n.position,\n            positionAbsolute: n.positionAbsolute,\n        };\n    });\n    return [nodeId ? extentedDragItems.find((n) => n.id === nodeId) : extentedDragItems[0], extentedDragItems];\n}\n\nconst getHandleBounds = (selector, nodeElement, zoom, nodeOrigin) => {\n    const handles = nodeElement.querySelectorAll(selector);\n    if (!handles || !handles.length) {\n        return null;\n    }\n    const handlesArray = Array.from(handles);\n    const nodeBounds = nodeElement.getBoundingClientRect();\n    const nodeOffset = {\n        x: nodeBounds.width * nodeOrigin[0],\n        y: nodeBounds.height * nodeOrigin[1],\n    };\n    return handlesArray.map((handle) => {\n        const handleBounds = handle.getBoundingClientRect();\n        return {\n            id: handle.getAttribute('data-handleid'),\n            position: handle.getAttribute('data-handlepos'),\n            x: (handleBounds.left - nodeBounds.left - nodeOffset.x) / zoom,\n            y: (handleBounds.top - nodeBounds.top - nodeOffset.y) / zoom,\n            ...getDimensions(handle),\n        };\n    });\n};\nfunction getMouseHandler(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const node = getState().nodeInternals.get(id);\n            if (node) {\n                handler(event, { ...node });\n            }\n        };\n}\n// this handler is called by\n// 1. the click handler when node is not draggable or selectNodesOnDrag = false\n// or\n// 2. the on drag start handler when node is draggable and selectNodesOnDrag = true\nfunction handleNodeClick({ id, store, unselect = false, nodeRef, }) {\n    const { addSelectedNodes, unselectNodesAndEdges, multiSelectionActive, nodeInternals, onError } = store.getState();\n    const node = nodeInternals.get(id);\n    if (!node) {\n        onError?.('012', errorMessages['error012'](id));\n        return;\n    }\n    store.setState({ nodesSelectionActive: false });\n    if (!node.selected) {\n        addSelectedNodes([id]);\n    }\n    else if (unselect || (node.selected && multiSelectionActive)) {\n        unselectNodesAndEdges({ nodes: [node], edges: [] });\n        requestAnimationFrame(() => nodeRef?.current?.blur());\n    }\n}\n\nfunction useGetPointerPosition() {\n    const store = useStoreApi();\n    // returns the pointer position projected to the RF coordinate system\n    const getPointerPosition = useCallback(({ sourceEvent }) => {\n        const { transform, snapGrid, snapToGrid } = store.getState();\n        const x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n        const y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n        const pointerPos = {\n            x: (x - transform[0]) / transform[2],\n            y: (y - transform[1]) / transform[2],\n        };\n        // we need the snapped position in order to be able to skip unnecessary drag events\n        return {\n            xSnapped: snapToGrid ? snapGrid[0] * Math.round(pointerPos.x / snapGrid[0]) : pointerPos.x,\n            ySnapped: snapToGrid ? snapGrid[1] * Math.round(pointerPos.y / snapGrid[1]) : pointerPos.y,\n            ...pointerPos,\n        };\n    }, []);\n    return getPointerPosition;\n}\n\nfunction wrapSelectionDragFunc(selectionFunc) {\n    return (event, _, nodes) => selectionFunc?.(event, nodes);\n}\nfunction useDrag({ nodeRef, disabled = false, noDragClassName, handleSelector, nodeId, isSelectable, selectNodesOnDrag, }) {\n    const store = useStoreApi();\n    const [dragging, setDragging] = useState(false);\n    const dragItems = useRef([]);\n    const lastPos = useRef({ x: null, y: null });\n    const autoPanId = useRef(0);\n    const containerBounds = useRef(null);\n    const mousePosition = useRef({ x: 0, y: 0 });\n    const dragEvent = useRef(null);\n    const autoPanStarted = useRef(false);\n    const dragStarted = useRef(false);\n    const getPointerPosition = useGetPointerPosition();\n    useEffect(() => {\n        if (nodeRef?.current) {\n            const selection = select(nodeRef.current);\n            const updateNodes = ({ x, y }) => {\n                const { nodeInternals, onNodeDrag, onSelectionDrag, updateNodePositions, nodeExtent, snapGrid, snapToGrid, nodeOrigin, onError, } = store.getState();\n                lastPos.current = { x, y };\n                let hasChange = false;\n                let nodesBox = { x: 0, y: 0, x2: 0, y2: 0 };\n                if (dragItems.current.length > 1 && nodeExtent) {\n                    const rect = getNodesBounds(dragItems.current, nodeOrigin);\n                    nodesBox = rectToBox(rect);\n                }\n                dragItems.current = dragItems.current.map((n) => {\n                    const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };\n                    if (snapToGrid) {\n                        nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                        nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                    }\n                    // if there is selection with multiple nodes and a node extent is set, we need to adjust the node extent for each node\n                    // based on its position so that the node stays at it's position relative to the selection.\n                    const adjustedNodeExtent = [\n                        [nodeExtent[0][0], nodeExtent[0][1]],\n                        [nodeExtent[1][0], nodeExtent[1][1]],\n                    ];\n                    if (dragItems.current.length > 1 && nodeExtent && !n.extent) {\n                        adjustedNodeExtent[0][0] = n.positionAbsolute.x - nodesBox.x + nodeExtent[0][0];\n                        adjustedNodeExtent[1][0] = n.positionAbsolute.x + (n.width ?? 0) - nodesBox.x2 + nodeExtent[1][0];\n                        adjustedNodeExtent[0][1] = n.positionAbsolute.y - nodesBox.y + nodeExtent[0][1];\n                        adjustedNodeExtent[1][1] = n.positionAbsolute.y + (n.height ?? 0) - nodesBox.y2 + nodeExtent[1][1];\n                    }\n                    const updatedPos = calcNextPosition(n, nextPosition, nodeInternals, adjustedNodeExtent, nodeOrigin, onError);\n                    // we want to make sure that we only fire a change event when there is a change\n                    hasChange = hasChange || n.position.x !== updatedPos.position.x || n.position.y !== updatedPos.position.y;\n                    n.position = updatedPos.position;\n                    n.positionAbsolute = updatedPos.positionAbsolute;\n                    return n;\n                });\n                if (!hasChange) {\n                    return;\n                }\n                updateNodePositions(dragItems.current, true, true);\n                setDragging(true);\n                const onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n                if (onDrag && dragEvent.current) {\n                    const [currentNode, nodes] = getEventHandlerParams({\n                        nodeId,\n                        dragItems: dragItems.current,\n                        nodeInternals,\n                    });\n                    onDrag(dragEvent.current, currentNode, nodes);\n                }\n            };\n            const autoPan = () => {\n                if (!containerBounds.current) {\n                    return;\n                }\n                const [xMovement, yMovement] = calcAutoPan(mousePosition.current, containerBounds.current);\n                if (xMovement !== 0 || yMovement !== 0) {\n                    const { transform, panBy } = store.getState();\n                    lastPos.current.x = (lastPos.current.x ?? 0) - xMovement / transform[2];\n                    lastPos.current.y = (lastPos.current.y ?? 0) - yMovement / transform[2];\n                    if (panBy({ x: xMovement, y: yMovement })) {\n                        updateNodes(lastPos.current);\n                    }\n                }\n                autoPanId.current = requestAnimationFrame(autoPan);\n            };\n            const startDrag = (event) => {\n                const { nodeInternals, multiSelectionActive, nodesDraggable, unselectNodesAndEdges, onNodeDragStart, onSelectionDragStart, } = store.getState();\n                dragStarted.current = true;\n                const onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n                if ((!selectNodesOnDrag || !isSelectable) && !multiSelectionActive && nodeId) {\n                    if (!nodeInternals.get(nodeId)?.selected) {\n                        // we need to reset selected nodes when selectNodesOnDrag=false\n                        unselectNodesAndEdges();\n                    }\n                }\n                if (nodeId && isSelectable && selectNodesOnDrag) {\n                    handleNodeClick({\n                        id: nodeId,\n                        store,\n                        nodeRef: nodeRef,\n                    });\n                }\n                const pointerPos = getPointerPosition(event);\n                lastPos.current = pointerPos;\n                dragItems.current = getDragItems(nodeInternals, nodesDraggable, pointerPos, nodeId);\n                if (onStart && dragItems.current) {\n                    const [currentNode, nodes] = getEventHandlerParams({\n                        nodeId,\n                        dragItems: dragItems.current,\n                        nodeInternals,\n                    });\n                    onStart(event.sourceEvent, currentNode, nodes);\n                }\n            };\n            if (disabled) {\n                selection.on('.drag', null);\n            }\n            else {\n                const dragHandler = drag()\n                    .on('start', (event) => {\n                    const { domNode, nodeDragThreshold } = store.getState();\n                    if (nodeDragThreshold === 0) {\n                        startDrag(event);\n                    }\n                    const pointerPos = getPointerPosition(event);\n                    lastPos.current = pointerPos;\n                    containerBounds.current = domNode?.getBoundingClientRect() || null;\n                    mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                })\n                    .on('drag', (event) => {\n                    const pointerPos = getPointerPosition(event);\n                    const { autoPanOnNodeDrag, nodeDragThreshold } = store.getState();\n                    if (!autoPanStarted.current && dragStarted.current && autoPanOnNodeDrag) {\n                        autoPanStarted.current = true;\n                        autoPan();\n                    }\n                    if (!dragStarted.current) {\n                        const x = pointerPos.xSnapped - (lastPos?.current?.x ?? 0);\n                        const y = pointerPos.ySnapped - (lastPos?.current?.y ?? 0);\n                        const distance = Math.sqrt(x * x + y * y);\n                        if (distance > nodeDragThreshold) {\n                            startDrag(event);\n                        }\n                    }\n                    // skip events without movement\n                    if ((lastPos.current.x !== pointerPos.xSnapped || lastPos.current.y !== pointerPos.ySnapped) &&\n                        dragItems.current &&\n                        dragStarted.current) {\n                        dragEvent.current = event.sourceEvent;\n                        mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                        updateNodes(pointerPos);\n                    }\n                })\n                    .on('end', (event) => {\n                    if (!dragStarted.current) {\n                        return;\n                    }\n                    setDragging(false);\n                    autoPanStarted.current = false;\n                    dragStarted.current = false;\n                    cancelAnimationFrame(autoPanId.current);\n                    if (dragItems.current) {\n                        const { updateNodePositions, nodeInternals, onNodeDragStop, onSelectionDragStop } = store.getState();\n                        const onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n                        updateNodePositions(dragItems.current, false, false);\n                        if (onStop) {\n                            const [currentNode, nodes] = getEventHandlerParams({\n                                nodeId,\n                                dragItems: dragItems.current,\n                                nodeInternals,\n                            });\n                            onStop(event.sourceEvent, currentNode, nodes);\n                        }\n                    }\n                })\n                    .filter((event) => {\n                    const target = event.target;\n                    const isDraggable = !event.button &&\n                        (!noDragClassName || !hasSelector(target, `.${noDragClassName}`, nodeRef)) &&\n                        (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n                    return isDraggable;\n                });\n                selection.call(dragHandler);\n                return () => {\n                    selection.on('.drag', null);\n                };\n            }\n        }\n    }, [\n        nodeRef,\n        disabled,\n        noDragClassName,\n        handleSelector,\n        isSelectable,\n        store,\n        nodeId,\n        selectNodesOnDrag,\n        getPointerPosition,\n    ]);\n    return dragging;\n}\n\nfunction useUpdateNodePositions() {\n    const store = useStoreApi();\n    const updatePositions = useCallback((params) => {\n        const { nodeInternals, nodeExtent, updateNodePositions, getNodes, snapToGrid, snapGrid, onError, nodesDraggable } = store.getState();\n        const selectedNodes = getNodes().filter((n) => n.selected && (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')));\n        // by default a node moves 5px on each key press, or 20px if shift is pressed\n        // if snap grid is enabled, we use that for the velocity.\n        const xVelo = snapToGrid ? snapGrid[0] : 5;\n        const yVelo = snapToGrid ? snapGrid[1] : 5;\n        const factor = params.isShiftPressed ? 4 : 1;\n        const positionDiffX = params.x * xVelo * factor;\n        const positionDiffY = params.y * yVelo * factor;\n        const nodeUpdates = selectedNodes.map((n) => {\n            if (n.positionAbsolute) {\n                const nextPosition = { x: n.positionAbsolute.x + positionDiffX, y: n.positionAbsolute.y + positionDiffY };\n                if (snapToGrid) {\n                    nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                    nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                }\n                const { positionAbsolute, position } = calcNextPosition(n, nextPosition, nodeInternals, nodeExtent, undefined, onError);\n                n.position = position;\n                n.positionAbsolute = positionAbsolute;\n            }\n            return n;\n        });\n        updateNodePositions(nodeUpdates, true, false);\n    }, []);\n    return updatePositions;\n}\n\nconst arrowKeyDiffs = {\n    ArrowUp: { x: 0, y: -1 },\n    ArrowDown: { x: 0, y: 1 },\n    ArrowLeft: { x: -1, y: 0 },\n    ArrowRight: { x: 1, y: 0 },\n};\nvar wrapNode = (NodeComponent) => {\n    const NodeWrapper = ({ id, type, data, xPos, yPos, xPosOrigin, yPosOrigin, selected, onClick, onMouseEnter, onMouseMove, onMouseLeave, onContextMenu, onDoubleClick, style, className, isDraggable, isSelectable, isConnectable, isFocusable, selectNodesOnDrag, sourcePosition, targetPosition, hidden, resizeObserver, dragHandle, zIndex, isParent, noDragClassName, noPanClassName, initialized, disableKeyboardA11y, ariaLabel, rfId, hasHandleBounds, }) => {\n        const store = useStoreApi();\n        const nodeRef = useRef(null);\n        const prevSourcePosition = useRef(sourcePosition);\n        const prevTargetPosition = useRef(targetPosition);\n        const prevType = useRef(type);\n        const hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n        const updatePositions = useUpdateNodePositions();\n        const onMouseEnterHandler = getMouseHandler(id, store.getState, onMouseEnter);\n        const onMouseMoveHandler = getMouseHandler(id, store.getState, onMouseMove);\n        const onMouseLeaveHandler = getMouseHandler(id, store.getState, onMouseLeave);\n        const onContextMenuHandler = getMouseHandler(id, store.getState, onContextMenu);\n        const onDoubleClickHandler = getMouseHandler(id, store.getState, onDoubleClick);\n        const onSelectNodeHandler = (event) => {\n            const { nodeDragThreshold } = store.getState();\n            if (isSelectable && (!selectNodesOnDrag || !isDraggable || nodeDragThreshold > 0)) {\n                // this handler gets called within the drag start event when selectNodesOnDrag=true\n                handleNodeClick({\n                    id,\n                    store,\n                    nodeRef,\n                });\n            }\n            if (onClick) {\n                const node = store.getState().nodeInternals.get(id);\n                if (node) {\n                    onClick(event, { ...node });\n                }\n            }\n        };\n        const onKeyDown = (event) => {\n            if (isInputDOMNode(event)) {\n                return;\n            }\n            if (elementSelectionKeys.includes(event.key) && isSelectable) {\n                const unselect = event.key === 'Escape';\n                handleNodeClick({\n                    id,\n                    store,\n                    unselect,\n                    nodeRef,\n                });\n            }\n            else if (!disableKeyboardA11y &&\n                isDraggable &&\n                selected &&\n                Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n                store.setState({\n                    ariaLiveMessage: `Moved selected node ${event.key\n                        .replace('Arrow', '')\n                        .toLowerCase()}. New position, x: ${~~xPos}, y: ${~~yPos}`,\n                });\n                updatePositions({\n                    x: arrowKeyDiffs[event.key].x,\n                    y: arrowKeyDiffs[event.key].y,\n                    isShiftPressed: event.shiftKey,\n                });\n            }\n        };\n        useEffect(() => {\n            return () => {\n                if (nodeRef.current) {\n                    resizeObserver?.unobserve(nodeRef.current);\n                }\n            };\n        }, []);\n        useEffect(() => {\n            if (nodeRef.current && !hidden) {\n                const currNode = nodeRef.current;\n                if (!initialized || !hasHandleBounds) {\n                    // At this point we always want to make sure that the node gets re-measured / re-initialized.\n                    // We need to unobserve it first in case it is still observed\n                    resizeObserver?.unobserve(currNode);\n                    resizeObserver?.observe(currNode);\n                }\n            }\n        }, [hidden, initialized, hasHandleBounds]);\n        useEffect(() => {\n            // when the user programmatically changes the source or handle position, we re-initialize the node\n            const typeChanged = prevType.current !== type;\n            const sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n            const targetPosChanged = prevTargetPosition.current !== targetPosition;\n            if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n                if (typeChanged) {\n                    prevType.current = type;\n                }\n                if (sourcePosChanged) {\n                    prevSourcePosition.current = sourcePosition;\n                }\n                if (targetPosChanged) {\n                    prevTargetPosition.current = targetPosition;\n                }\n                store.getState().updateNodeDimensions([{ id, nodeElement: nodeRef.current, forceUpdate: true }]);\n            }\n        }, [id, type, sourcePosition, targetPosition]);\n        const dragging = useDrag({\n            nodeRef,\n            disabled: hidden || !isDraggable,\n            noDragClassName,\n            handleSelector: dragHandle,\n            nodeId: id,\n            isSelectable,\n            selectNodesOnDrag,\n        });\n        if (hidden) {\n            return null;\n        }\n        return (React.createElement(\"div\", { className: cc([\n                'react-flow__node',\n                `react-flow__node-${type}`,\n                {\n                    // this is overwritable by passing `nopan` as a class name\n                    [noPanClassName]: isDraggable,\n                },\n                className,\n                {\n                    selected,\n                    selectable: isSelectable,\n                    parent: isParent,\n                    dragging,\n                },\n            ]), ref: nodeRef, style: {\n                zIndex,\n                transform: `translate(${xPosOrigin}px,${yPosOrigin}px)`,\n                pointerEvents: hasPointerEvents ? 'all' : 'none',\n                visibility: initialized ? 'visible' : 'hidden',\n                ...style,\n            }, \"data-id\": id, \"data-testid\": `rf__node-${id}`, onMouseEnter: onMouseEnterHandler, onMouseMove: onMouseMoveHandler, onMouseLeave: onMouseLeaveHandler, onContextMenu: onContextMenuHandler, onClick: onSelectNodeHandler, onDoubleClick: onDoubleClickHandler, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : undefined, \"aria-describedby\": disableKeyboardA11y ? undefined : `${ARIA_NODE_DESC_KEY}-${rfId}`, \"aria-label\": ariaLabel },\n            React.createElement(Provider, { value: id },\n                React.createElement(NodeComponent, { id: id, data: data, type: type, xPos: xPos, yPos: yPos, selected: selected, isConnectable: isConnectable, sourcePosition: sourcePosition, targetPosition: targetPosition, dragging: dragging, dragHandle: dragHandle, zIndex: zIndex }))));\n    };\n    NodeWrapper.displayName = 'NodeWrapper';\n    return memo(NodeWrapper);\n};\n\n/**\n * The nodes selection rectangle gets displayed when a user\n * made a selection with on or several nodes\n */\nconst selector$7 = (s) => {\n    const selectedNodes = s.getNodes().filter((n) => n.selected);\n    return {\n        ...getNodesBounds(selectedNodes, s.nodeOrigin),\n        transformString: `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`,\n        userSelectionActive: s.userSelectionActive,\n    };\n};\nfunction NodesSelection({ onSelectionContextMenu, noPanClassName, disableKeyboardA11y }) {\n    const store = useStoreApi();\n    const { width, height, x: left, y: top, transformString, userSelectionActive } = useStore(selector$7, shallow);\n    const updatePositions = useUpdateNodePositions();\n    const nodeRef = useRef(null);\n    useEffect(() => {\n        if (!disableKeyboardA11y) {\n            nodeRef.current?.focus({\n                preventScroll: true,\n            });\n        }\n    }, [disableKeyboardA11y]);\n    useDrag({\n        nodeRef,\n    });\n    if (userSelectionActive || !width || !height) {\n        return null;\n    }\n    const onContextMenu = onSelectionContextMenu\n        ? (event) => {\n            const selectedNodes = store\n                .getState()\n                .getNodes()\n                .filter((n) => n.selected);\n            onSelectionContextMenu(event, selectedNodes);\n        }\n        : undefined;\n    const onKeyDown = (event) => {\n        if (Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n            updatePositions({\n                x: arrowKeyDiffs[event.key].x,\n                y: arrowKeyDiffs[event.key].y,\n                isShiftPressed: event.shiftKey,\n            });\n        }\n    };\n    return (React.createElement(\"div\", { className: cc(['react-flow__nodesselection', 'react-flow__container', noPanClassName]), style: {\n            transform: transformString,\n        } },\n        React.createElement(\"div\", { ref: nodeRef, className: \"react-flow__nodesselection-rect\", onContextMenu: onContextMenu, tabIndex: disableKeyboardA11y ? undefined : -1, onKeyDown: disableKeyboardA11y ? undefined : onKeyDown, style: {\n                width,\n                height,\n                top,\n                left,\n            } })));\n}\nvar NodesSelection$1 = memo(NodesSelection);\n\nconst selector$6 = (s) => s.nodesSelectionActive;\nconst FlowRenderer = ({ children, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneContextMenu, onPaneScroll, deleteKeyCode, onMove, onMoveStart, onMoveEnd, selectionKeyCode, selectionOnDrag, selectionMode, onSelectionStart, onSelectionEnd, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, elementsSelectable, zoomOnScroll, zoomOnPinch, panOnScroll: _panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag: _panOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, onSelectionContextMenu, noWheelClassName, noPanClassName, disableKeyboardA11y, }) => {\n    const nodesSelectionActive = useStore(selector$6);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const panActivationKeyPressed = useKeyPress(panActivationKeyCode);\n    const panOnDrag = panActivationKeyPressed || _panOnDrag;\n    const panOnScroll = panActivationKeyPressed || _panOnScroll;\n    const isSelecting = selectionKeyPressed || (selectionOnDrag && panOnDrag !== true);\n    useGlobalKeyHandler({ deleteKeyCode, multiSelectionKeyCode });\n    return (React.createElement(ZoomPane, { onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onPaneContextMenu: onPaneContextMenu, elementsSelectable: elementsSelectable, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, zoomOnDoubleClick: zoomOnDoubleClick, panOnDrag: !selectionKeyPressed && panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, zoomActivationKeyCode: zoomActivationKeyCode, preventScrolling: preventScrolling, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName },\n        React.createElement(Pane, { onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, panOnDrag: panOnDrag, isSelecting: !!isSelecting, selectionMode: selectionMode },\n            children,\n            nodesSelectionActive && (React.createElement(NodesSelection$1, { onSelectionContextMenu: onSelectionContextMenu, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y })))));\n};\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = memo(FlowRenderer);\n\nfunction useVisibleNodes(onlyRenderVisible) {\n    const nodes = useStore(useCallback((s) => onlyRenderVisible\n        ? getNodesInside(s.nodeInternals, { x: 0, y: 0, width: s.width, height: s.height }, s.transform, true)\n        : s.getNodes(), [onlyRenderVisible]));\n    return nodes;\n}\n\nfunction createNodeTypes(nodeTypes) {\n    const standardTypes = {\n        input: wrapNode((nodeTypes.input || InputNode$1)),\n        default: wrapNode((nodeTypes.default || DefaultNode$1)),\n        output: wrapNode((nodeTypes.output || OutputNode$1)),\n        group: wrapNode((nodeTypes.group || GroupNode)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(nodeTypes)\n        .filter((k) => !['input', 'default', 'output', 'group'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapNode((nodeTypes[key] || DefaultNode$1));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nconst getPositionWithOrigin = ({ x, y, width, height, origin, }) => {\n    if (!width || !height) {\n        return { x, y };\n    }\n    if (origin[0] < 0 || origin[1] < 0 || origin[0] > 1 || origin[1] > 1) {\n        return { x, y };\n    }\n    return {\n        x: x - width * origin[0],\n        y: y - height * origin[1],\n    };\n};\n\nconst selector$5 = (s) => ({\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    nodesFocusable: s.nodesFocusable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions,\n    onError: s.onError,\n});\nconst NodeRenderer = (props) => {\n    const { nodesDraggable, nodesConnectable, nodesFocusable, elementsSelectable, updateNodeDimensions, onError } = useStore(selector$5, shallow);\n    const nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n    const resizeObserverRef = useRef();\n    const resizeObserver = useMemo(() => {\n        if (typeof ResizeObserver === 'undefined') {\n            return null;\n        }\n        const observer = new ResizeObserver((entries) => {\n            const updates = entries.map((entry) => ({\n                id: entry.target.getAttribute('data-id'),\n                nodeElement: entry.target,\n                forceUpdate: true,\n            }));\n            updateNodeDimensions(updates);\n        });\n        resizeObserverRef.current = observer;\n        return observer;\n    }, []);\n    useEffect(() => {\n        return () => {\n            resizeObserverRef?.current?.disconnect();\n        };\n    }, []);\n    return (React.createElement(\"div\", { className: \"react-flow__nodes\", style: containerStyle }, nodes.map((node) => {\n        let nodeType = node.type || 'default';\n        if (!props.nodeTypes[nodeType]) {\n            onError?.('003', errorMessages['error003'](nodeType));\n            nodeType = 'default';\n        }\n        const NodeComponent = (props.nodeTypes[nodeType] || props.nodeTypes.default);\n        const isDraggable = !!(node.draggable || (nodesDraggable && typeof node.draggable === 'undefined'));\n        const isSelectable = !!(node.selectable || (elementsSelectable && typeof node.selectable === 'undefined'));\n        const isConnectable = !!(node.connectable || (nodesConnectable && typeof node.connectable === 'undefined'));\n        const isFocusable = !!(node.focusable || (nodesFocusable && typeof node.focusable === 'undefined'));\n        const clampedPosition = props.nodeExtent\n            ? clampPosition(node.positionAbsolute, props.nodeExtent)\n            : node.positionAbsolute;\n        const posX = clampedPosition?.x ?? 0;\n        const posY = clampedPosition?.y ?? 0;\n        const posOrigin = getPositionWithOrigin({\n            x: posX,\n            y: posY,\n            width: node.width ?? 0,\n            height: node.height ?? 0,\n            origin: props.nodeOrigin,\n        });\n        return (React.createElement(NodeComponent, { key: node.id, id: node.id, className: node.className, style: node.style, type: nodeType, data: node.data, sourcePosition: node.sourcePosition || Position.Bottom, targetPosition: node.targetPosition || Position.Top, hidden: node.hidden, xPos: posX, yPos: posY, xPosOrigin: posOrigin.x, yPosOrigin: posOrigin.y, selectNodesOnDrag: props.selectNodesOnDrag, onClick: props.onNodeClick, onMouseEnter: props.onNodeMouseEnter, onMouseMove: props.onNodeMouseMove, onMouseLeave: props.onNodeMouseLeave, onContextMenu: props.onNodeContextMenu, onDoubleClick: props.onNodeDoubleClick, selected: !!node.selected, isDraggable: isDraggable, isSelectable: isSelectable, isConnectable: isConnectable, isFocusable: isFocusable, resizeObserver: resizeObserver, dragHandle: node.dragHandle, zIndex: node[internalsSymbol]?.z ?? 0, isParent: !!node[internalsSymbol]?.isParent, noDragClassName: props.noDragClassName, noPanClassName: props.noPanClassName, initialized: !!node.width && !!node.height, rfId: props.rfId, disableKeyboardA11y: props.disableKeyboardA11y, ariaLabel: node.ariaLabel, hasHandleBounds: !!node[internalsSymbol]?.handleBounds }));\n    })));\n};\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = memo(NodeRenderer);\n\nconst shiftX = (x, shift, position) => {\n    if (position === Position.Left)\n        return x - shift;\n    if (position === Position.Right)\n        return x + shift;\n    return x;\n};\nconst shiftY = (y, shift, position) => {\n    if (position === Position.Top)\n        return y - shift;\n    if (position === Position.Bottom)\n        return y + shift;\n    return y;\n};\nconst EdgeUpdaterClassName = 'react-flow__edgeupdater';\nconst EdgeAnchor = ({ position, centerX, centerY, radius = 10, onMouseDown, onMouseEnter, onMouseOut, type, }) => (React.createElement(\"circle\", { onMouseDown: onMouseDown, onMouseEnter: onMouseEnter, onMouseOut: onMouseOut, className: cc([EdgeUpdaterClassName, `${EdgeUpdaterClassName}-${type}`]), cx: shiftX(centerX, radius, position), cy: shiftY(centerY, radius, position), r: radius, stroke: \"transparent\", fill: \"transparent\" }));\n\nconst alwaysValidConnection = () => true;\nvar wrapEdge = (EdgeComponent) => {\n    const EdgeWrapper = ({ id, className, type, data, onClick, onEdgeDoubleClick, selected, animated, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, source, target, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, elementsSelectable, hidden, sourceHandleId, targetHandleId, onContextMenu, onMouseEnter, onMouseMove, onMouseLeave, edgeUpdaterRadius, onEdgeUpdate, onEdgeUpdateStart, onEdgeUpdateEnd, markerEnd, markerStart, rfId, ariaLabel, isFocusable, isUpdatable, pathOptions, interactionWidth, }) => {\n        const edgeRef = useRef(null);\n        const [updateHover, setUpdateHover] = useState(false);\n        const [updating, setUpdating] = useState(false);\n        const store = useStoreApi();\n        const markerStartUrl = useMemo(() => `url('#${getMarkerId(markerStart, rfId)}')`, [markerStart, rfId]);\n        const markerEndUrl = useMemo(() => `url('#${getMarkerId(markerEnd, rfId)}')`, [markerEnd, rfId]);\n        if (hidden) {\n            return null;\n        }\n        const onEdgeClick = (event) => {\n            const { edges, addSelectedEdges, unselectNodesAndEdges, multiSelectionActive } = store.getState();\n            const edge = edges.find((e) => e.id === id);\n            if (!edge) {\n                return;\n            }\n            if (elementsSelectable) {\n                store.setState({ nodesSelectionActive: false });\n                if (edge.selected && multiSelectionActive) {\n                    unselectNodesAndEdges({ nodes: [], edges: [edge] });\n                    edgeRef.current?.blur();\n                }\n                else {\n                    addSelectedEdges([id]);\n                }\n            }\n            if (onClick) {\n                onClick(event, edge);\n            }\n        };\n        const onEdgeDoubleClickHandler = getMouseHandler$1(id, store.getState, onEdgeDoubleClick);\n        const onEdgeContextMenu = getMouseHandler$1(id, store.getState, onContextMenu);\n        const onEdgeMouseEnter = getMouseHandler$1(id, store.getState, onMouseEnter);\n        const onEdgeMouseMove = getMouseHandler$1(id, store.getState, onMouseMove);\n        const onEdgeMouseLeave = getMouseHandler$1(id, store.getState, onMouseLeave);\n        const handleEdgeUpdater = (event, isSourceHandle) => {\n            // avoid triggering edge updater if mouse btn is not left\n            if (event.button !== 0) {\n                return;\n            }\n            const { edges, isValidConnection: isValidConnectionStore } = store.getState();\n            const nodeId = isSourceHandle ? target : source;\n            const handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n            const handleType = isSourceHandle ? 'target' : 'source';\n            const isValidConnection = isValidConnectionStore || alwaysValidConnection;\n            const isTarget = isSourceHandle;\n            const edge = edges.find((e) => e.id === id);\n            setUpdating(true);\n            onEdgeUpdateStart?.(event, edge, handleType);\n            const _onEdgeUpdateEnd = (evt) => {\n                setUpdating(false);\n                onEdgeUpdateEnd?.(evt, edge, handleType);\n            };\n            const onConnectEdge = (connection) => onEdgeUpdate?.(edge, connection);\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectEdge,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection,\n                edgeUpdaterType: handleType,\n                onEdgeUpdateEnd: _onEdgeUpdateEnd,\n            });\n        };\n        const onEdgeUpdaterSourceMouseDown = (event) => handleEdgeUpdater(event, true);\n        const onEdgeUpdaterTargetMouseDown = (event) => handleEdgeUpdater(event, false);\n        const onEdgeUpdaterMouseEnter = () => setUpdateHover(true);\n        const onEdgeUpdaterMouseOut = () => setUpdateHover(false);\n        const inactive = !elementsSelectable && !onClick;\n        const onKeyDown = (event) => {\n            if (elementSelectionKeys.includes(event.key) && elementsSelectable) {\n                const { unselectNodesAndEdges, addSelectedEdges, edges } = store.getState();\n                const unselect = event.key === 'Escape';\n                if (unselect) {\n                    edgeRef.current?.blur();\n                    unselectNodesAndEdges({ edges: [edges.find((e) => e.id === id)] });\n                }\n                else {\n                    addSelectedEdges([id]);\n                }\n            }\n        };\n        return (React.createElement(\"g\", { className: cc([\n                'react-flow__edge',\n                `react-flow__edge-${type}`,\n                className,\n                { selected, animated, inactive, updating: updateHover },\n            ]), onClick: onEdgeClick, onDoubleClick: onEdgeDoubleClickHandler, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : 'img', \"data-testid\": `rf__edge-${id}`, \"aria-label\": ariaLabel === null ? undefined : ariaLabel ? ariaLabel : `Edge from ${source} to ${target}`, \"aria-describedby\": isFocusable ? `${ARIA_EDGE_DESC_KEY}-${rfId}` : undefined, ref: edgeRef },\n            !updating && (React.createElement(EdgeComponent, { id: id, source: source, target: target, selected: selected, animated: animated, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, data: data, style: style, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, sourceHandleId: sourceHandleId, targetHandleId: targetHandleId, markerStart: markerStartUrl, markerEnd: markerEndUrl, pathOptions: pathOptions, interactionWidth: interactionWidth })),\n            isUpdatable && (React.createElement(React.Fragment, null,\n                (isUpdatable === 'source' || isUpdatable === true) && (React.createElement(EdgeAnchor, { position: sourcePosition, centerX: sourceX, centerY: sourceY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterSourceMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"source\" })),\n                (isUpdatable === 'target' || isUpdatable === true) && (React.createElement(EdgeAnchor, { position: targetPosition, centerX: targetX, centerY: targetY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterTargetMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"target\" }))))));\n    };\n    EdgeWrapper.displayName = 'EdgeWrapper';\n    return memo(EdgeWrapper);\n};\n\nfunction createEdgeTypes(edgeTypes) {\n    const standardTypes = {\n        default: wrapEdge((edgeTypes.default || BezierEdge)),\n        straight: wrapEdge((edgeTypes.bezier || StraightEdge)),\n        step: wrapEdge((edgeTypes.step || StepEdge)),\n        smoothstep: wrapEdge((edgeTypes.step || SmoothStepEdge)),\n        simplebezier: wrapEdge((edgeTypes.simplebezier || SimpleBezierEdge)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(edgeTypes)\n        .filter((k) => !['default', 'bezier'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapEdge((edgeTypes[key] || BezierEdge));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nfunction getHandlePosition(position, nodeRect, handle = null) {\n    const x = (handle?.x || 0) + nodeRect.x;\n    const y = (handle?.y || 0) + nodeRect.y;\n    const width = handle?.width || nodeRect.width;\n    const height = handle?.height || nodeRect.height;\n    switch (position) {\n        case Position.Top:\n            return {\n                x: x + width / 2,\n                y,\n            };\n        case Position.Right:\n            return {\n                x: x + width,\n                y: y + height / 2,\n            };\n        case Position.Bottom:\n            return {\n                x: x + width / 2,\n                y: y + height,\n            };\n        case Position.Left:\n            return {\n                x,\n                y: y + height / 2,\n            };\n    }\n}\nfunction getHandle(bounds, handleId) {\n    if (!bounds) {\n        return null;\n    }\n    if (bounds.length === 1 || !handleId) {\n        return bounds[0];\n    }\n    else if (handleId) {\n        return bounds.find((d) => d.id === handleId) || null;\n    }\n    return null;\n}\nconst getEdgePositions = (sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) => {\n    const sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n    const targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n    return {\n        sourceX: sourceHandlePos.x,\n        sourceY: sourceHandlePos.y,\n        targetX: targetHandlePos.x,\n        targetY: targetHandlePos.y,\n    };\n};\nfunction isEdgeVisible({ sourcePos, targetPos, sourceWidth, sourceHeight, targetWidth, targetHeight, width, height, transform, }) {\n    const edgeBox = {\n        x: Math.min(sourcePos.x, targetPos.x),\n        y: Math.min(sourcePos.y, targetPos.y),\n        x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n        y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight),\n    };\n    if (edgeBox.x === edgeBox.x2) {\n        edgeBox.x2 += 1;\n    }\n    if (edgeBox.y === edgeBox.y2) {\n        edgeBox.y2 += 1;\n    }\n    const viewBox = rectToBox({\n        x: (0 - transform[0]) / transform[2],\n        y: (0 - transform[1]) / transform[2],\n        width: width / transform[2],\n        height: height / transform[2],\n    });\n    const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n    const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n    const overlappingArea = Math.ceil(xOverlap * yOverlap);\n    return overlappingArea > 0;\n}\nfunction getNodeData(node) {\n    const handleBounds = node?.[internalsSymbol]?.handleBounds || null;\n    const isValid = handleBounds &&\n        node?.width &&\n        node?.height &&\n        typeof node?.positionAbsolute?.x !== 'undefined' &&\n        typeof node?.positionAbsolute?.y !== 'undefined';\n    return [\n        {\n            x: node?.positionAbsolute?.x || 0,\n            y: node?.positionAbsolute?.y || 0,\n            width: node?.width || 0,\n            height: node?.height || 0,\n        },\n        handleBounds,\n        !!isValid,\n    ];\n}\n\nconst defaultEdgeTree = [{ level: 0, isMaxLevel: true, edges: [] }];\nfunction groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect = false) {\n    let maxLevel = -1;\n    const levelLookup = edges.reduce((tree, edge) => {\n        const hasZIndex = isNumeric(edge.zIndex);\n        let z = hasZIndex ? edge.zIndex : 0;\n        if (elevateEdgesOnSelect) {\n            const targetNode = nodeInternals.get(edge.target);\n            const sourceNode = nodeInternals.get(edge.source);\n            const edgeOrConnectedNodeSelected = edge.selected || targetNode?.selected || sourceNode?.selected;\n            const selectedZIndex = Math.max(sourceNode?.[internalsSymbol]?.z || 0, targetNode?.[internalsSymbol]?.z || 0, 1000);\n            z = (hasZIndex ? edge.zIndex : 0) + (edgeOrConnectedNodeSelected ? selectedZIndex : 0);\n        }\n        if (tree[z]) {\n            tree[z].push(edge);\n        }\n        else {\n            tree[z] = [edge];\n        }\n        maxLevel = z > maxLevel ? z : maxLevel;\n        return tree;\n    }, {});\n    const edgeTree = Object.entries(levelLookup).map(([key, edges]) => {\n        const level = +key;\n        return {\n            edges,\n            level,\n            isMaxLevel: level === maxLevel,\n        };\n    });\n    if (edgeTree.length === 0) {\n        return defaultEdgeTree;\n    }\n    return edgeTree;\n}\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n    const edges = useStore(useCallback((s) => {\n        if (!onlyRenderVisible) {\n            return s.edges;\n        }\n        return s.edges.filter((e) => {\n            const sourceNode = nodeInternals.get(e.source);\n            const targetNode = nodeInternals.get(e.target);\n            return (sourceNode?.width &&\n                sourceNode?.height &&\n                targetNode?.width &&\n                targetNode?.height &&\n                isEdgeVisible({\n                    sourcePos: sourceNode.positionAbsolute || { x: 0, y: 0 },\n                    targetPos: targetNode.positionAbsolute || { x: 0, y: 0 },\n                    sourceWidth: sourceNode.width,\n                    sourceHeight: sourceNode.height,\n                    targetWidth: targetNode.width,\n                    targetHeight: targetNode.height,\n                    width: s.width,\n                    height: s.height,\n                    transform: s.transform,\n                }));\n        });\n    }, [onlyRenderVisible, nodeInternals]));\n    return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\n\nconst ArrowSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (React.createElement(\"polyline\", { style: {\n            stroke: color,\n            strokeWidth,\n        }, strokeLinecap: \"round\", strokeLinejoin: \"round\", fill: \"none\", points: \"-5,-4 0,0 -5,4\" }));\n};\nconst ArrowClosedSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (React.createElement(\"polyline\", { style: {\n            stroke: color,\n            fill: color,\n            strokeWidth,\n        }, strokeLinecap: \"round\", strokeLinejoin: \"round\", points: \"-5,-4 0,0 -5,4 -5,-4\" }));\n};\nconst MarkerSymbols = {\n    [MarkerType.Arrow]: ArrowSymbol,\n    [MarkerType.ArrowClosed]: ArrowClosedSymbol,\n};\nfunction useMarkerSymbol(type) {\n    const store = useStoreApi();\n    const symbol = useMemo(() => {\n        const symbolExists = Object.prototype.hasOwnProperty.call(MarkerSymbols, type);\n        if (!symbolExists) {\n            store.getState().onError?.('009', errorMessages['error009'](type));\n            return null;\n        }\n        return MarkerSymbols[type];\n    }, [type]);\n    return symbol;\n}\n\nconst Marker = ({ id, type, color, width = 12.5, height = 12.5, markerUnits = 'strokeWidth', strokeWidth, orient = 'auto-start-reverse', }) => {\n    const Symbol = useMarkerSymbol(type);\n    if (!Symbol) {\n        return null;\n    }\n    return (React.createElement(\"marker\", { className: \"react-flow__arrowhead\", id: id, markerWidth: `${width}`, markerHeight: `${height}`, viewBox: \"-10 -10 20 20\", markerUnits: markerUnits, orient: orient, refX: \"0\", refY: \"0\" },\n        React.createElement(Symbol, { color: color, strokeWidth: strokeWidth })));\n};\nconst markerSelector = ({ defaultColor, rfId }) => (s) => {\n    const ids = [];\n    return s.edges\n        .reduce((markers, edge) => {\n        [edge.markerStart, edge.markerEnd].forEach((marker) => {\n            if (marker && typeof marker === 'object') {\n                const markerId = getMarkerId(marker, rfId);\n                if (!ids.includes(markerId)) {\n                    markers.push({ id: markerId, color: marker.color || defaultColor, ...marker });\n                    ids.push(markerId);\n                }\n            }\n        });\n        return markers;\n    }, [])\n        .sort((a, b) => a.id.localeCompare(b.id));\n};\n// when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\nconst MarkerDefinitions = ({ defaultColor, rfId }) => {\n    const markers = useStore(useCallback(markerSelector({ defaultColor, rfId }), [defaultColor, rfId]), \n    // the id includes all marker options, so we just need to look at that part of the marker\n    (a, b) => !(a.length !== b.length || a.some((m, i) => m.id !== b[i].id)));\n    return (React.createElement(\"defs\", null, markers.map((marker) => (React.createElement(Marker, { id: marker.id, key: marker.id, type: marker.type, color: marker.color, width: marker.width, height: marker.height, markerUnits: marker.markerUnits, strokeWidth: marker.strokeWidth, orient: marker.orient })))));\n};\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = memo(MarkerDefinitions);\n\nconst selector$4 = (s) => ({\n    nodesConnectable: s.nodesConnectable,\n    edgesFocusable: s.edgesFocusable,\n    edgesUpdatable: s.edgesUpdatable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals,\n    onError: s.onError,\n});\nconst EdgeRenderer = ({ defaultMarkerColor, onlyRenderVisibleElements, elevateEdgesOnSelect, rfId, edgeTypes, noPanClassName, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeClick, edgeUpdaterRadius, onEdgeDoubleClick, onEdgeUpdateStart, onEdgeUpdateEnd, children, }) => {\n    const { edgesFocusable, edgesUpdatable, elementsSelectable, width, height, connectionMode, nodeInternals, onError } = useStore(selector$4, shallow);\n    const edgeTree = useVisibleEdges(onlyRenderVisibleElements, nodeInternals, elevateEdgesOnSelect);\n    if (!width) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        edgeTree.map(({ level, edges, isMaxLevel }) => (React.createElement(\"svg\", { key: level, style: { zIndex: level }, width: width, height: height, className: \"react-flow__edges react-flow__container\" },\n            isMaxLevel && React.createElement(MarkerDefinitions$1, { defaultColor: defaultMarkerColor, rfId: rfId }),\n            React.createElement(\"g\", null, edges.map((edge) => {\n                const [sourceNodeRect, sourceHandleBounds, sourceIsValid] = getNodeData(nodeInternals.get(edge.source));\n                const [targetNodeRect, targetHandleBounds, targetIsValid] = getNodeData(nodeInternals.get(edge.target));\n                if (!sourceIsValid || !targetIsValid) {\n                    return null;\n                }\n                let edgeType = edge.type || 'default';\n                if (!edgeTypes[edgeType]) {\n                    onError?.('011', errorMessages['error011'](edgeType));\n                    edgeType = 'default';\n                }\n                const EdgeComponent = edgeTypes[edgeType] || edgeTypes.default;\n                // when connection type is loose we can define all handles as sources and connect source -> source\n                const targetNodeHandles = connectionMode === ConnectionMode.Strict\n                    ? targetHandleBounds.target\n                    : (targetHandleBounds.target ?? []).concat(targetHandleBounds.source ?? []);\n                const sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle);\n                const targetHandle = getHandle(targetNodeHandles, edge.targetHandle);\n                const sourcePosition = sourceHandle?.position || Position.Bottom;\n                const targetPosition = targetHandle?.position || Position.Top;\n                const isFocusable = !!(edge.focusable || (edgesFocusable && typeof edge.focusable === 'undefined'));\n                const isUpdatable = typeof onEdgeUpdate !== 'undefined' &&\n                    (edge.updatable || (edgesUpdatable && typeof edge.updatable === 'undefined'));\n                if (!sourceHandle || !targetHandle) {\n                    onError?.('008', errorMessages['error008'](sourceHandle, edge));\n                    return null;\n                }\n                const { sourceX, sourceY, targetX, targetY } = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition);\n                return (React.createElement(EdgeComponent, { key: edge.id, id: edge.id, className: cc([edge.className, noPanClassName]), type: edgeType, data: edge.data, selected: !!edge.selected, animated: !!edge.animated, hidden: !!edge.hidden, label: edge.label, labelStyle: edge.labelStyle, labelShowBg: edge.labelShowBg, labelBgStyle: edge.labelBgStyle, labelBgPadding: edge.labelBgPadding, labelBgBorderRadius: edge.labelBgBorderRadius, style: edge.style, source: edge.source, target: edge.target, sourceHandleId: edge.sourceHandle, targetHandleId: edge.targetHandle, markerEnd: edge.markerEnd, markerStart: edge.markerStart, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, elementsSelectable: elementsSelectable, onEdgeUpdate: onEdgeUpdate, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onClick: onEdgeClick, edgeUpdaterRadius: edgeUpdaterRadius, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, rfId: rfId, ariaLabel: edge.ariaLabel, isFocusable: isFocusable, isUpdatable: isUpdatable, pathOptions: 'pathOptions' in edge ? edge.pathOptions : undefined, interactionWidth: edge.interactionWidth }));\n            }))))),\n        children));\n};\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = memo(EdgeRenderer);\n\nconst selector$3 = (s) => `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`;\nfunction Viewport({ children }) {\n    const transform = useStore(selector$3);\n    return (React.createElement(\"div\", { className: \"react-flow__viewport react-flow__container\", style: { transform } }, children));\n}\n\nfunction useOnInitHandler(onInit) {\n    const rfInstance = useReactFlow();\n    const isInitialized = useRef(false);\n    useEffect(() => {\n        if (!isInitialized.current && rfInstance.viewportInitialized && onInit) {\n            setTimeout(() => onInit(rfInstance), 1);\n            isInitialized.current = true;\n        }\n    }, [onInit, rfInstance.viewportInitialized]);\n}\n\nconst oppositePosition = {\n    [Position.Left]: Position.Right,\n    [Position.Right]: Position.Left,\n    [Position.Top]: Position.Bottom,\n    [Position.Bottom]: Position.Top,\n};\nconst ConnectionLine = ({ nodeId, handleType, style, type = ConnectionLineType.Bezier, CustomComponent, connectionStatus, }) => {\n    const { fromNode, handleId, toX, toY, connectionMode } = useStore(useCallback((s) => ({\n        fromNode: s.nodeInternals.get(nodeId),\n        handleId: s.connectionHandleId,\n        toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n        toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2],\n        connectionMode: s.connectionMode,\n    }), [nodeId]), shallow);\n    const fromHandleBounds = fromNode?.[internalsSymbol]?.handleBounds;\n    let handleBounds = fromHandleBounds?.[handleType];\n    if (connectionMode === ConnectionMode.Loose) {\n        handleBounds = handleBounds ? handleBounds : fromHandleBounds?.[handleType === 'source' ? 'target' : 'source'];\n    }\n    if (!fromNode || !handleBounds) {\n        return null;\n    }\n    const fromHandle = handleId ? handleBounds.find((d) => d.id === handleId) : handleBounds[0];\n    const fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : (fromNode.width ?? 0) / 2;\n    const fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : fromNode.height ?? 0;\n    const fromX = (fromNode.positionAbsolute?.x ?? 0) + fromHandleX;\n    const fromY = (fromNode.positionAbsolute?.y ?? 0) + fromHandleY;\n    const fromPosition = fromHandle?.position;\n    const toPosition = fromPosition ? oppositePosition[fromPosition] : null;\n    if (!fromPosition || !toPosition) {\n        return null;\n    }\n    if (CustomComponent) {\n        return (React.createElement(CustomComponent, { connectionLineType: type, connectionLineStyle: style, fromNode: fromNode, fromHandle: fromHandle, fromX: fromX, fromY: fromY, toX: toX, toY: toY, fromPosition: fromPosition, toPosition: toPosition, connectionStatus: connectionStatus }));\n    }\n    let dAttr = '';\n    const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toX,\n        targetY: toY,\n        targetPosition: toPosition,\n    };\n    if (type === ConnectionLineType.Bezier) {\n        // we assume the destination position is opposite to the source position\n        [dAttr] = getBezierPath(pathParams);\n    }\n    else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n            ...pathParams,\n            borderRadius: 0,\n        });\n    }\n    else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n    }\n    else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n    }\n    else {\n        dAttr = `M${fromX},${fromY} ${toX},${toY}`;\n    }\n    return React.createElement(\"path\", { d: dAttr, fill: \"none\", className: \"react-flow__connection-path\", style: style });\n};\nConnectionLine.displayName = 'ConnectionLine';\nconst selector$2 = (s) => ({\n    nodeId: s.connectionNodeId,\n    handleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    connectionStatus: s.connectionStatus,\n    width: s.width,\n    height: s.height,\n});\nfunction ConnectionLineWrapper({ containerStyle, style, type, component }) {\n    const { nodeId, handleType, nodesConnectable, width, height, connectionStatus } = useStore(selector$2, shallow);\n    const isValid = !!(nodeId && handleType && width && nodesConnectable);\n    if (!isValid) {\n        return null;\n    }\n    return (React.createElement(\"svg\", { style: containerStyle, width: width, height: height, className: \"react-flow__edges react-flow__connectionline react-flow__container\" },\n        React.createElement(\"g\", { className: cc(['react-flow__connection', connectionStatus]) },\n            React.createElement(ConnectionLine, { nodeId: nodeId, handleType: handleType, style: style, type: type, CustomComponent: component, connectionStatus: connectionStatus }))));\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n    const typesKeysRef = useRef(null);\n    const store = useStoreApi();\n    const typesParsed = useMemo(() => {\n        if (process.env.NODE_ENV === 'development') {\n            const typeKeys = Object.keys(nodeOrEdgeTypes);\n            if (shallow(typesKeysRef.current, typeKeys)) {\n                store.getState().onError?.('002', errorMessages['error002']());\n            }\n            typesKeysRef.current = typeKeys;\n        }\n        return createTypes(nodeOrEdgeTypes);\n    }, [nodeOrEdgeTypes]);\n    return typesParsed;\n}\n\nconst GraphView = ({ nodeTypes, edgeTypes, onMove, onMoveStart, onMoveEnd, onInit, onNodeClick, onEdgeClick, onNodeDoubleClick, onEdgeDoubleClick, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionLineType, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, selectionKeyCode, selectionOnDrag, selectionMode, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, deleteKeyCode, onlyRenderVisibleElements, elementsSelectable, selectNodesOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, defaultMarkerColor, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, edgeUpdaterRadius, onEdgeUpdateStart, onEdgeUpdateEnd, noDragClassName, noWheelClassName, noPanClassName, elevateEdgesOnSelect, disableKeyboardA11y, nodeOrigin, nodeExtent, rfId, }) => {\n    const nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n    const edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n    useOnInitHandler(onInit);\n    return (React.createElement(FlowRenderer$1, { onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, deleteKeyCode: deleteKeyCode, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, elementsSelectable: elementsSelectable, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, onSelectionContextMenu: onSelectionContextMenu, preventScrolling: preventScrolling, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y },\n        React.createElement(Viewport, null,\n            React.createElement(EdgeRenderer$1, { edgeTypes: edgeTypesWrapped, onEdgeClick: onEdgeClick, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdate: onEdgeUpdate, onlyRenderVisibleElements: onlyRenderVisibleElements, onEdgeContextMenu: onEdgeContextMenu, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noPanClassName: noPanClassName, elevateEdgesOnSelect: !!elevateEdgesOnSelect, disableKeyboardA11y: disableKeyboardA11y, rfId: rfId },\n                React.createElement(ConnectionLineWrapper, { style: connectionLineStyle, type: connectionLineType, component: connectionLineComponent, containerStyle: connectionLineContainerStyle })),\n            React.createElement(\"div\", { className: \"react-flow__edgelabel-renderer\" }),\n            React.createElement(NodeRenderer$1, { nodeTypes: nodeTypesWrapped, onNodeClick: onNodeClick, onNodeDoubleClick: onNodeDoubleClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, selectNodesOnDrag: selectNodesOnDrag, onlyRenderVisibleElements: onlyRenderVisibleElements, noPanClassName: noPanClassName, noDragClassName: noDragClassName, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent, rfId: rfId }))));\n};\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = memo(GraphView);\n\nconst infiniteExtent = [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],\n];\nconst initialState = {\n    rfId: '1',\n    width: 0,\n    height: 0,\n    transform: [0, 0, 1],\n    nodeInternals: new Map(),\n    edges: [],\n    onNodesChange: null,\n    onEdgesChange: null,\n    hasDefaultNodes: false,\n    hasDefaultEdges: false,\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: undefined,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: infiniteExtent,\n    nodeExtent: infiniteExtent,\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    connectionNodeId: null,\n    connectionHandleId: null,\n    connectionHandleType: 'source',\n    connectionPosition: { x: 0, y: 0 },\n    connectionStatus: null,\n    connectionMode: ConnectionMode.Strict,\n    domNode: null,\n    paneDragging: false,\n    noPanClassName: 'nopan',\n    nodeOrigin: [0, 0],\n    nodeDragThreshold: 0,\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    nodesDraggable: true,\n    nodesConnectable: true,\n    nodesFocusable: true,\n    edgesFocusable: true,\n    edgesUpdatable: true,\n    elementsSelectable: true,\n    elevateNodesOnSelect: true,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    fitViewOnInitOptions: undefined,\n    onSelectionChange: [],\n    multiSelectionActive: false,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectOnClick: true,\n    ariaLiveMessage: '',\n    autoPanOnConnect: true,\n    autoPanOnNodeDrag: true,\n    connectionRadius: 20,\n    onError: devWarn,\n    isValidConnection: undefined,\n};\n\nconst createRFStore = () => createWithEqualityFn((set, get) => ({\n    ...initialState,\n    setNodes: (nodes) => {\n        const { nodeInternals, nodeOrigin, elevateNodesOnSelect } = get();\n        set({ nodeInternals: createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) });\n    },\n    getNodes: () => {\n        return Array.from(get().nodeInternals.values());\n    },\n    setEdges: (edges) => {\n        const { defaultEdgeOptions = {} } = get();\n        set({ edges: edges.map((e) => ({ ...defaultEdgeOptions, ...e })) });\n    },\n    setDefaultNodesAndEdges: (nodes, edges) => {\n        const hasDefaultNodes = typeof nodes !== 'undefined';\n        const hasDefaultEdges = typeof edges !== 'undefined';\n        const nodeInternals = hasDefaultNodes\n            ? createNodeInternals(nodes, new Map(), get().nodeOrigin, get().elevateNodesOnSelect)\n            : new Map();\n        const nextEdges = hasDefaultEdges ? edges : [];\n        set({ nodeInternals, edges: nextEdges, hasDefaultNodes, hasDefaultEdges });\n    },\n    updateNodeDimensions: (updates) => {\n        const { onNodesChange, nodeInternals, fitViewOnInit, fitViewOnInitDone, fitViewOnInitOptions, domNode, nodeOrigin, } = get();\n        const viewportNode = domNode?.querySelector('.react-flow__viewport');\n        if (!viewportNode) {\n            return;\n        }\n        const style = window.getComputedStyle(viewportNode);\n        const { m22: zoom } = new window.DOMMatrixReadOnly(style.transform);\n        const changes = updates.reduce((res, update) => {\n            const node = nodeInternals.get(update.id);\n            if (node) {\n                const dimensions = getDimensions(update.nodeElement);\n                const doUpdate = !!(dimensions.width &&\n                    dimensions.height &&\n                    (node.width !== dimensions.width || node.height !== dimensions.height || update.forceUpdate));\n                if (doUpdate) {\n                    nodeInternals.set(node.id, {\n                        ...node,\n                        [internalsSymbol]: {\n                            ...node[internalsSymbol],\n                            handleBounds: {\n                                source: getHandleBounds('.source', update.nodeElement, zoom, nodeOrigin),\n                                target: getHandleBounds('.target', update.nodeElement, zoom, nodeOrigin),\n                            },\n                        },\n                        ...dimensions,\n                    });\n                    res.push({\n                        id: node.id,\n                        type: 'dimensions',\n                        dimensions,\n                    });\n                }\n            }\n            return res;\n        }, []);\n        updateAbsoluteNodePositions(nodeInternals, nodeOrigin);\n        const nextFitViewOnInitDone = fitViewOnInitDone ||\n            (fitViewOnInit && !fitViewOnInitDone && fitView(get, { initial: true, ...fitViewOnInitOptions }));\n        set({ nodeInternals: new Map(nodeInternals), fitViewOnInitDone: nextFitViewOnInitDone });\n        if (changes?.length > 0) {\n            onNodesChange?.(changes);\n        }\n    },\n    updateNodePositions: (nodeDragItems, positionChanged = true, dragging = false) => {\n        const { triggerNodeChanges } = get();\n        const changes = nodeDragItems.map((node) => {\n            const change = {\n                id: node.id,\n                type: 'position',\n                dragging,\n            };\n            if (positionChanged) {\n                change.positionAbsolute = node.positionAbsolute;\n                change.position = node.position;\n            }\n            return change;\n        });\n        triggerNodeChanges(changes);\n    },\n    triggerNodeChanges: (changes) => {\n        const { onNodesChange, nodeInternals, hasDefaultNodes, nodeOrigin, getNodes, elevateNodesOnSelect } = get();\n        if (changes?.length) {\n            if (hasDefaultNodes) {\n                const nodes = applyNodeChanges(changes, getNodes());\n                const nextNodeInternals = createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect);\n                set({ nodeInternals: nextNodeInternals });\n            }\n            onNodesChange?.(changes);\n        }\n    },\n    addSelectedNodes: (selectedNodeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedNodes;\n        let changedEdges = null;\n        if (multiSelectionActive) {\n            changedNodes = selectedNodeIds.map((nodeId) => createSelectionChange(nodeId, true));\n        }\n        else {\n            changedNodes = getSelectionChanges(getNodes(), selectedNodeIds);\n            changedEdges = getSelectionChanges(edges, []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    addSelectedEdges: (selectedEdgeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedEdges;\n        let changedNodes = null;\n        if (multiSelectionActive) {\n            changedEdges = selectedEdgeIds.map((edgeId) => createSelectionChange(edgeId, true));\n        }\n        else {\n            changedEdges = getSelectionChanges(edges, selectedEdgeIds);\n            changedNodes = getSelectionChanges(getNodes(), []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    unselectNodesAndEdges: ({ nodes, edges } = {}) => {\n        const { edges: storeEdges, getNodes } = get();\n        const nodesToUnselect = nodes ? nodes : getNodes();\n        const edgesToUnselect = edges ? edges : storeEdges;\n        const changedNodes = nodesToUnselect.map((n) => {\n            n.selected = false;\n            return createSelectionChange(n.id, false);\n        });\n        const changedEdges = edgesToUnselect.map((edge) => createSelectionChange(edge.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    setMinZoom: (minZoom) => {\n        const { d3Zoom, maxZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ minZoom });\n    },\n    setMaxZoom: (maxZoom) => {\n        const { d3Zoom, minZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ maxZoom });\n    },\n    setTranslateExtent: (translateExtent) => {\n        get().d3Zoom?.translateExtent(translateExtent);\n        set({ translateExtent });\n    },\n    resetSelectedElements: () => {\n        const { edges, getNodes } = get();\n        const nodes = getNodes();\n        const nodesToUnselect = nodes\n            .filter((e) => e.selected)\n            .map((n) => createSelectionChange(n.id, false));\n        const edgesToUnselect = edges\n            .filter((e) => e.selected)\n            .map((e) => createSelectionChange(e.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes: nodesToUnselect,\n            changedEdges: edgesToUnselect,\n            get,\n            set,\n        });\n    },\n    setNodeExtent: (nodeExtent) => {\n        const { nodeInternals } = get();\n        nodeInternals.forEach((node) => {\n            node.positionAbsolute = clampPosition(node.position, nodeExtent);\n        });\n        set({\n            nodeExtent,\n            nodeInternals: new Map(nodeInternals),\n        });\n    },\n    panBy: (delta) => {\n        const { transform, width, height, d3Zoom, d3Selection, translateExtent } = get();\n        if (!d3Zoom || !d3Selection || (!delta.x && !delta.y)) {\n            return false;\n        }\n        const nextTransform = zoomIdentity\n            .translate(transform[0] + delta.x, transform[1] + delta.y)\n            .scale(transform[2]);\n        const extent = [\n            [0, 0],\n            [width, height],\n        ];\n        const constrainedTransform = d3Zoom?.constrain()(nextTransform, extent, translateExtent);\n        d3Zoom.transform(d3Selection, constrainedTransform);\n        const transformChanged = transform[0] !== constrainedTransform.x ||\n            transform[1] !== constrainedTransform.y ||\n            transform[2] !== constrainedTransform.k;\n        return transformChanged;\n    },\n    cancelConnection: () => set({\n        connectionNodeId: initialState.connectionNodeId,\n        connectionHandleId: initialState.connectionHandleId,\n        connectionHandleType: initialState.connectionHandleType,\n        connectionStatus: initialState.connectionStatus,\n        connectionStartHandle: initialState.connectionStartHandle,\n        connectionEndHandle: initialState.connectionEndHandle,\n    }),\n    reset: () => set({ ...initialState }),\n}), Object.is);\n\nconst ReactFlowProvider = ({ children }) => {\n    const storeRef = useRef(null);\n    if (!storeRef.current) {\n        storeRef.current = createRFStore();\n    }\n    return React.createElement(Provider$1, { value: storeRef.current }, children);\n};\nReactFlowProvider.displayName = 'ReactFlowProvider';\n\nconst Wrapper = ({ children }) => {\n    const isWrapped = useContext(StoreContext);\n    if (isWrapped) {\n        // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n        return React.createElement(React.Fragment, null, children);\n    }\n    return React.createElement(ReactFlowProvider, null, children);\n};\nWrapper.displayName = 'ReactFlowWrapper';\n\nconst defaultNodeTypes = {\n    input: InputNode$1,\n    default: DefaultNode$1,\n    output: OutputNode$1,\n    group: GroupNode,\n};\nconst defaultEdgeTypes = {\n    default: BezierEdge,\n    straight: StraightEdge,\n    step: StepEdge,\n    smoothstep: SmoothStepEdge,\n    simplebezier: SimpleBezierEdge,\n};\nconst initNodeOrigin = [0, 0];\nconst initSnapGrid = [15, 15];\nconst initDefaultViewport = { x: 0, y: 0, zoom: 1 };\nconst wrapperStyle = {\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n    position: 'relative',\n    zIndex: 0,\n};\nconst ReactFlow = forwardRef(({ nodes, edges, defaultNodes, defaultEdges, className, nodeTypes = defaultNodeTypes, edgeTypes = defaultEdgeTypes, onNodeClick, onEdgeClick, onInit, onMove, onMoveStart, onMoveEnd, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onNodeDoubleClick, onNodeDragStart, onNodeDrag, onNodeDragStop, onNodesDelete, onEdgesDelete, onSelectionChange, onSelectionDragStart, onSelectionDrag, onSelectionDragStop, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionMode = ConnectionMode.Strict, connectionLineType = ConnectionLineType.Bezier, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, deleteKeyCode = 'Backspace', selectionKeyCode = 'Shift', selectionOnDrag = false, selectionMode = SelectionMode.Full, panActivationKeyCode = 'Space', multiSelectionKeyCode = isMacOs() ? 'Meta' : 'Control', zoomActivationKeyCode = isMacOs() ? 'Meta' : 'Control', snapToGrid = false, snapGrid = initSnapGrid, onlyRenderVisibleElements = false, selectNodesOnDrag = true, nodesDraggable, nodesConnectable, nodesFocusable, nodeOrigin = initNodeOrigin, edgesFocusable, edgesUpdatable, elementsSelectable, defaultViewport = initDefaultViewport, minZoom = 0.5, maxZoom = 2, translateExtent = infiniteExtent, preventScrolling = true, nodeExtent, defaultMarkerColor = '#b1b1b7', zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, panOnDrag = true, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, children, onEdgeUpdate, onEdgeContextMenu, onEdgeDoubleClick, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeUpdateStart, onEdgeUpdateEnd, edgeUpdaterRadius = 10, onNodesChange, onEdgesChange, noDragClassName = 'nodrag', noWheelClassName = 'nowheel', noPanClassName = 'nopan', fitView = false, fitViewOptions, connectOnClick = true, attributionPosition, proOptions, defaultEdgeOptions, elevateNodesOnSelect = true, elevateEdgesOnSelect = false, disableKeyboardA11y = false, autoPanOnConnect = true, autoPanOnNodeDrag = true, connectionRadius = 20, isValidConnection, onError, style, id, nodeDragThreshold, ...rest }, ref) => {\n    const rfId = id || '1';\n    return (React.createElement(\"div\", { ...rest, style: { ...style, ...wrapperStyle }, ref: ref, className: cc(['react-flow', className]), \"data-testid\": \"rf__wrapper\", id: id },\n        React.createElement(Wrapper, null,\n            React.createElement(GraphView$1, { onInit: onInit, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onNodeClick: onNodeClick, onEdgeClick: onEdgeClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, onNodeDoubleClick: onNodeDoubleClick, nodeTypes: nodeTypes, edgeTypes: edgeTypes, connectionLineType: connectionLineType, connectionLineStyle: connectionLineStyle, connectionLineComponent: connectionLineComponent, connectionLineContainerStyle: connectionLineContainerStyle, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, deleteKeyCode: deleteKeyCode, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, onlyRenderVisibleElements: onlyRenderVisibleElements, selectNodesOnDrag: selectNodesOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, preventScrolling: preventScrolling, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneScroll: onPaneScroll, onPaneContextMenu: onPaneContextMenu, onSelectionContextMenu: onSelectionContextMenu, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onEdgeUpdate: onEdgeUpdate, onEdgeContextMenu: onEdgeContextMenu, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, elevateEdgesOnSelect: elevateEdgesOnSelect, rfId: rfId, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent }),\n            React.createElement(StoreUpdater, { nodes: nodes, edges: edges, defaultNodes: defaultNodes, defaultEdges: defaultEdges, onConnect: onConnect, onConnectStart: onConnectStart, onConnectEnd: onConnectEnd, onClickConnectStart: onClickConnectStart, onClickConnectEnd: onClickConnectEnd, nodesDraggable: nodesDraggable, nodesConnectable: nodesConnectable, nodesFocusable: nodesFocusable, edgesFocusable: edgesFocusable, edgesUpdatable: edgesUpdatable, elementsSelectable: elementsSelectable, elevateNodesOnSelect: elevateNodesOnSelect, minZoom: minZoom, maxZoom: maxZoom, nodeExtent: nodeExtent, onNodesChange: onNodesChange, onEdgesChange: onEdgesChange, snapToGrid: snapToGrid, snapGrid: snapGrid, connectionMode: connectionMode, translateExtent: translateExtent, connectOnClick: connectOnClick, defaultEdgeOptions: defaultEdgeOptions, fitView: fitView, fitViewOptions: fitViewOptions, onNodesDelete: onNodesDelete, onEdgesDelete: onEdgesDelete, onNodeDragStart: onNodeDragStart, onNodeDrag: onNodeDrag, onNodeDragStop: onNodeDragStop, onSelectionDrag: onSelectionDrag, onSelectionDragStart: onSelectionDragStart, onSelectionDragStop: onSelectionDragStop, noPanClassName: noPanClassName, nodeOrigin: nodeOrigin, rfId: rfId, autoPanOnConnect: autoPanOnConnect, autoPanOnNodeDrag: autoPanOnNodeDrag, onError: onError, connectionRadius: connectionRadius, isValidConnection: isValidConnection, nodeDragThreshold: nodeDragThreshold }),\n            React.createElement(Wrapper$1, { onSelectionChange: onSelectionChange }),\n            children,\n            React.createElement(Attribution, { proOptions: proOptions, position: attributionPosition }),\n            React.createElement(A11yDescriptions, { rfId: rfId, disableKeyboardA11y: disableKeyboardA11y }))));\n});\nReactFlow.displayName = 'ReactFlow';\n\nconst selector$1 = (s) => s.domNode?.querySelector('.react-flow__edgelabel-renderer');\nfunction EdgeLabelRenderer({ children }) {\n    const edgeLabelRenderer = useStore(selector$1);\n    if (!edgeLabelRenderer) {\n        return null;\n    }\n    return createPortal(children, edgeLabelRenderer);\n}\n\nfunction useUpdateNodeInternals() {\n    const store = useStoreApi();\n    return useCallback((id) => {\n        const { domNode, updateNodeDimensions } = store.getState();\n        const updateIds = Array.isArray(id) ? id : [id];\n        const updates = updateIds.reduce((res, updateId) => {\n            const nodeElement = domNode?.querySelector(`.react-flow__node[data-id=\"${updateId}\"]`);\n            if (nodeElement) {\n                res.push({ id: updateId, nodeElement, forceUpdate: true });\n            }\n            return res;\n        }, []);\n        requestAnimationFrame(() => updateNodeDimensions(updates));\n    }, []);\n}\n\nconst nodesSelector = (state) => state.getNodes();\nfunction useNodes() {\n    const nodes = useStore(nodesSelector, shallow);\n    return nodes;\n}\n\nconst edgesSelector = (state) => state.edges;\nfunction useEdges() {\n    const edges = useStore(edgesSelector, shallow);\n    return edges;\n}\n\nconst viewportSelector = (state) => ({\n    x: state.transform[0],\n    y: state.transform[1],\n    zoom: state.transform[2],\n});\nfunction useViewport() {\n    const viewport = useStore(viewportSelector, shallow);\n    return viewport;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction createUseItemsState(applyChanges) {\n    return (initialItems) => {\n        const [items, setItems] = useState(initialItems);\n        const onItemsChange = useCallback((changes) => setItems((items) => applyChanges(changes, items)), []);\n        return [items, setItems, onItemsChange];\n    };\n}\nconst useNodesState = createUseItemsState(applyNodeChanges);\nconst useEdgesState = createUseItemsState(applyEdgeChanges);\n\nfunction useOnViewportChange({ onStart, onChange, onEnd }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        store.setState({ onViewportChangeStart: onStart });\n    }, [onStart]);\n    useEffect(() => {\n        store.setState({ onViewportChange: onChange });\n    }, [onChange]);\n    useEffect(() => {\n        store.setState({ onViewportChangeEnd: onEnd });\n    }, [onEnd]);\n}\n\nfunction useOnSelectionChange({ onChange }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        const nextSelectionChangeHandlers = [...store.getState().onSelectionChange, onChange];\n        store.setState({ onSelectionChange: nextSelectionChangeHandlers });\n        return () => {\n            const nextHandlers = store.getState().onSelectionChange.filter((fn) => fn !== onChange);\n            store.setState({ onSelectionChange: nextHandlers });\n        };\n    }, [onChange]);\n}\n\nconst selector = (options) => (s) => {\n    if (s.nodeInternals.size === 0) {\n        return false;\n    }\n    return s\n        .getNodes()\n        .filter((n) => (options.includeHiddenNodes ? true : !n.hidden))\n        .every((n) => n[internalsSymbol]?.handleBounds !== undefined);\n};\nconst defaultOptions = {\n    includeHiddenNodes: false,\n};\nfunction useNodesInitialized(options = defaultOptions) {\n    const initialized = useStore(selector(options));\n    return initialized;\n}\n\nexport { BaseEdge, BezierEdge, ConnectionLineType, ConnectionMode, EdgeLabelRenderer, EdgeText$1 as EdgeText, Handle$1 as Handle, MarkerType, PanOnScrollMode, Panel, Position, ReactFlow, ReactFlowProvider, SelectionMode, SimpleBezierEdge, SmoothStepEdge, StepEdge, StraightEdge, addEdge, applyEdgeChanges, applyNodeChanges, boxToRect, clamp, getBezierPath, getBoundsOfRects, getConnectedEdges, getIncomers, getMarkerEnd, getNodePositionWithOrigin, getNodesBounds, getOutgoers, getRectOfNodes, getSimpleBezierPath, getSmoothStepPath, getStraightPath, getTransformForBounds, getViewportForBounds, handleParentExpand, internalsSymbol, isEdge, isNode, rectToBox, updateEdge, useEdges, useEdgesState, useGetPointerPosition, useKeyPress, useNodeId, useNodes, useNodesInitialized, useNodesState, useOnSelectionChange, useOnViewportChange, useReactFlow, useStore, useStoreApi, useUpdateNodeInternals, useViewport };\n","import React, { memo, useRef, useEffect } from 'react';\nimport cc from 'classcat';\nimport { shallow } from 'zustand/shallow';\nimport { zoom, zoomIdentity } from 'd3-zoom';\nimport { select, pointer } from 'd3-selection';\nimport { useStore, getNodePositionWithOrigin, useStoreApi, Panel, getBoundsOfRects, getNodesBounds } from '@reactflow/core';\n\nconst MiniMapNode = ({ id, x, y, width, height, style, color, strokeColor, strokeWidth, className, borderRadius, shapeRendering, onClick, selected, }) => {\n    const { background, backgroundColor } = style || {};\n    const fill = (color || background || backgroundColor);\n    return (React.createElement(\"rect\", { className: cc(['react-flow__minimap-node', { selected }, className]), x: x, y: y, rx: borderRadius, ry: borderRadius, width: width, height: height, fill: fill, stroke: strokeColor, strokeWidth: strokeWidth, shapeRendering: shapeRendering, onClick: onClick ? (event) => onClick(event, id) : undefined }));\n};\nMiniMapNode.displayName = 'MiniMapNode';\nvar MiniMapNode$1 = memo(MiniMapNode);\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nconst selector$1 = (s) => s.nodeOrigin;\nconst selectorNodes = (s) => s.getNodes().filter((node) => !node.hidden && node.width && node.height);\nconst getAttrFunction = (func) => (func instanceof Function ? func : () => func);\nfunction MiniMapNodes({ nodeStrokeColor = 'transparent', nodeColor = '#e2e2e2', nodeClassName = '', nodeBorderRadius = 5, nodeStrokeWidth = 2, \n// We need to rename the prop to be `CapitalCase` so that JSX will render it as\n// a component properly.\nnodeComponent: NodeComponent = MiniMapNode$1, onClick, }) {\n    const nodes = useStore(selectorNodes, shallow);\n    const nodeOrigin = useStore(selector$1);\n    const nodeColorFunc = getAttrFunction(nodeColor);\n    const nodeStrokeColorFunc = getAttrFunction(nodeStrokeColor);\n    const nodeClassNameFunc = getAttrFunction(nodeClassName);\n    const shapeRendering = typeof window === 'undefined' || !!window.chrome ? 'crispEdges' : 'geometricPrecision';\n    return (React.createElement(React.Fragment, null, nodes.map((node) => {\n        const { x, y } = getNodePositionWithOrigin(node, nodeOrigin).positionAbsolute;\n        return (React.createElement(NodeComponent, { key: node.id, x: x, y: y, width: node.width, height: node.height, style: node.style, selected: node.selected, className: nodeClassNameFunc(node), color: nodeColorFunc(node), borderRadius: nodeBorderRadius, strokeColor: nodeStrokeColorFunc(node), strokeWidth: nodeStrokeWidth, shapeRendering: shapeRendering, onClick: onClick, id: node.id }));\n    })));\n}\nvar MiniMapNodes$1 = memo(MiniMapNodes);\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nconst defaultWidth = 200;\nconst defaultHeight = 150;\nconst selector = (s) => {\n    const nodes = s.getNodes();\n    const viewBB = {\n        x: -s.transform[0] / s.transform[2],\n        y: -s.transform[1] / s.transform[2],\n        width: s.width / s.transform[2],\n        height: s.height / s.transform[2],\n    };\n    return {\n        viewBB,\n        boundingRect: nodes.length > 0 ? getBoundsOfRects(getNodesBounds(nodes, s.nodeOrigin), viewBB) : viewBB,\n        rfId: s.rfId,\n    };\n};\nconst ARIA_LABEL_KEY = 'react-flow__minimap-desc';\nfunction MiniMap({ style, className, nodeStrokeColor = 'transparent', nodeColor = '#e2e2e2', nodeClassName = '', nodeBorderRadius = 5, nodeStrokeWidth = 2, \n// We need to rename the prop to be `CapitalCase` so that JSX will render it as\n// a component properly.\nnodeComponent, maskColor = 'rgb(240, 240, 240, 0.6)', maskStrokeColor = 'none', maskStrokeWidth = 1, position = 'bottom-right', onClick, onNodeClick, pannable = false, zoomable = false, ariaLabel = 'React Flow mini map', inversePan = false, zoomStep = 10, offsetScale = 5, }) {\n    const store = useStoreApi();\n    const svg = useRef(null);\n    const { boundingRect, viewBB, rfId } = useStore(selector, shallow);\n    const elementWidth = style?.width ?? defaultWidth;\n    const elementHeight = style?.height ?? defaultHeight;\n    const scaledWidth = boundingRect.width / elementWidth;\n    const scaledHeight = boundingRect.height / elementHeight;\n    const viewScale = Math.max(scaledWidth, scaledHeight);\n    const viewWidth = viewScale * elementWidth;\n    const viewHeight = viewScale * elementHeight;\n    const offset = offsetScale * viewScale;\n    const x = boundingRect.x - (viewWidth - boundingRect.width) / 2 - offset;\n    const y = boundingRect.y - (viewHeight - boundingRect.height) / 2 - offset;\n    const width = viewWidth + offset * 2;\n    const height = viewHeight + offset * 2;\n    const labelledBy = `${ARIA_LABEL_KEY}-${rfId}`;\n    const viewScaleRef = useRef(0);\n    viewScaleRef.current = viewScale;\n    useEffect(() => {\n        if (svg.current) {\n            const selection = select(svg.current);\n            const zoomHandler = (event) => {\n                const { transform, d3Selection, d3Zoom } = store.getState();\n                if (event.sourceEvent.type !== 'wheel' || !d3Selection || !d3Zoom) {\n                    return;\n                }\n                const pinchDelta = -event.sourceEvent.deltaY *\n                    (event.sourceEvent.deltaMode === 1 ? 0.05 : event.sourceEvent.deltaMode ? 1 : 0.002) *\n                    zoomStep;\n                const zoom = transform[2] * Math.pow(2, pinchDelta);\n                d3Zoom.scaleTo(d3Selection, zoom);\n            };\n            const panHandler = (event) => {\n                const { transform, d3Selection, d3Zoom, translateExtent, width, height } = store.getState();\n                if (event.sourceEvent.type !== 'mousemove' || !d3Selection || !d3Zoom) {\n                    return;\n                }\n                // @TODO: how to calculate the correct next position? Math.max(1, transform[2]) is a workaround.\n                const moveScale = viewScaleRef.current * Math.max(1, transform[2]) * (inversePan ? -1 : 1);\n                const position = {\n                    x: transform[0] - event.sourceEvent.movementX * moveScale,\n                    y: transform[1] - event.sourceEvent.movementY * moveScale,\n                };\n                const extent = [\n                    [0, 0],\n                    [width, height],\n                ];\n                const nextTransform = zoomIdentity.translate(position.x, position.y).scale(transform[2]);\n                const constrainedTransform = d3Zoom.constrain()(nextTransform, extent, translateExtent);\n                d3Zoom.transform(d3Selection, constrainedTransform);\n            };\n            const zoomAndPanHandler = zoom()\n                // @ts-ignore\n                .on('zoom', pannable ? panHandler : null)\n                // @ts-ignore\n                .on('zoom.wheel', zoomable ? zoomHandler : null);\n            selection.call(zoomAndPanHandler);\n            return () => {\n                selection.on('zoom', null);\n            };\n        }\n    }, [pannable, zoomable, inversePan, zoomStep]);\n    const onSvgClick = onClick\n        ? (event) => {\n            const rfCoord = pointer(event);\n            onClick(event, { x: rfCoord[0], y: rfCoord[1] });\n        }\n        : undefined;\n    const onSvgNodeClick = onNodeClick\n        ? (event, nodeId) => {\n            const node = store.getState().nodeInternals.get(nodeId);\n            onNodeClick(event, node);\n        }\n        : undefined;\n    return (React.createElement(Panel, { position: position, style: style, className: cc(['react-flow__minimap', className]), \"data-testid\": \"rf__minimap\" },\n        React.createElement(\"svg\", { width: elementWidth, height: elementHeight, viewBox: `${x} ${y} ${width} ${height}`, role: \"img\", \"aria-labelledby\": labelledBy, ref: svg, onClick: onSvgClick },\n            ariaLabel && React.createElement(\"title\", { id: labelledBy }, ariaLabel),\n            React.createElement(MiniMapNodes$1, { onClick: onSvgNodeClick, nodeColor: nodeColor, nodeStrokeColor: nodeStrokeColor, nodeBorderRadius: nodeBorderRadius, nodeClassName: nodeClassName, nodeStrokeWidth: nodeStrokeWidth, nodeComponent: nodeComponent }),\n            React.createElement(\"path\", { className: \"react-flow__minimap-mask\", d: `M${x - offset},${y - offset}h${width + offset * 2}v${height + offset * 2}h${-width - offset * 2}z\n        M${viewBB.x},${viewBB.y}h${viewBB.width}v${viewBB.height}h${-viewBB.width}z`, fill: maskColor, fillRule: \"evenodd\", stroke: maskStrokeColor, strokeWidth: maskStrokeWidth, pointerEvents: \"none\" }))));\n}\nMiniMap.displayName = 'MiniMap';\nvar MiniMap$1 = memo(MiniMap);\n\nexport { MiniMap$1 as MiniMap };\n","export default function cc(names) {\n  if (typeof names === \"string\" || typeof names === \"number\") return \"\" + names\n\n  let out = \"\"\n\n  if (Array.isArray(names)) {\n    for (let i = 0, tmp; i < names.length; i++) {\n      if ((tmp = cc(names[i])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  } else {\n    for (let k in names) {\n      if (names[k]) out += (out && \" \") + k\n    }\n  }\n\n  return out\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","function shallow$1(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const [key, value] of objA) {\n      if (!Object.is(value, objB.get(key))) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const value of objA) {\n      if (!objB.has(value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (const keyA of keysA) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keyA) || !Object.is(objA[keyA], objB[keyA])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nvar shallow = (objA, objB) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`.\"\n    );\n  }\n  return shallow$1(objA, objB);\n};\n\nexport { shallow as default, shallow$1 as shallow };\n"],"names":["_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","Object","defineProperty","value","enumerable","get","_utils","createSvgIcon","_jsx","BreadcrumbCollapsedButton","styled","ButtonBase","theme","_extends","display","marginLeft","spacing","marginRight","palette","mode","backgroundColor","grey","color","borderRadius","boxShadow","shadows","emphasize","BreadcrumbCollapsedIcon","MoreHorizIcon","width","height","props","ownerState","children","focusRipple","getBreadcrumbsUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","BreadcrumbsRoot","Typography","name","overridesResolver","styles","breadcrumbsClasses","li","root","BreadcrumbsOl","ol","flexWrap","alignItems","padding","margin","listStyle","BreadcrumbsSeparator","separator","userSelect","insertSeparators","items","className","reduce","acc","current","index","length","concat","push","React","inProps","ref","useThemeProps","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","other","_objectWithoutPropertiesLoose","expanded","setExpanded","classes","composeClasses","useUtilityClasses","listRef","allItems","filter","child","map","clsx","slice","BreadcrumbCollapsed","onClick","focusable","querySelector","focus","renderItemsBeforeAndAfter","validator","reason","componentNameInError","Component","propName","componentName","location","propFullName","unstable_ClassNameGenerator","configure","generator","console","warn","join","ClassNameGenerator","module","obj","__esModule","BackgroundVariant","LinePattern","dimensions","lineWidth","stroke","strokeWidth","DotPattern","radius","cx","cy","r","fill","defaultColor","Dots","Lines","Cross","defaultSize","selector","s","transform","patternId","rfId","Background","id","variant","gap","size","offset","style","useRef","useStore","shallow","patternColor","patternSize","isDots","isCross","gapXY","Array","isArray","scaledGap","scaledSize","patternDimensions","patternOffset","cc","position","top","left","x","y","patternUnits","patternTransform","displayName","Background$1","memo","PlusIcon","xmlns","viewBox","MinusIcon","FitViewIcon","LockIcon","UnlockIcon","ControlButton","rest","type","isInteractive","nodesDraggable","nodesConnectable","elementsSelectable","minZoomReached","minZoom","maxZoomReached","maxZoom","Controls","showZoom","showFitView","showInteractive","fitViewOptions","onZoomIn","onZoomOut","onFitView","onInteractiveChange","store","useStoreApi","useState","isVisible","setIsVisible","useReactFlow","zoomIn","zoomOut","fitView","useEffect","Panel","title","disabled","setState","Controls$1","createStoreImpl","createState","state","listeners","Set","partial","replace","nextState","is","previousState","assign","forEach","listener","getState","api","getInitialState","initialState","subscribe","add","delete","destroy","clear","createStore","useDebugValue","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","identity","arg","useStoreWithEqualityFn","equalityFn","getServerState","createWithEqualityFnImpl","defaultEqualityFn","useBoundStoreWithEqualityFn","DragEvent","sourceEvent","subject","target","identifier","active","dx","dy","dispatch","defineProperties","this","configurable","_","defaultFilter","event","ctrlKey","button","defaultContainer","parentNode","defaultSubject","defaultTouchable","navigator","maxTouchPoints","prototype","on","apply","arguments","StoreContext","createContext","Provider$1","Provider","errorMessages","nodeType","sourceHandle","edge","targetHandle","edgeType","zustandErrorMessage","useContext","Error","useMemo","selector$g","userSelectionActive","pointerEvents","positionClasses","split","Attribution","proOptions","hideAttribution","href","rel","EdgeText$1","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","edgeRef","edgeTextBbox","setEdgeTextBbox","edgeTextClasses","textBbox","getBBox","visibility","rx","ry","getDimensions","node","offsetWidth","offsetHeight","clamp","val","min","max","Math","clampPosition","extent","calcAutoPanVelocity","abs","calcAutoPan","pos","bounds","getHostForElement","element","getRootNode","window","document","getBoundsOfBoxes","box1","box2","x2","y2","rectToBox","boxToRect","nodeToRect","positionAbsolute","getBoundsOfRects","rect1","rect2","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","ceil","isNumeric","n","isNaN","isFinite","internalsSymbol","Symbol","for","elementSelectionKeys","devWarn","message","process","isInputDOMNode","kbEvent","isReactKeyboardEvent","nativeEvent","composedPath","includes","nodeName","hasAttribute","closest","isMouseEvent","getEventPosition","isMouseTriggered","evtX","clientX","touches","evtY","clientY","isMacOs","userAgent","indexOf","BaseEdge","path","labelX","labelY","markerEnd","markerStart","interactionWidth","strokeOpacity","ConnectionMode","PanOnScrollMode","SelectionMode","ConnectionLineType","MarkerType","Position","getMouseHandler$1","handler","undefined","edges","find","e","getEdgeCenter","sourceX","sourceY","targetX","targetY","xOffset","centerX","yOffset","getBezierEdgeCenter","sourceControlX","sourceControlY","targetControlX","centerY","targetControlY","getControl","x1","y1","Left","Right","getSimpleBezierPath","sourcePosition","Bottom","targetPosition","Top","offsetX","offsetY","SimpleBezierEdge","handleDirections","distance","a","b","sqrt","pow","getPoints","source","center","sourceDir","targetDir","sourceGapped","targetGapped","dir","getDirection","dirAccessor","currDir","points","sourceGapOffset","targetGapOffset","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","diff","gapOffset","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","sourceGapPoint","targetGapPoint","getSmoothStepPath","res","p","i","c","bendSize","xDir","yDir","getBend","SmoothStepEdge","pathOptions","StepEdge","StraightEdge","getStraightPath","calculateControlOffset","curvature","getControlWithCurvature","getBezierPath","BezierEdge","NodeIdContext","Consumer","getEdgeId","getMarkerId","marker","idPrefix","keys","sort","key","addEdge","edgeParams","some","el","connectionExists","pointToRendererPoint","snapToGrid","tx","ty","tScale","snapX","snapY","round","rendererPointToPoint","getNodePositionWithOrigin","nodeOrigin","getNodesBounds","nodes","box","currBox","Infinity","getNodesInside","nodeInternals","rect","partially","excludeNonSelectableNodes","paneRect","visibleNodes","selectable","hidden","nodeRect","overlappingArea","dragging","getConnectedEdges","nodeIds","getViewportForBounds","xZoom","yZoom","zoom","clampedZoom","boundsCenterX","boundsCenterY","getD3Transition","selection","duration","transition","getHandles","handleBounds","currentHandle","h","nodeId","nullConnection","defaultResult","handleDomNode","isValid","connection","endHandle","isValidHandle","handle","connectionMode","fromNodeId","fromHandleId","fromType","isValidConnection","doc","isTarget","handleToCheck","result","handleType","getHandleType","handleNodeId","getAttribute","handleId","connectable","classList","contains","connectableEnd","Strict","edgeUpdaterType","resetRecentHandle","remove","getConnectionStatus","isInsideConnectionRadius","isHandleValid","connectionStatus","handlePointerDown","closestHandle","onConnect","onEdgeUpdateEnd","domNode","autoPanOnConnect","connectionRadius","onConnectStart","panBy","getNodes","cancelConnection","autoPanId","clickedHandle","elementFromPoint","containerBounds","getBoundingClientRect","prevActiveHandle","connectionPosition","autoPanStarted","handleLookup","sourceHandles","targetHandles","getHandleLookup","autoPan","xMovement","yMovement","requestAnimationFrame","connectionNodeId","connectionHandleId","connectionHandleType","connectionStartHandle","connectionEndHandle","addEventListener","onPointerMove","onPointerUp","handles","handleBelow","elementsFromPoint","validHandleResult","closestHandles","minDistance","hasValidHandle","hasTargetHandle","getClosestHandle","toggle","onConnectEnd","cancelAnimationFrame","removeEventListener","alwaysValid","selector$f","connectOnClick","noPanClassName","Handle","forwardRef","isConnectable","isConnectableStart","isConnectableEnd","onMouseDown","onTouchStart","startHandle","clickHandle","connectionClickStartHandle","connecting","clickConnecting","connectingSelector","onError","onConnectExtended","params","defaultEdgeOptions","onConnectAction","hasDefaultEdges","setEdges","onPointerDown","connectablestart","connectableend","connectionindicator","onClickConnectStart","onClickConnectEnd","isValidConnectionStore","isValidConnectionHandler","Handle$1","DefaultNode","data","DefaultNode$1","InputNode","InputNode$1","OutputNode","OutputNode$1","GroupNode","selector$e","selectedNodes","selected","selectedEdges","selectId","areEqual","SelectionListener","onSelectionChange","fn","changeSelector","Wrapper$1","storeHasSelectionChange","selector$d","setNodes","setDefaultNodesAndEdges","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","reset","useStoreUpdater","setStoreState","useDirectStoreUpdater","StoreUpdater","defaultNodes","defaultEdges","nodesFocusable","edgesFocusable","edgesUpdatable","elevateNodesOnSelect","nodeExtent","onNodesChange","onEdgesChange","snapGrid","translateExtent","onNodesDelete","onEdgesDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","autoPanOnNodeDrag","nodeDragThreshold","edgesWithDefaults","ariaLiveStyle","border","overflow","clip","clipPath","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","selector$c","ariaLiveMessage","AriaLiveMessage","A11yDescriptions","disableKeyboardA11y","useKeyPress","keyCode","options","actInsideInputWithModifier","keyPressed","setKeyPressed","modifierPressed","pressedKeys","kc","keysFlat","item","keyCodes","keysToWatch","downHandler","metaKey","shiftKey","keyOrCode","useKeyOrCode","code","isMatchingKey","preventDefault","upHandler","resetHandler","isUp","every","k","has","eventCode","calculateXYZPosition","parentNodePosition","z","updateAbsoluteNodePositions","parentNodes","isParent","createNodeInternals","nextNodeInternals","Map","selectedNodeZ","zIndex","currInternals","internals","resetHandleBounds","set","d3Zoom","d3Selection","fitViewOnInitDone","fitViewOnInit","isInitialFitView","initial","d3initialized","includeHiddenNodes","optionNode","nodesInitialized","nextTransform","zoomIdentity","scale","handleControlledNodeSelectionChange","nodeChanges","change","handleControlledEdgeSelectionChange","edgeChanges","updateNodesAndEdgesSelections","changedNodes","changedEdges","hasDefaultNodes","noop","initialViewportHelper","zoomTo","getZoom","setViewport","getViewport","setCenter","fitBounds","project","screenToFlowPosition","flowToScreenPosition","viewportInitialized","selector$b","viewportHelper","scaleBy","zoomLevel","scaleTo","nextZoom","domX","domY","relativePosition","rendererPosition","useViewportHelper","useCallback","getNode","getEdges","getEdge","payload","nextNodes","nextEdges","addNodes","currentNodes","addEdges","toObject","viewport","deleteElements","nodesDeleted","edgesDeleted","edgeIds","nodesToRemove","parentHit","deletable","deletableEdges","initialHitEdges","connectedEdges","edgesToRemove","edgeIdsToRemove","getNodeRect","nodeOrRect","isRect","getIntersectingNodes","currNodeRect","isNodeIntersecting","area","partiallyVisible","deleteKeyOptions","containerStyle","eventToFlowTransform","eventTransform","isWrappedWithClass","isRightClickPan","panOnDrag","usedButton","wheelDelta","factor","deltaY","deltaMode","selector$a","d3ZoomHandler","ZoomPane","onMove","onMoveStart","onMoveEnd","onPaneContextMenu","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","Free","zoomOnDoubleClick","defaultViewport","zoomActivationKeyCode","preventScrolling","noWheelClassName","timerId","isZoomingOrPanning","zoomedWithRightMouseButton","zoomPane","prevTransform","zoomActivationKeyPressed","mouseButton","isPanScrolling","panScrollTimeout","rendererNode","resizeObserver","updateDimensions","ResizeObserver","observe","unobserve","useResizeHandler","bbox","d3ZoomInstance","scaleExtent","select","call","updatedTransform","constrainedTransform","constrain","passive","stopImmediatePropagation","currentZoom","property","_isMacOs","point","pointer","pinchDelta","deltaNormalize","deltaX","Vertical","Horizontal","translateBy","internal","nextViewport","onViewportChangeStart","onViewportChange","onViewportChangeEnd","clearTimeout","setTimeout","flowTransform","paneDragging","prevViewport","zoomScroll","pinchZoom","buttonAllowed","selector$9","userSelectionRect","UserSelection","handleParentExpand","updateItem","parent","extendWidth","extendHeight","xDiff","yDiff","applyChanges","changes","elements","initElements","currentChanges","currentChange","expandParent","updateStyle","resizing","applyNodeChanges","createSelectionChange","getSelectionChanges","selectedIds","willBeSelected","wrapHandler","containerRef","selector$8","Pane","isSelecting","selectionMode","Full","onSelectionStart","onSelectionEnd","onPaneClick","onPaneScroll","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","container","prevSelectedNodesCount","prevSelectedEdgesCount","resetUserSelection","resetSelectedElements","nodesSelectionActive","onWheel","hasActiveSelection","onContextMenu","onMouseEnter","startX","startY","onMouseMove","mousePos","nextUserSelectRect","Partial","selectedEdgeIds","selectedNodeIds","onMouseUp","onMouseLeave","isParentSelected","hasSelector","nodeRef","matches","parentElement","getDragItems","from","values","draggable","delta","clampNodeExtent","calcNextPosition","nextPosition","clampedNodeExtent","currentExtent","parentX","parentY","parentPosition","getEventHandlerParams","dragItems","extentedDragItems","getHandleBounds","nodeElement","querySelectorAll","handlesArray","nodeBounds","nodeOffset","getMouseHandler","handleNodeClick","unselect","addSelectedNodes","unselectNodesAndEdges","multiSelectionActive","blur","wrapSelectionDragFunc","selectionFunc","useDrag","noDragClassName","handleSelector","isSelectable","selectNodesOnDrag","setDragging","lastPos","mousePosition","dragEvent","dragStarted","getPointerPosition","pointerPos","xSnapped","ySnapped","useGetPointerPosition","updateNodes","updateNodePositions","hasChange","nodesBox","adjustedNodeExtent","updatedPos","onDrag","currentNode","startDrag","onStart","dragHandler","mousedownx","mousedowny","mousemoving","touchending","touchable","gestures","clickDistance2","drag","mousedowned","touchstarted","touchmoved","nonpassive","touchended","gesture","beforestart","view","mousemoved","nonpassivecapture","mouseupped","nodrag","nopropagation","noevent","mouse","yesdrag","changedTouches","that","touch","copy","p0","constant","clickDistance","onStop","useUpdateNodePositions","xVelo","yVelo","isShiftPressed","positionDiffX","positionDiffY","arrowKeyDiffs","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","wrapNode","NodeComponent","NodeWrapper","xPos","yPos","xPosOrigin","yPosOrigin","onDoubleClick","isDraggable","isFocusable","dragHandle","initialized","ariaLabel","hasHandleBounds","prevSourcePosition","prevTargetPosition","prevType","hasPointerEvents","updatePositions","onMouseEnterHandler","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onDoubleClickHandler","currNode","typeChanged","sourcePosChanged","targetPosChanged","updateNodeDimensions","forceUpdate","onKeyDown","hasOwnProperty","toLowerCase","tabIndex","role","selector$7","transformString","NodesSelection$1","onSelectionContextMenu","preventScroll","selector$6","FlowRenderer","deleteKeyCode","selectionKeyCode","selectionOnDrag","multiSelectionKeyCode","panActivationKeyCode","_panOnScroll","_panOnDrag","selectionKeyPressed","panActivationKeyPressed","deleteKeyPressed","multiSelectionKeyPressed","useGlobalKeyHandler","FlowRenderer$1","createNodeTypes","nodeTypes","standardTypes","input","output","group","specialTypes","selector$5","NodeRenderer","onlyRenderVisible","onlyRenderVisibleElements","resizeObserverRef","observer","entries","updates","entry","disconnect","clampedPosition","posX","posY","posOrigin","origin","getPositionWithOrigin","onNodeClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","NodeRenderer$1","shiftX","shift","shiftY","EdgeUpdaterClassName","EdgeAnchor","onMouseOut","alwaysValidConnection","wrapEdge","EdgeComponent","EdgeWrapper","onEdgeDoubleClick","animated","sourceHandleId","targetHandleId","edgeUpdaterRadius","onEdgeUpdate","onEdgeUpdateStart","isUpdatable","updateHover","setUpdateHover","updating","setUpdating","markerStartUrl","markerEndUrl","onEdgeDoubleClickHandler","onEdgeContextMenu","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","handleEdgeUpdater","isSourceHandle","evt","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","inactive","addSelectedEdges","createEdgeTypes","edgeTypes","straight","bezier","step","smoothstep","simplebezier","getHandlePosition","getHandle","getNodeData","defaultEdgeTree","level","isMaxLevel","useVisibleEdges","elevateEdgesOnSelect","maxLevel","levelLookup","tree","hasZIndex","targetNode","sourceNode","edgeOrConnectedNodeSelected","selectedZIndex","edgeTree","groupEdgesByZLevel","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","isEdgeVisible","MarkerSymbols","Arrow","strokeLinecap","strokeLinejoin","ArrowClosed","Marker","markerUnits","orient","useMarkerSymbol","markerWidth","markerHeight","refX","refY","MarkerDefinitions","markers","ids","markerId","localeCompare","markerSelector","m","MarkerDefinitions$1","selector$4","EdgeRenderer","defaultMarkerColor","onEdgeClick","sourceNodeRect","sourceHandleBounds","sourceIsValid","targetNodeRect","targetHandleBounds","targetIsValid","targetNodeHandles","updatable","sourceHandlePos","targetHandlePos","getEdgePositions","EdgeRenderer$1","selector$3","Viewport","oppositePosition","ConnectionLine","Bezier","CustomComponent","fromNode","toX","toY","fromHandleBounds","Loose","fromHandle","fromHandleX","fromHandleY","fromX","fromY","fromPosition","toPosition","connectionLineType","connectionLineStyle","dAttr","pathParams","Step","SmoothStep","SimpleBezier","selector$2","ConnectionLineWrapper","useNodeOrEdgeTypes","nodeOrEdgeTypes","createTypes","GraphView","onInit","connectionLineComponent","connectionLineContainerStyle","nodeTypesWrapped","edgeTypesWrapped","rfInstance","isInitialized","useOnInitHandler","GraphView$1","infiniteExtent","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","fitViewOnInitOptions","createRFStore","viewportNode","getComputedStyle","DOMMatrixReadOnly","m22","update","nextFitViewOnInitDone","nodeDragItems","positionChanged","triggerNodeChanges","edgeId","storeEdges","nodesToUnselect","edgesToUnselect","ReactFlowProvider","storeRef","Wrapper","defaultNodeTypes","defaultEdgeTypes","initNodeOrigin","initSnapGrid","initDefaultViewport","wrapperStyle","ReactFlow","attributionPosition","createUseItemsState","initialItems","setItems","onItemsChange","useNodesState","useEdgesState","MiniMapNode","strokeColor","shapeRendering","background","MiniMapNode$1","selector$1","selectorNodes","getAttrFunction","func","Function","MiniMapNodes$1","nodeStrokeColor","nodeColor","nodeClassName","nodeBorderRadius","nodeStrokeWidth","nodeComponent","nodeColorFunc","nodeStrokeColorFunc","nodeClassNameFunc","chrome","viewBB","boundingRect","MiniMap","maskColor","maskStrokeColor","maskStrokeWidth","pannable","zoomable","inversePan","zoomStep","offsetScale","svg","elementWidth","elementHeight","scaledWidth","scaledHeight","viewScale","viewWidth","viewHeight","labelledBy","viewScaleRef","zoomAndPanHandler","moveScale","movementX","movementY","onSvgClick","rfCoord","onSvgNodeClick","fillRule","MiniMap$1","names","out","tmp","t","test","Dispatch","parseTypenames","typenames","types","trim","callback","constructor","typename","T","args","documentElement","__noselect","MozUserSelect","noclick","capture","childMatcher","prefix","namespaces","space","local","xhtml","xlink","xml","currentTarget","ownerSVGElement","createSVGPoint","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","pageX","pageY","Selection","array","childFirst","firstElementChild","EnterNode","datum","ownerDocument","namespaceURI","_next","_parent","__data__","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","arraylike","ascending","NaN","appendChild","insertBefore","next","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","propertyRemove","propertyConstant","propertyFunction","classArray","string","ClassList","_node","_names","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","splice","creatorInherit","uri","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","onRemove","__on","o","j","onAdd","contextListener","dispatchEvent","defaultView","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","groups","_groups","parents","_parents","subgroups","subnode","subgroup","selectAll","arrayAll","selectorAll","selectChild","match","childFind","selectChildren","childrenFilter","matcher","bind","enterGroup","updateGroup","exitGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","context","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compare","compareNode","sortgroups","sortgroup","empty","each","attr","getAttributeNS","selection_style","classed","text","html","create","creator","insert","before","deep","iterator","selection_iterator","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","none","cosh","exp","taskHead","taskTail","zoomRho","rho","rho2","rho4","p1","S","ux0","uy0","w0","ux1","uy1","w1","d2","log","d1","b0","b1","r0","r1","coshr0","u","sinh","SQRT2","_1","_2","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","f","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","t2","t1","sleep","nap","poke","clearInterval","setInterval","elapsed","stop","TypeError","emptyOn","emptyTween","timing","schedules","__transition","self","tween","schedule","start","tick","ease","init","svgNode","degrees","PI","translateX","translateY","rotate","skewX","scaleX","scaleY","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","q","xa","ya","xb","yb","number","translate","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","factory","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","l","exec","parseInt","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","toString","Hsl","hslConvert","clamph","clampt","hsl2rgb","m2","define","channels","displayable","formatHex8","formatHsl","basis","v0","v1","v2","v3","t3","linear","gamma","nogamma","exponential","rgbGamma","end","colorRgb","rgbSpline","spline","colors","floor","reA","reB","am","bm","bs","bi","lastIndex","one","zero","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","removeFunction","easeVarying","Promise","resolve","reject","cancel","interrupt","defaultTiming","ZoomEvent","Transform","applyX","applyY","invert","invertX","invertY","rescaleX","domain","range","rescaleY","defaultExtent","SVGElement","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","defaultConstrain","dx0","dx1","dy0","dy1","touchstarting","touchfirst","interpolateZoom","touchDelay","tapDistance","wheeled","dblclicked","centroid","w","clean","__zooming","Gesture","taps","wheel","wheelidled","x0","y0","dragDisable","moved","dragEnable","k1","started","touch0","touch1","l0","l1","dp","dl","hypot","collection","k0","translateTo","emit","shallow$1","objA","objB","keysA","keyA"],"sourceRoot":""}