(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[280],{76392:function(e,t,n){"use strict";var o=n(91941);t.Z=void 0;var r=o(n(45649)),i=n(80184),a=(0,r.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm.06 17v-2.01H12c-1.28 0-2.56-.49-3.54-1.46-1.71-1.71-1.92-4.35-.64-6.29l1.1 1.1c-.71 1.33-.53 3.01.59 4.13.7.7 1.62 1.03 2.54 1.01v-2.14l2.83 2.83L12.06 19zm4.11-4.24-1.1-1.1c.71-1.33.53-3.01-.59-4.13C13.79 8.84 12.9 8.5 12 8.5h-.06v2.15L9.11 7.83 11.94 5v2.02c1.3-.02 2.61.45 3.6 1.45 1.7 1.7 1.91 4.35.63 6.29z"}),"ChangeCircle");t.Z=a},16494:function(e,t,n){"use strict";var o=n(91941);t.Z=void 0;var r=o(n(45649)),i=n(80184),a=(0,r.default)((0,i.jsx)("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"}),"Input");t.Z=a},80460:function(e,t,n){"use strict";var o=n(91941);t.Z=void 0;var r=o(n(45649)),i=n(80184),a=(0,r.default)([(0,i.jsx)("path",{d:"m17 17 5-5-5-5-1.41 1.41L18.17 11H9v2h9.17l-2.58 2.59z"},"0"),(0,i.jsx)("path",{d:"M19 19H5V5h14v2h2V5c0-1.1-.89-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.11 0 2-.9 2-2v-2h-2v2z"},"1")],"Output");t.Z=a},45649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=n(54421)},93517:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var o=n(42982),r=n(70885),i=n(4942),a=n(87462),l=n(63366),u=n(72791),c=(n(57441),n(28182)),s=n(94419),d=n(66934),f=n(31402),h=n(20890),v=n(12065),g=n(74223),p=n(80184),m=(0,g.Z)((0,p.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),y=n(23701),b=(0,d.ZP)(y.Z)((function(e){var t=e.theme;return(0,a.Z)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,a.Z)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,a.Z)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,v._4)(t.palette.grey[200],.12)}:{backgroundColor:(0,v._4)(t.palette.grey[600],.12)})})})),w=(0,d.ZP)(m)({width:24,height:16});var x=function(e){var t=e;return(0,p.jsx)("li",{children:(0,p.jsx)(b,(0,a.Z)({focusRipple:!0},e,{ownerState:t,children:(0,p.jsx)(w,{ownerState:t})}))})},S=n(21217);function E(e){return(0,S.Z)("MuiBreadcrumbs",e)}var C=(0,n(75878).Z)("MuiBreadcrumbs",["root","ol","li","separator"]),_=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],N=(0,d.ZP)(h.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return[(0,i.Z)({},"& .".concat(C.li),t.li),t.root]}})({}),M=(0,d.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),k=(0,d.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Z(e,t,n,o){return e.reduce((function(r,i,a){return a<e.length-1?r=r.concat(i,(0,p.jsx)(k,{"aria-hidden":!0,className:t,ownerState:o,children:n},"separator-".concat(a))):r.push(i),r}),[])}var P=u.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiBreadcrumbs"}),i=n.children,d=n.className,h=n.component,v=void 0===h?"nav":h,g=n.expandText,m=void 0===g?"Show path":g,y=n.itemsAfterCollapse,b=void 0===y?1:y,w=n.itemsBeforeCollapse,S=void 0===w?1:w,C=n.maxItems,k=void 0===C?8:C,P=n.separator,A=void 0===P?"/":P,O=(0,l.Z)(n,_),I=u.useState(!1),D=(0,r.Z)(I,2),z=D[0],R=D[1],B=(0,a.Z)({},n,{component:v,expanded:z,expandText:m,itemsAfterCollapse:b,itemsBeforeCollapse:S,maxItems:k,separator:A}),T=function(e){var t=e.classes;return(0,s.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},E,t)}(B),H=u.useRef(null),L=u.Children.toArray(i).filter((function(e){return u.isValidElement(e)})).map((function(e,t){return(0,p.jsx)("li",{className:T.li,children:e},"child-".concat(t))}));return(0,p.jsx)(N,(0,a.Z)({ref:t,component:v,color:"text.secondary",className:(0,c.Z)(T.root,d),ownerState:B},O,{children:(0,p.jsx)(M,{className:T.ol,ref:H,ownerState:B,children:Z(z||k&&L.length<=k?L:function(e){return S+b>=e.length?e:[].concat((0,o.Z)(e.slice(0,S)),[(0,p.jsx)(x,{"aria-label":m,onClick:function(){R(!0);var e=H.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],(0,o.Z)(e.slice(e.length-b,e.length)))}(L),T.separator,A,B)})}))}))},54421:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return a.Z},debounce:function(){return l.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return c.Z},ownerDocument:function(){return s.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return h},unstable_ClassNameGenerator:function(){return x},unstable_useEnhancedEffect:function(){return v.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return p},useControlled:function(){return m.Z},useEventCallback:function(){return y.Z},useForkRef:function(){return b.Z},useIsFocusVisible:function(){return w.Z}});var o=n(55902),r=n(14036),i=n(78949).Z,a=n(74223),l=n(83199);var u=function(e,t){return function(){return null}},c=n(19103),s=n(98301),d=n(17602);n(87462);var f=function(e,t){return function(){return null}},h=n(62971).Z,v=n(40162),g=n(67384);var p=function(e,t,n,o,r){return null},m=n(98278),y=n(89683),b=n(42071),w=n(23031),x={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),o.Z.configure(e)}}},68107:function(){},91941:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7570:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var o,r,i,a=n(1413),l=n(4942),u=n(72791),c=n(5869),s=n(15348),d=n(25848);function f(e){var t=e.color,n=e.dimensions,o=e.lineWidth;return u.createElement("path",{stroke:t,strokeWidth:o,d:"M".concat(n[0]/2," 0 V").concat(n[1]," M0 ").concat(n[1]/2," H").concat(n[0])})}function h(e){var t=e.color,n=e.radius;return u.createElement("circle",{cx:n,cy:n,r:n,fill:t})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(i||(i={}));var v=(o={},(0,l.Z)(o,i.Dots,"#91919a"),(0,l.Z)(o,i.Lines,"#eee"),(0,l.Z)(o,i.Cross,"#e2e2e2"),o),g=(r={},(0,l.Z)(r,i.Dots,1),(0,l.Z)(r,i.Lines,1),(0,l.Z)(r,i.Cross,6),r),p=function(e){return{transform:e.transform,patternId:"pattern-".concat(e.rfId)}};function m(e){var t=e.id,n=e.variant,o=void 0===n?i.Dots:n,r=e.gap,l=void 0===r?20:r,m=e.size,y=e.lineWidth,b=void 0===y?1:y,w=e.offset,x=void 0===w?2:w,S=e.color,E=e.style,C=e.className,_=(0,u.useRef)(null),N=(0,s.oR)(p,d.X),M=N.transform,k=N.patternId,Z=S||v[o],P=m||g[o],A=o===i.Dots,O=o===i.Cross,I=Array.isArray(l)?l:[l,l],D=[I[0]*M[2]||1,I[1]*M[2]||1],z=P*M[2],R=O?[z,z]:D,B=A?[z/x,z/x]:[R[0]/x,R[1]/x];return u.createElement("svg",{className:(0,c.Z)(["react-flow__background",C]),style:(0,a.Z)((0,a.Z)({},E),{},{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:_,"data-testid":"rf__background"},u.createElement("pattern",{id:k+t,x:M[0]%D[0],y:M[1]%D[1],width:D[0],height:D[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(B[0],",-").concat(B[1],")")},A?u.createElement(h,{color:Z,radius:z/x}):u.createElement(f,{dimensions:R,color:Z,lineWidth:b})),u.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(k+t,")")}))}m.displayName="Background";var y=(0,u.memo)(m)},51247:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var o=n(70885),r=n(1413),i=n(45987),a=n(72791),l=n(5869),u=n(25848),c=n(15348),s=["children","className"];function d(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},a.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function f(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},a.createElement("path",{d:"M0 0h32v4.2H0z"}))}function h(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},a.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function v(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},a.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function g(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},a.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}var p=function(e){var t=e.children,n=e.className,o=(0,i.Z)(e,s);return a.createElement("button",(0,r.Z)({type:"button",className:(0,l.Z)(["react-flow__controls-button",n])},o),t)};p.displayName="ControlButton";var m=function(e){return{isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}},y=function(e){var t=e.style,n=e.showZoom,r=void 0===n||n,i=e.showFitView,s=void 0===i||i,y=e.showInteractive,b=void 0===y||y,w=e.fitViewOptions,x=e.onZoomIn,S=e.onZoomOut,E=e.onFitView,C=e.onInteractiveChange,_=e.className,N=e.children,M=e.position,k=void 0===M?"bottom-left":M,Z=(0,c.AC)(),P=(0,a.useState)(!1),A=(0,o.Z)(P,2),O=A[0],I=A[1],D=(0,c.oR)(m,u.X),z=D.isInteractive,R=D.minZoomReached,B=D.maxZoomReached,T=(0,c._K)(),H=T.zoomIn,L=T.zoomOut,X=T.fitView;if((0,a.useEffect)((function(){I(!0)}),[]),!O)return null;return a.createElement(c.s_,{className:(0,l.Z)(["react-flow__controls",_]),position:k,style:t,"data-testid":"rf__controls"},r&&a.createElement(a.Fragment,null,a.createElement(p,{onClick:function(){H(),null===x||void 0===x||x()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:B},a.createElement(d,null)),a.createElement(p,{onClick:function(){L(),null===S||void 0===S||S()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:R},a.createElement(f,null))),s&&a.createElement(p,{className:"react-flow__controls-fitview",onClick:function(){X(w),null===E||void 0===E||E()},title:"fit view","aria-label":"fit view"},a.createElement(h,null)),b&&a.createElement(p,{className:"react-flow__controls-interactive",onClick:function(){Z.setState({nodesDraggable:!z,nodesConnectable:!z,elementsSelectable:!z}),null===C||void 0===C||C(!z)},title:"toggle interactivity","aria-label":"toggle interactivity"},z?a.createElement(g,null):a.createElement(v,null)),N)};y.displayName="Controls";var b=(0,a.memo)(y)},15348:function(e,t,n){"use strict";n.d(t,{s_:function(){return ee},x$:function(){return Po},tV:function(){return So},Z_:function(){return $e},oI:function(){return he},VP:function(){return et},RX:function(){return tt},ll:function(){return Io},Rr:function(){return Oo},_K:function(){return tn},oR:function(){return $},AC:function(){return Q}});var o=n(37762),r=n(4942),i=n(70885),a=n(42982),l=n(1413),u=n(45987),c=n(72791),s=n(5869),d=n(30327),f=function(e){var t,n=new Set,o=function(e,o){var r="function"===typeof e?e(t):e;if(!Object.is(r,t)){var i=t;t=(null!=o?o:"object"!==typeof r||null===r)?r:Object.assign({},t,r),n.forEach((function(e){return e(t,i)}))}},r=function(){return t},i={setState:o,getState:r,getInitialState:function(){return a},subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(o,r,i);return i},h=function(e){return e?f(e):f},v=c.useDebugValue,g=d.useSyncExternalStoreWithSelector,p=function(e){return e};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=arguments.length>2?arguments[2]:void 0,o=g(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return v(o),o}var y=function(e,t){var n=h(e),o=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(n,e,o)};return Object.assign(o,n),o},b=n(25848),w=n(18208),x=n(62988),S=n(84308),E=n(16383),C=n(36890),_=n(54085),N=function(e){return function(){return e}};function M(e,t){var n=t.sourceEvent,o=t.subject,r=t.target,i=t.identifier,a=t.active,l=t.x,u=t.y,c=t.dx,s=t.dy,d=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:d}})}function k(e){return!e.ctrlKey&&!e.button}function Z(){return this.parentNode}function P(e,t){return null==t?{x:e.x,y:e.y}:t}function A(){return navigator.maxTouchPoints||"ontouchstart"in this}M.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};n(54164);var O,I,D,z=["position","children","className","style"],R=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],B=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],T=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"],H=(0,c.createContext)(null),L=H.Provider,X=function(e){return'Node type "'.concat(e,'" not found. Using fallback type "default".')},V=function(){return"The React Flow parent container needs a width and a height to render the graph."},Y=function(){return"Only child nodes can use a parent extent."},F=function(){return"Can't create edge. An edge needs a source and a target."},K=function(e){return'Marker type "'.concat(e,"\" doesn't exist.")},U=function(e,t){return"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,".")},j=function(){return"Handle: No node id found. Make sure to only use a Handle inside a custom Node."},W=function(e){return'Edge type "'.concat(e,'" not found. Using fallback type "default".')},q=function(e){return'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.')},G=function(){return"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001"}();function $(e,t){var n=(0,c.useContext)(H);if(null===n)throw new Error(G);return m(n,e,t)}var Q=function(){var e=(0,c.useContext)(H);if(null===e)throw new Error(G);return(0,c.useMemo)((function(){return{getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}}),[e])},J=function(e){return e.userSelectionActive?"none":"all"};function ee(e){var t=e.position,n=e.children,o=e.className,r=e.style,i=(0,u.Z)(e,z),d=$(J),f="".concat(t).split("-");return c.createElement("div",(0,l.Z)({className:(0,s.Z)(["react-flow__panel",o].concat((0,a.Z)(f))),style:(0,l.Z)((0,l.Z)({},r),{},{pointerEvents:d})},i),n)}function te(e){var t=e.proOptions,n=e.position,o=void 0===n?"bottom-right":n;return null!==t&&void 0!==t&&t.hideAttribution?null:c.createElement(ee,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},c.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var ne=(0,c.memo)((function(e){var t=e.x,n=e.y,o=e.label,r=e.labelStyle,a=void 0===r?{}:r,d=e.labelShowBg,f=void 0===d||d,h=e.labelBgStyle,v=void 0===h?{}:h,g=e.labelBgPadding,p=void 0===g?[2,4]:g,m=e.labelBgBorderRadius,y=void 0===m?2:m,b=e.children,w=e.className,x=(0,u.Z)(e,R),S=(0,c.useRef)(null),E=(0,c.useState)({x:0,y:0,width:0,height:0}),C=(0,i.Z)(E,2),_=C[0],N=C[1],M=(0,s.Z)(["react-flow__edge-textwrapper",w]);return(0,c.useEffect)((function(){if(S.current){var e=S.current.getBBox();N({x:e.x,y:e.y,width:e.width,height:e.height})}}),[o]),"undefined"!==typeof o&&o?c.createElement("g",(0,l.Z)({transform:"translate(".concat(t-_.width/2," ").concat(n-_.height/2,")"),className:M,visibility:_.width?"visible":"hidden"},x),f&&c.createElement("rect",{width:_.width+2*p[0],x:-p[0],y:-p[1],height:_.height+2*p[1],className:"react-flow__edge-textbg",style:v,rx:y,ry:y}),c.createElement("text",{className:"react-flow__edge-text",y:_.height/2,dy:"0.3em",ref:S,style:a},o),b):null})),oe=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:re(e.x,t[0][0],t[1][0]),y:re(e.y,t[0][1],t[1][1])}},ae=function(e,t,n){return e<t?re(Math.abs(e-t),1,50)/50:e>n?-re(Math.abs(e-n),1,50)/50:0},le=function(e,t){return[20*ae(e.x,35,t.width-35),20*ae(e.y,35,t.height-35)]},ue=function(e){var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},ce=function(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}},se=function(e){var t=e.x,n=e.y;return{x:t,y:n,x2:t+e.width,y2:n+e.height}},de=function(e){var t=e.x,n=e.y;return{x:t,y:n,width:e.x2-t,height:e.y2-n}},fe=function(e){return(0,l.Z)((0,l.Z)({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0})},he=function(e,t){return de(ce(se(e),se(t)))},ve=function(e,t){var n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},ge=function(e){return!isNaN(e)&&isFinite(e)},pe=Symbol.for("internals"),me=["Enter"," ","Escape"],ye=function(e,t){0};function be(e){var t,n,o=function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,r=(null===(t=o.composedPath)||void 0===t||null===(n=t.call(o))||void 0===n?void 0:n[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===r||void 0===r?void 0:r.nodeName)||(null===r||void 0===r?void 0:r.hasAttribute("contenteditable"))||!(null===r||void 0===r||!r.closest(".nokey"))}var we=function(e){return"clientX"in e},xe=function(e,t){var n,o,r,i,a=we(e),l=a?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,u=a?e.clientY:null===(o=e.touches)||void 0===o?void 0:o[0].clientY;return{x:l-(null!==(r=null===t||void 0===t?void 0:t.left)&&void 0!==r?r:0),y:u-(null!==(i=null===t||void 0===t?void 0:t.top)&&void 0!==i?i:0)}},Se=function(){var e,t;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t?void 0:t.indexOf("Mac"))>=0},Ee=function(e){var t=e.id,n=e.path,o=e.labelX,r=e.labelY,i=e.label,a=e.labelStyle,l=e.labelShowBg,u=e.labelBgStyle,s=e.labelBgPadding,d=e.labelBgBorderRadius,f=e.style,h=e.markerEnd,v=e.markerStart,g=e.interactionWidth,p=void 0===g?20:g;return c.createElement(c.Fragment,null,c.createElement("path",{id:t,style:f,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:v}),p&&c.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&ge(o)&&ge(r)?c.createElement(ne,{x:o,y:r,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:s,labelBgBorderRadius:d}):null)};Ee.displayName="BaseEdge";var Ce,_e,Ne,Me,ke,Ze;function Pe(e,t,n){return void 0===n?n:function(o){var r=t().edges.find((function(t){return t.id===e}));r&&n(o,(0,l.Z)({},r))}}function Ae(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,i=Math.abs(o-t)/2,a=o<t?o+i:o-i,l=Math.abs(r-n)/2;return[a,r<n?r+l:r-l,i,l]}function Oe(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,i=e.sourceControlX,a=e.sourceControlY,l=.125*t+.375*i+.375*e.targetControlX+.125*o,u=.125*n+.375*a+.375*e.targetControlY+.125*r;return[l,u,Math.abs(l-t),Math.abs(u-n)]}function Ie(e){var t=e.pos,n=e.x1,o=e.y1,r=e.x2,i=e.y2;return t===Ze.Left||t===Ze.Right?[.5*(n+r),o]:[n,.5*(o+i)]}function De(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=void 0===o?Ze.Bottom:o,a=e.targetX,l=e.targetY,u=e.targetPosition,c=void 0===u?Ze.Top:u,s=Ie({pos:r,x1:t,y1:n,x2:a,y2:l}),d=(0,i.Z)(s,2),f=d[0],h=d[1],v=Ie({pos:c,x1:a,y1:l,x2:t,y2:n}),g=(0,i.Z)(v,2),p=g[0],m=g[1],y=Oe({sourceX:t,sourceY:n,targetX:a,targetY:l,sourceControlX:f,sourceControlY:h,targetControlX:p,targetControlY:m}),b=(0,i.Z)(y,4),w=b[0],x=b[1],S=b[2],E=b[3];return["M".concat(t,",").concat(n," C").concat(f,",").concat(h," ").concat(p,",").concat(m," ").concat(a,",").concat(l),w,x,S,E]}!function(e){e.Strict="strict",e.Loose="loose"}(Ce||(Ce={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(_e||(_e={})),function(e){e.Partial="partial",e.Full="full"}(Ne||(Ne={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(Me||(Me={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(ke||(ke={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Ze||(Ze={}));var ze=(0,c.memo)((function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.sourcePosition,l=void 0===a?Ze.Bottom:a,u=e.targetPosition,s=void 0===u?Ze.Top:u,d=e.label,f=e.labelStyle,h=e.labelShowBg,v=e.labelBgStyle,g=e.labelBgPadding,p=e.labelBgBorderRadius,m=e.style,y=e.markerEnd,b=e.markerStart,w=e.interactionWidth,x=De({sourceX:t,sourceY:n,sourcePosition:l,targetX:o,targetY:r,targetPosition:s}),S=(0,i.Z)(x,3),E=S[0],C=S[1],_=S[2];return c.createElement(Ee,{path:E,labelX:C,labelY:_,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:v,labelBgPadding:g,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,interactionWidth:w})}));ze.displayName="SimpleBezierEdge";var Re=(O={},(0,r.Z)(O,Ze.Left,{x:-1,y:0}),(0,r.Z)(O,Ze.Right,{x:1,y:0}),(0,r.Z)(O,Ze.Top,{x:0,y:-1}),(0,r.Z)(O,Ze.Bottom,{x:0,y:1}),O),Be=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Te(e){var t,n,o=e.source,r=e.sourcePosition,l=void 0===r?Ze.Bottom:r,u=e.target,c=e.targetPosition,s=void 0===c?Ze.Top:c,d=e.center,f=e.offset,h=Re[l],v=Re[s],g={x:o.x+h.x*f,y:o.y+h.y*f},p={x:u.x+v.x*f,y:u.y+v.y*f},m=function(e){var t=e.source,n=e.sourcePosition,o=void 0===n?Ze.Bottom:n,r=e.target;return o===Ze.Left||o===Ze.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}}({source:g,sourcePosition:l,target:p}),y=0!==m.x?"x":"y",b=m[y],w=[],x={x:0,y:0},S={x:0,y:0},E=Ae({sourceX:o.x,sourceY:o.y,targetX:u.x,targetY:u.y}),C=(0,i.Z)(E,4),_=C[0],N=C[1],M=C[2],k=C[3];if(h[y]*v[y]===-1){t=d.x||_,n=d.y||N;var Z=[{x:t,y:g.y},{x:t,y:p.y}],P=[{x:g.x,y:n},{x:p.x,y:n}];w=h[y]===b?"x"===y?Z:P:"x"===y?P:Z}else{var A=[{x:g.x,y:p.y}],O=[{x:p.x,y:g.y}];if(w="x"===y?h.x===b?O:A:h.y===b?A:O,l===s){var I=Math.abs(o[y]-u[y]);if(I<=f){var D=Math.min(f-1,f-I);h[y]===b?x[y]=(g[y]>o[y]?-1:1)*D:S[y]=(p[y]>u[y]?-1:1)*D}}if(l!==s){var z="x"===y?"y":"x",R=h[y]===v[z],B=g[z]>p[z],T=g[z]<p[z];(1===h[y]&&(!R&&B||R&&T)||1!==h[y]&&(!R&&T||R&&B))&&(w="x"===y?A:O)}var H={x:g.x+x.x,y:g.y+x.y},L={x:p.x+S.x,y:p.y+S.y};Math.max(Math.abs(H.x-w[0].x),Math.abs(L.x-w[0].x))>=Math.max(Math.abs(H.y-w[0].y),Math.abs(L.y-w[0].y))?(t=(H.x+L.x)/2,n=w[0].y):(t=w[0].x,n=(H.y+L.y)/2)}return[[o,{x:g.x+x.x,y:g.y+x.y}].concat((0,a.Z)(w),[{x:p.x+S.x,y:p.y+S.y},u]),t,n,M,k]}function He(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=void 0===o?Ze.Bottom:o,a=e.targetX,l=e.targetY,u=e.targetPosition,c=void 0===u?Ze.Top:u,s=e.borderRadius,d=void 0===s?5:s,f=e.centerX,h=e.centerY,v=e.offset,g=Te({source:{x:t,y:n},sourcePosition:r,target:{x:a,y:l},targetPosition:c,center:{x:f,y:h},offset:void 0===v?20:v}),p=(0,i.Z)(g,5),m=p[0],y=p[1],b=p[2],w=p[3],x=p[4];return[m.reduce((function(e,t,n){return e+=n>0&&n<m.length-1?function(e,t,n,o){var r=Math.min(Be(e,t)/2,Be(t,n)/2,o),i=t.x,a=t.y;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return"L".concat(i," ").concat(a);if(e.y===a){var l=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return"L ".concat(i+r*l,",").concat(a,"Q ").concat(i,",").concat(a," ").concat(i,",").concat(a+r*u)}var c=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return"L ".concat(i,",").concat(a+r*s,"Q ").concat(i,",").concat(a," ").concat(i+r*c,",").concat(a)}(m[n-1],t,m[n+1],d):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y)}),""),y,b,w,x]}var Le=(0,c.memo)((function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.label,l=e.labelStyle,u=e.labelShowBg,s=e.labelBgStyle,d=e.labelBgPadding,f=e.labelBgBorderRadius,h=e.style,v=e.sourcePosition,g=void 0===v?Ze.Bottom:v,p=e.targetPosition,m=void 0===p?Ze.Top:p,y=e.markerEnd,b=e.markerStart,w=e.pathOptions,x=e.interactionWidth,S=He({sourceX:t,sourceY:n,sourcePosition:g,targetX:o,targetY:r,targetPosition:m,borderRadius:null===w||void 0===w?void 0:w.borderRadius,offset:null===w||void 0===w?void 0:w.offset}),E=(0,i.Z)(S,3),C=E[0],_=E[1],N=E[2];return c.createElement(Ee,{path:C,labelX:_,labelY:N,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:s,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:y,markerStart:b,interactionWidth:x})}));Le.displayName="SmoothStepEdge";var Xe=(0,c.memo)((function(e){var t;return c.createElement(Le,(0,l.Z)((0,l.Z)({},e),{},{pathOptions:(0,c.useMemo)((function(){var t;return{borderRadius:0,offset:null===(t=e.pathOptions)||void 0===t?void 0:t.offset}}),[null===(t=e.pathOptions)||void 0===t?void 0:t.offset])}))}));Xe.displayName="StepEdge";var Ve=(0,c.memo)((function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.label,l=e.labelStyle,u=e.labelShowBg,s=e.labelBgStyle,d=e.labelBgPadding,f=e.labelBgBorderRadius,h=e.style,v=e.markerEnd,g=e.markerStart,p=e.interactionWidth,m=function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=Ae({sourceX:t,sourceY:n,targetX:o,targetY:r}),l=(0,i.Z)(a,4),u=l[0],c=l[1],s=l[2],d=l[3];return["M ".concat(t,",").concat(n,"L ").concat(o,",").concat(r),u,c,s,d]}({sourceX:t,sourceY:n,targetX:o,targetY:r}),y=(0,i.Z)(m,3),b=y[0],w=y[1],x=y[2];return c.createElement(Ee,{path:b,labelX:w,labelY:x,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:s,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:g,interactionWidth:p})}));function Ye(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Fe(e){var t=e.pos,n=e.x1,o=e.y1,r=e.x2,i=e.y2,a=e.c;switch(t){case Ze.Left:return[n-Ye(n-r,a),o];case Ze.Right:return[n+Ye(r-n,a),o];case Ze.Top:return[n,o-Ye(o-i,a)];case Ze.Bottom:return[n,o+Ye(i-o,a)]}}function Ke(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=void 0===o?Ze.Bottom:o,a=e.targetX,l=e.targetY,u=e.targetPosition,c=void 0===u?Ze.Top:u,s=e.curvature,d=void 0===s?.25:s,f=Fe({pos:r,x1:t,y1:n,x2:a,y2:l,c:d}),h=(0,i.Z)(f,2),v=h[0],g=h[1],p=Fe({pos:c,x1:a,y1:l,x2:t,y2:n,c:d}),m=(0,i.Z)(p,2),y=m[0],b=m[1],w=Oe({sourceX:t,sourceY:n,targetX:a,targetY:l,sourceControlX:v,sourceControlY:g,targetControlX:y,targetControlY:b}),x=(0,i.Z)(w,4),S=x[0],E=x[1],C=x[2],_=x[3];return["M".concat(t,",").concat(n," C").concat(v,",").concat(g," ").concat(y,",").concat(b," ").concat(a,",").concat(l),S,E,C,_]}Ve.displayName="StraightEdge";var Ue=(0,c.memo)((function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.sourcePosition,l=void 0===a?Ze.Bottom:a,u=e.targetPosition,s=void 0===u?Ze.Top:u,d=e.label,f=e.labelStyle,h=e.labelShowBg,v=e.labelBgStyle,g=e.labelBgPadding,p=e.labelBgBorderRadius,m=e.style,y=e.markerEnd,b=e.markerStart,w=e.pathOptions,x=e.interactionWidth,S=Ke({sourceX:t,sourceY:n,sourcePosition:l,targetX:o,targetY:r,targetPosition:s,curvature:null===w||void 0===w?void 0:w.curvature}),E=(0,i.Z)(S,3),C=E[0],_=E[1],N=E[2];return c.createElement(Ee,{path:C,labelX:_,labelY:N,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:v,labelBgPadding:g,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,interactionWidth:x})}));Ue.displayName="BezierEdge";var je=(0,c.createContext)(null),We=je.Provider;je.Consumer;var qe=function(e){var t=e.source,n=e.sourceHandle,o=e.target,r=e.targetHandle;return"reactflow__edge-".concat(t).concat(n||"","-").concat(o).concat(r||"")},Ge=function(e,t){if("undefined"===typeof e)return"";if("string"===typeof e)return e;var n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map((function(t){return"".concat(t,"=").concat(e[t])})).join("&"))},$e=function(e,t){return e.source&&e.target?function(e,t){return t.some((function(t){return t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)}))}(n="id"in(o=e)&&"source"in o&&"target"in o?(0,l.Z)({},e):(0,l.Z)((0,l.Z)({},e),{},{id:qe(e)}),t)?t:t.concat(n):(ye(0,F()),t);var n,o},Qe=function(e,t,n,o){var r=e.x,a=e.y,l=(0,i.Z)(t,3),u=l[0],c=l[1],s=l[2],d=(0,i.Z)(o,2),f=d[0],h=d[1],v={x:(r-u)/s,y:(a-c)/s};return n?{x:f*Math.round(v.x/f),y:h*Math.round(v.y/h)}:v},Je=function(e,t){var n=e.x,o=e.y,r=(0,i.Z)(t,3),a=r[0],l=r[1],u=r[2];return{x:n*u+a,y:o*u+l}},et=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};var r=(null!==(t=e.width)&&void 0!==t?t:0)*o[0],i=(null!==(n=e.height)&&void 0!==n?n:0)*o[1],a={x:e.position.x-r,y:e.position.y-i};return(0,l.Z)((0,l.Z)({},a),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-i}:a})},tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};var n=e.reduce((function(e,n){var o=et(n,t).positionAbsolute,r=o.x,i=o.y;return ce(e,se({x:r,y:i,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return de(n)},nt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],o=(0,i.Z)(n,3),r=o[0],a=o[1],l=o[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0],d={x:(t.x-r)/l,y:(t.y-a)/l,width:t.width/l,height:t.height/l},f=[];return e.forEach((function(e){var t=e.width,n=e.height,o=e.selectable,r=void 0===o||o,i=e.hidden;if(c&&!r||void 0!==i&&i)return!1;var a=et(e,s).positionAbsolute,l={x:a.x,y:a.y,width:t||0,height:n||0},h=ve(d,l);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||u&&h>0||h>=(t||0)*(n||0)||e.dragging)&&f.push(e)})),f},ot=function(e,t){var n=e.map((function(e){return e.id}));return t.filter((function(e){return n.includes(e.source)||n.includes(e.target)}))},rt=function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1,a=t/(e.width*(1+i)),l=n/(e.height*(1+i)),u=Math.min(a,l),c=re(u,o,r),s=e.x+e.width/2,d=e.y+e.height/2,f=t/2-s*c,h=n/2-d*c;return{x:f,y:h,zoom:c}},it=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function at(e,t,n,o){return(t[n]||[]).reduce((function(t,r){var i,a,l,u;"".concat(e.id,"-").concat(r.id,"-").concat(n)!==o&&t.push({id:r.id||null,type:n,nodeId:e.id,x:(null!==(i=null===(a=e.positionAbsolute)||void 0===a?void 0:a.x)&&void 0!==i?i:0)+r.x+r.width/2,y:(null!==(l=null===(u=e.positionAbsolute)||void 0===u?void 0:u.y)&&void 0!==l?l:0)+r.y+r.height/2});return t}),[])}var lt={source:null,target:null,sourceHandle:null,targetHandle:null},ut=function(){return{handleDomNode:null,isValid:!1,connection:lt,endHandle:null}};function ct(e,t,n,o,r,i,a){var u="target"===r,c=a.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),s=(0,l.Z)((0,l.Z)({},ut()),{},{handleDomNode:c});if(c){var d=st(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),v=c.classList.contains("connectable"),g=c.classList.contains("connectableend"),p={source:u?f:n,sourceHandle:u?h:o,target:u?n:f,targetHandle:u?o:h};s.connection=p,v&&g&&(t===Ce.Strict?u&&"source"===d||!u&&"target"===d:f!==n||h!==o)&&(s.endHandle={nodeId:f,handleId:h,type:d},s.isValid=i(p))}return s}function st(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function dt(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function ft(e,t){var n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function ht(e){var t,n=e.event,o=e.handleId,r=e.nodeId,l=e.onConnect,u=e.isTarget,c=e.getState,s=e.setState,d=e.isValidConnection,f=e.edgeUpdaterType,h=e.onEdgeUpdateEnd,v=ue(n.target),g=c(),p=g.connectionMode,m=g.domNode,y=g.autoPanOnConnect,b=g.connectionRadius,w=g.onConnectStart,x=g.panBy,S=g.getNodes,E=g.cancelConnection,C=0,_=xe(n),N=_.x,M=_.y,k=null===v||void 0===v?void 0:v.elementFromPoint(N,M),Z=st(f,k),P=null===m||void 0===m?void 0:m.getBoundingClientRect();if(P&&Z){var A,O=xe(n,P),I=!1,D=null,z=!1,R=null,B=function(e){var t=e.nodes,n=e.nodeId,o=e.handleId,r=e.handleType;return t.reduce((function(e,t){if(t[pe]){var i=t[pe].handleBounds,l=[],u=[];i&&(l=at(t,i,"source","".concat(n,"-").concat(o,"-").concat(r)),u=at(t,i,"target","".concat(n,"-").concat(o,"-").concat(r))),e.push.apply(e,(0,a.Z)(l).concat((0,a.Z)(u)))}return e}),[])}({nodes:S(),nodeId:r,handleId:o,handleType:Z}),T=function e(){if(y){var t=le(O,P),n=(0,i.Z)(t,2),o=n[0],r=n[1];x({x:o,y:r}),C=requestAnimationFrame(e)}};s({connectionPosition:O,connectionStatus:null,connectionNodeId:r,connectionHandleId:o,connectionHandleType:Z,connectionStartHandle:{nodeId:r,handleId:o,type:Z},connectionEndHandle:null}),null===w||void 0===w||w(n,{nodeId:r,handleId:o,handleType:Z}),v.addEventListener("mousemove",H),v.addEventListener("mouseup",L),v.addEventListener("touchmove",H),v.addEventListener("touchend",L)}function H(e){var n=c().transform;O=xe(e,P);var i=function(e,t,n,o,r,i){var a=xe(e),l=a.x,u=a.y,c=t.elementsFromPoint(l,u).find((function(e){return e.classList.contains("react-flow__handle")}));if(c){var s=c.getAttribute("data-nodeid");if(s){var d=st(void 0,c),f=c.getAttribute("data-handleid"),h=i({nodeId:s,id:f,type:d});if(h){var v=r.find((function(e){return e.nodeId===s&&e.type===d&&e.id===f}));return{handle:{id:f,type:d,nodeId:s,x:(null===v||void 0===v?void 0:v.x)||n.x,y:(null===v||void 0===v?void 0:v.y)||n.y},validHandleResult:h}}}}var g=[],p=1/0;if(r.forEach((function(e){var t=Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));if(t<=o){var r=i(e);t<=p&&(t<p?g=[{handle:e,validHandleResult:r}]:t===p&&g.push({handle:e,validHandleResult:r}),p=t)}})),!g.length)return{handle:null,validHandleResult:ut()};if(1===g.length)return g[0];var m=g.some((function(e){return e.validHandleResult.isValid})),y=g.some((function(e){return"target"===e.handle.type}));return g.find((function(e){var t=e.handle,n=e.validHandleResult;return y?"target"===t.type:!m||n.isValid}))||g[0]}(e,v,Qe(O,n,!1,[1,1]),b,B,(function(e){return ct(e,p,r,o,u?"target":"source",d,v)})),a=i.handle,l=i.validHandleResult;if(t=a,I||(T(),I=!0),R=l.handleDomNode,D=l.connection,z=l.isValid,s({connectionPosition:t&&z?Je({x:t.x,y:t.y},n):O,connectionStatus:ft(!!t,z),connectionEndHandle:l.endHandle}),!t&&!z&&!R)return dt(A);D.source!==D.target&&R&&(dt(A),A=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",z),R.classList.toggle("react-flow__handle-valid",z))}function L(e){var n,o;(t||R)&&D&&z&&(null===l||void 0===l||l(D)),null===(n=(o=c()).onConnectEnd)||void 0===n||n.call(o,e),f&&(null===h||void 0===h||h(e)),dt(A),E(),cancelAnimationFrame(C),I=!1,z=!1,D=null,R=null,v.removeEventListener("mousemove",H),v.removeEventListener("mouseup",L),v.removeEventListener("touchmove",H),v.removeEventListener("touchend",L)}}var vt=function(){return!0},gt=function(e){return{connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}},pt=(0,c.forwardRef)((function(e,t){var n,o,r=e.type,i=void 0===r?"source":r,a=e.position,d=void 0===a?Ze.Top:a,f=e.isValidConnection,h=e.isConnectable,v=void 0===h||h,g=e.isConnectableStart,p=void 0===g||g,m=e.isConnectableEnd,y=void 0===m||m,w=e.id,x=e.onConnect,S=e.children,E=e.className,C=e.onMouseDown,_=e.onTouchStart,N=(0,u.Z)(e,B),M=w||null,k="target"===i,Z=Q(),P=(0,c.useContext)(je),A=$(gt,b.X),O=A.connectOnClick,I=A.noPanClassName,D=$(function(e,t,n){return function(o){var r=o.connectionStartHandle,i=o.connectionEndHandle,a=o.connectionClickStartHandle;return{connecting:(null===r||void 0===r?void 0:r.nodeId)===e&&(null===r||void 0===r?void 0:r.handleId)===t&&(null===r||void 0===r?void 0:r.type)===n||(null===i||void 0===i?void 0:i.nodeId)===e&&(null===i||void 0===i?void 0:i.handleId)===t&&(null===i||void 0===i?void 0:i.type)===n,clickConnecting:(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n}}}(P,M,i),b.X),z=D.connecting,R=D.clickConnecting;P||(null===(n=(o=Z.getState()).onError)||void 0===n||n.call(o,"010",j()));var T=function(e){var t=Z.getState(),n=t.defaultEdgeOptions,o=t.onConnect,r=t.hasDefaultEdges,i=(0,l.Z)((0,l.Z)({},n),e);if(r){var a=Z.getState(),u=a.edges;(0,a.setEdges)($e(i,u))}null===o||void 0===o||o(i),null===x||void 0===x||x(i)},H=function(e){if(P){var t=we(e);p&&(t&&0===e.button||!t)&&ht({event:e,handleId:M,nodeId:P,onConnect:T,isTarget:k,getState:Z.getState,setState:Z.setState,isValidConnection:f||Z.getState().isValidConnection||vt}),t?null===C||void 0===C||C(e):null===_||void 0===_||_(e)}};return c.createElement("div",(0,l.Z)({"data-handleid":M,"data-nodeid":P,"data-handlepos":d,"data-id":"".concat(P,"-").concat(M,"-").concat(i),className:(0,s.Z)(["react-flow__handle","react-flow__handle-".concat(d),"nodrag",I,E,{source:!k,target:k,connectable:v,connectablestart:p,connectableend:y,connecting:R,connectionindicator:v&&(p&&!z||y&&z)}]),onMouseDown:H,onTouchStart:H,onClick:O?function(e){var t=Z.getState(),n=t.onClickConnectStart,o=t.onClickConnectEnd,r=t.connectionClickStartHandle,a=t.connectionMode,l=t.isValidConnection;if(P&&(r||p)){if(!r)return null===n||void 0===n||n(e,{nodeId:P,handleId:M,handleType:i}),void Z.setState({connectionClickStartHandle:{nodeId:P,type:i,handleId:M}});var u=ue(e.target),c=f||l||vt,s=ct({nodeId:P,id:M,type:i},a,r.nodeId,r.handleId||null,r.type,c,u),d=s.connection;s.isValid&&T(d),null===o||void 0===o||o(e),Z.setState({connectionClickStartHandle:null})}}:void 0,ref:t},N),S)}));pt.displayName="Handle";var mt=(0,c.memo)(pt),yt=function(e){var t=e.data,n=e.isConnectable,o=e.targetPosition,r=void 0===o?Ze.Top:o,i=e.sourcePosition,a=void 0===i?Ze.Bottom:i;return c.createElement(c.Fragment,null,c.createElement(mt,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label,c.createElement(mt,{type:"source",position:a,isConnectable:n}))};yt.displayName="DefaultNode";var bt=(0,c.memo)(yt),wt=function(e){var t=e.data,n=e.isConnectable,o=e.sourcePosition,r=void 0===o?Ze.Bottom:o;return c.createElement(c.Fragment,null,null===t||void 0===t?void 0:t.label,c.createElement(mt,{type:"source",position:r,isConnectable:n}))};wt.displayName="InputNode";var xt=(0,c.memo)(wt),St=function(e){var t=e.data,n=e.isConnectable,o=e.targetPosition,r=void 0===o?Ze.Top:o;return c.createElement(c.Fragment,null,c.createElement(mt,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label)};St.displayName="OutputNode";var Et=(0,c.memo)(St),Ct=function(){return null};Ct.displayName="GroupNode";var _t=function(e){return{selectedNodes:e.getNodes().filter((function(e){return e.selected})),selectedEdges:e.edges.filter((function(e){return e.selected}))}},Nt=function(e){return e.id};function Mt(e,t){return(0,b.X)(e.selectedNodes.map(Nt),t.selectedNodes.map(Nt))&&(0,b.X)(e.selectedEdges.map(Nt),t.selectedEdges.map(Nt))}var kt=(0,c.memo)((function(e){var t=e.onSelectionChange,n=Q(),o=$(_t,Mt),r=o.selectedNodes,i=o.selectedEdges;return(0,c.useEffect)((function(){var e={nodes:r,edges:i};null===t||void 0===t||t(e),n.getState().onSelectionChange.forEach((function(t){return t(e)}))}),[r,i,t]),null}));kt.displayName="SelectionListener";var Zt=function(e){return!!e.onSelectionChange};function Pt(e){var t=e.onSelectionChange,n=$(Zt);return t||n?c.createElement(kt,{onSelectionChange:t}):null}var At=function(e){return{setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset}};function Ot(e,t){(0,c.useEffect)((function(){"undefined"!==typeof e&&t(e)}),[e])}function It(e,t,n){(0,c.useEffect)((function(){"undefined"!==typeof t&&n((0,r.Z)({},e,t))}),[t])}var Dt=function(e){var t=e.nodes,n=e.edges,o=e.defaultNodes,r=e.defaultEdges,i=e.onConnect,a=e.onConnectStart,u=e.onConnectEnd,s=e.onClickConnectStart,d=e.onClickConnectEnd,f=e.nodesDraggable,h=e.nodesConnectable,v=e.nodesFocusable,g=e.edgesFocusable,p=e.edgesUpdatable,m=e.elevateNodesOnSelect,y=e.minZoom,w=e.maxZoom,x=e.nodeExtent,S=e.onNodesChange,E=e.onEdgesChange,C=e.elementsSelectable,_=e.connectionMode,N=e.snapGrid,M=e.snapToGrid,k=e.translateExtent,Z=e.connectOnClick,P=e.defaultEdgeOptions,A=e.fitView,O=e.fitViewOptions,I=e.onNodesDelete,D=e.onEdgesDelete,z=e.onNodeDrag,R=e.onNodeDragStart,B=e.onNodeDragStop,T=e.onSelectionDrag,H=e.onSelectionDragStart,L=e.onSelectionDragStop,X=e.noPanClassName,V=e.nodeOrigin,Y=e.rfId,F=e.autoPanOnConnect,K=e.autoPanOnNodeDrag,U=e.onError,j=e.connectionRadius,W=e.isValidConnection,q=e.nodeDragThreshold,G=$(At,b.X),J=G.setNodes,ee=G.setEdges,te=G.setDefaultNodesAndEdges,ne=G.setMinZoom,oe=G.setMaxZoom,re=G.setTranslateExtent,ie=G.setNodeExtent,ae=G.reset,le=Q();return(0,c.useEffect)((function(){var e=null===r||void 0===r?void 0:r.map((function(e){return(0,l.Z)((0,l.Z)({},e),P)}));return te(o,e),function(){ae()}}),[]),It("defaultEdgeOptions",P,le.setState),It("connectionMode",_,le.setState),It("onConnect",i,le.setState),It("onConnectStart",a,le.setState),It("onConnectEnd",u,le.setState),It("onClickConnectStart",s,le.setState),It("onClickConnectEnd",d,le.setState),It("nodesDraggable",f,le.setState),It("nodesConnectable",h,le.setState),It("nodesFocusable",v,le.setState),It("edgesFocusable",g,le.setState),It("edgesUpdatable",p,le.setState),It("elementsSelectable",C,le.setState),It("elevateNodesOnSelect",m,le.setState),It("snapToGrid",M,le.setState),It("snapGrid",N,le.setState),It("onNodesChange",S,le.setState),It("onEdgesChange",E,le.setState),It("connectOnClick",Z,le.setState),It("fitViewOnInit",A,le.setState),It("fitViewOnInitOptions",O,le.setState),It("onNodesDelete",I,le.setState),It("onEdgesDelete",D,le.setState),It("onNodeDrag",z,le.setState),It("onNodeDragStart",R,le.setState),It("onNodeDragStop",B,le.setState),It("onSelectionDrag",T,le.setState),It("onSelectionDragStart",H,le.setState),It("onSelectionDragStop",L,le.setState),It("noPanClassName",X,le.setState),It("nodeOrigin",V,le.setState),It("rfId",Y,le.setState),It("autoPanOnConnect",F,le.setState),It("autoPanOnNodeDrag",K,le.setState),It("onError",U,le.setState),It("connectionRadius",j,le.setState),It("isValidConnection",W,le.setState),It("nodeDragThreshold",q,le.setState),Ot(t,J),Ot(n,ee),Ot(y,ne),Ot(w,oe),Ot(k,re),Ot(x,ie),null},zt={display:"none"},Rt={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Bt="react-flow__node-desc",Tt="react-flow__edge-desc",Ht=function(e){return e.ariaLiveMessage};function Lt(e){var t=e.rfId,n=$(Ht);return c.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:Rt},n)}function Xt(e){var t=e.rfId,n=e.disableKeyboardA11y;return c.createElement(c.Fragment,null,c.createElement("div",{id:"".concat(Bt,"-").concat(t),style:zt},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),c.createElement("div",{id:"".concat(Tt,"-").concat(t),style:zt},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&c.createElement(Lt,{rfId:t}))}var Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0},n=(0,c.useState)(!1),o=(0,i.Z)(n,2),r=o[0],l=o[1],u=(0,c.useRef)(!1),s=(0,c.useRef)(new Set([])),d=(0,c.useMemo)((function(){if(null!==e){var t=(Array.isArray(e)?e:[e]).filter((function(e){return"string"===typeof e})).map((function(e){return e.split("+")})),n=t.reduce((function(e,t){return e.concat.apply(e,(0,a.Z)(t))}),[]);return[t,n]}return[[],[]]}),[e]),f=(0,i.Z)(d,2),h=f[0],v=f[1];return(0,c.useEffect)((function(){var n="undefined"!==typeof document?document:null,o=(null===t||void 0===t?void 0:t.target)||n;if(null!==e){var r=function(e){if(u.current=e.ctrlKey||e.metaKey||e.shiftKey,(!u.current||u.current&&!t.actInsideInputWithModifier)&&be(e))return!1;var n=Ft(e.code,v);s.current.add(e[n]),Yt(h,s.current,!1)&&(e.preventDefault(),l(!0))},i=function(e){if((!u.current||u.current&&!t.actInsideInputWithModifier)&&be(e))return!1;var n=Ft(e.code,v);Yt(h,s.current,!0)?(l(!1),s.current.clear()):s.current.delete(e[n]),"Meta"===e.key&&s.current.clear(),u.current=!1},a=function(){s.current.clear(),l(!1)};return null===o||void 0===o||o.addEventListener("keydown",r),null===o||void 0===o||o.addEventListener("keyup",i),window.addEventListener("blur",a),function(){null===o||void 0===o||o.removeEventListener("keydown",r),null===o||void 0===o||o.removeEventListener("keyup",i),window.removeEventListener("blur",a)}}}),[e,l]),r};function Yt(e,t,n){return e.filter((function(e){return n||e.length===t.size})).some((function(e){return e.every((function(e){return t.has(e)}))}))}function Ft(e,t){return t.includes(e)?"code":"key"}function Kt(e,t,n,o){var r,i,a,l,u,c,s,d;if(!e.parentNode)return n;var f=t.get(e.parentNode),h=et(f,o);return Kt(f,t,{x:(null!==(r=n.x)&&void 0!==r?r:0)+h.x,y:(null!==(i=n.y)&&void 0!==i?i:0)+h.y,z:(null!==(a=null===(l=f[pe])||void 0===l?void 0:l.z)&&void 0!==a?a:0)>(null!==(u=n.z)&&void 0!==u?u:0)?null!==(c=null===(s=f[pe])||void 0===s?void 0:s.z)&&void 0!==c?c:0:null!==(d=n.z)&&void 0!==d?d:0},o)}function Ut(e,t,n){e.forEach((function(o){if(o.parentNode&&!e.has(o.parentNode))throw new Error("Parent node ".concat(o.parentNode," not found"));if(o.parentNode||null!==n&&void 0!==n&&n[o.id]){var r,i,a=Kt(o,e,(0,l.Z)((0,l.Z)({},o.position),{},{z:null!==(r=null===(i=o[pe])||void 0===i?void 0:i.z)&&void 0!==r?r:0}),t),u=a.x,c=a.y,s=a.z;o.positionAbsolute={x:u,y:c},o[pe].z=s,null!==n&&void 0!==n&&n[o.id]&&(o[pe].isParent=!0)}}))}function jt(e,t,n,o){var r=new Map,i={},a=o?1e3:0;return e.forEach((function(e){var n,o=(ge(e.zIndex)?e.zIndex:0)+(e.selected?a:0),u=t.get(e.id),c=(0,l.Z)((0,l.Z)({},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}});e.parentNode&&(i[e.parentNode]=!0);var s=(null===u||void 0===u?void 0:u.type)&&(null===u||void 0===u?void 0:u.type)!==e.type;Object.defineProperty(c,pe,{enumerable:!1,value:{handleBounds:s||null===u||void 0===u||null===(n=u[pe])||void 0===n?void 0:n.handleBounds,z:o}}),r.set(e.id,c)})),Ut(r,n,i),r}function Wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e(),o=n.getNodes,r=n.width,i=n.height,a=n.minZoom,l=n.maxZoom,u=n.d3Zoom,c=n.d3Selection,s=n.fitViewOnInitDone,d=n.fitViewOnInit,f=n.nodeOrigin,h=t.initial&&!s&&d,v=u&&c;if(v&&(h||!t.initial)){var g=o().filter((function(e){var n,o=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?o&&t.nodes.some((function(t){return t.id===e.id})):o})),p=g.every((function(e){return e.width&&e.height}));if(g.length>0&&p){var m,y,b,x=tt(g,f),S=rt(x,r,i,null!==(m=t.minZoom)&&void 0!==m?m:a,null!==(y=t.maxZoom)&&void 0!==y?y:l,null!==(b=t.padding)&&void 0!==b?b:.1),E=S.x,C=S.y,_=S.zoom,N=w.CR.translate(E,C).scale(_);return"number"===typeof t.duration&&t.duration>0?u.transform(it(c,t.duration),N):u.transform(c,N),!0}}return!1}function qt(e,t){return e.forEach((function(e){var n,o=t.get(e.id);o&&t.set(o.id,(0,l.Z)((0,l.Z)({},o),{},(n={},(0,r.Z)(n,pe,o[pe]),(0,r.Z)(n,"selected",e.selected),n)))})),new Map(t)}function Gt(e,t){return t.map((function(t){var n=e.find((function(e){return e.id===t.id}));return n&&(t.selected=n.selected),t}))}function $t(e){var t=e.changedNodes,n=e.changedEdges,o=e.get,r=e.set,i=o(),a=i.nodeInternals,l=i.edges,u=i.onNodesChange,c=i.onEdgesChange,s=i.hasDefaultNodes,d=i.hasDefaultEdges;null!==t&&void 0!==t&&t.length&&(s&&r({nodeInternals:qt(t,a)}),null===u||void 0===u||u(t)),null!==n&&void 0!==n&&n.length&&(d&&r({edges:Gt(n,l)}),null===c||void 0===c||c(n))}var Qt=function(){},Jt={zoomIn:Qt,zoomOut:Qt,zoomTo:Qt,getZoom:function(){return 1},setViewport:Qt,getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){return!1},setCenter:Qt,fitBounds:Qt,project:function(e){return e},screenToFlowPosition:function(e){return e},flowToScreenPosition:function(e){return e},viewportInitialized:!1},en=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}};function tn(){var e=function(){var e=Q(),t=$(en,b.X),n=t.d3Zoom,o=t.d3Selection;return(0,c.useMemo)((function(){return o&&n?{zoomIn:function(e){return n.scaleBy(it(o,null===e||void 0===e?void 0:e.duration),1.2)},zoomOut:function(e){return n.scaleBy(it(o,null===e||void 0===e?void 0:e.duration),1/1.2)},zoomTo:function(e,t){return n.scaleTo(it(o,null===t||void 0===t?void 0:t.duration),e)},getZoom:function(){return e.getState().transform[2]},setViewport:function(t,r){var a,l,u,c=(0,i.Z)(e.getState().transform,3),s=c[0],d=c[1],f=c[2],h=w.CR.translate(null!==(a=t.x)&&void 0!==a?a:s,null!==(l=t.y)&&void 0!==l?l:d).scale(null!==(u=t.zoom)&&void 0!==u?u:f);n.transform(it(o,null===r||void 0===r?void 0:r.duration),h)},getViewport:function(){var t=(0,i.Z)(e.getState().transform,3);return{x:t[0],y:t[1],zoom:t[2]}},fitView:function(t){return Wt(e.getState,t)},setCenter:function(t,r,i){var a=e.getState(),l=a.width,u=a.height,c=a.maxZoom,s="undefined"!==typeof(null===i||void 0===i?void 0:i.zoom)?i.zoom:c,d=l/2-t*s,f=u/2-r*s,h=w.CR.translate(d,f).scale(s);n.transform(it(o,null===i||void 0===i?void 0:i.duration),h)},fitBounds:function(t,r){var i,a=e.getState(),l=a.width,u=a.height,c=a.minZoom,s=a.maxZoom,d=rt(t,l,u,c,s,null!==(i=null===r||void 0===r?void 0:r.padding)&&void 0!==i?i:.1),f=d.x,h=d.y,v=d.zoom,g=w.CR.translate(f,h).scale(v);n.transform(it(o,null===r||void 0===r?void 0:r.duration),g)},project:function(t){var n=e.getState(),o=n.transform,r=n.snapToGrid,i=n.snapGrid;return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Qe(t,o,r,i)},screenToFlowPosition:function(t){var n=e.getState(),o=n.transform,r=n.snapToGrid,i=n.snapGrid,a=n.domNode;if(!a)return t;var l=a.getBoundingClientRect(),u=l.x,c=l.y,s={x:t.x-u,y:t.y-c};return Qe(s,o,r,i)},flowToScreenPosition:function(t){var n=e.getState(),o=n.transform,r=n.domNode;if(!r)return t;var i=r.getBoundingClientRect(),a=i.x,l=i.y,u=Je(t,o);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:Jt}),[n,o])}(),t=Q(),n=(0,c.useCallback)((function(){return t.getState().getNodes().map((function(e){return(0,l.Z)({},e)}))}),[]),o=(0,c.useCallback)((function(e){return t.getState().nodeInternals.get(e)}),[]),r=(0,c.useCallback)((function(){var e=t.getState().edges;return(void 0===e?[]:e).map((function(e){return(0,l.Z)({},e)}))}),[]),u=(0,c.useCallback)((function(e){var n=t.getState().edges;return(void 0===n?[]:n).find((function(t){return t.id===e}))}),[]),s=(0,c.useCallback)((function(e){var n=t.getState(),o=n.getNodes,r=n.setNodes,i=n.hasDefaultNodes,a=n.onNodesChange,l=o(),u="function"===typeof e?e(l):e;if(i)r(u);else if(a){a(0===u.length?l.map((function(e){return{type:"remove",id:e.id}})):u.map((function(e){return{item:e,type:"reset"}})))}}),[]),d=(0,c.useCallback)((function(e){var n=t.getState(),o=n.edges,r=void 0===o?[]:o,i=n.setEdges,a=n.hasDefaultEdges,l=n.onEdgesChange,u="function"===typeof e?e(r):e;if(a)i(u);else if(l){l(0===u.length?r.map((function(e){return{type:"remove",id:e.id}})):u.map((function(e){return{item:e,type:"reset"}})))}}),[]),f=(0,c.useCallback)((function(e){var n=Array.isArray(e)?e:[e],o=t.getState(),r=o.getNodes,i=o.setNodes,l=o.hasDefaultNodes,u=o.onNodesChange;if(l){var c=r();i([].concat((0,a.Z)(c),(0,a.Z)(n)))}else if(u){u(n.map((function(e){return{item:e,type:"add"}})))}}),[]),h=(0,c.useCallback)((function(e){var n=Array.isArray(e)?e:[e],o=t.getState(),r=o.edges,i=void 0===r?[]:r,l=o.setEdges,u=o.hasDefaultEdges,c=o.onEdgesChange;if(u)l([].concat((0,a.Z)(i),(0,a.Z)(n)));else if(c){c(n.map((function(e){return{item:e,type:"add"}})))}}),[]),v=(0,c.useCallback)((function(){var e=t.getState(),n=e.getNodes,o=e.edges,r=void 0===o?[]:o,a=e.transform,u=(0,i.Z)(a,3),c=u[0],s=u[1],d=u[2];return{nodes:n().map((function(e){return(0,l.Z)({},e)})),edges:r.map((function(e){return(0,l.Z)({},e)})),viewport:{x:c,y:s,zoom:d}}}),[]),g=(0,c.useCallback)((function(e){var n=e.nodes,o=e.edges,r=t.getState(),i=r.nodeInternals,l=r.getNodes,u=r.edges,c=r.hasDefaultNodes,s=r.hasDefaultEdges,d=r.onNodesDelete,f=r.onEdgesDelete,h=r.onNodesChange,v=r.onEdgesChange,g=(n||[]).map((function(e){return e.id})),p=(o||[]).map((function(e){return e.id})),m=l().reduce((function(e,t){var n=!g.includes(t.id)&&t.parentNode&&e.find((function(e){return e.id===t.parentNode}));return("boolean"!==typeof t.deletable||t.deletable)&&(g.includes(t.id)||n)&&e.push(t),e}),[]),y=u.filter((function(e){return"boolean"!==typeof e.deletable||e.deletable})),b=y.filter((function(e){return p.includes(e.id)}));if(m||b){var w=ot(m,y),x=[].concat((0,a.Z)(b),(0,a.Z)(w)),S=x.reduce((function(e,t){return e.includes(t.id)||e.push(t.id),e}),[]);if((s||c)&&(s&&t.setState({edges:u.filter((function(e){return!S.includes(e.id)}))}),c&&(m.forEach((function(e){i.delete(e.id)})),t.setState({nodeInternals:new Map(i)}))),S.length>0&&(null===f||void 0===f||f(x),v&&v(S.map((function(e){return{id:e,type:"remove"}})))),m.length>0)if(null===d||void 0===d||d(m),h)h(m.map((function(e){return{id:e.id,type:"remove"}})))}}),[]),p=(0,c.useCallback)((function(e){var n,o=ge((n=e).width)&&ge(n.height)&&ge(n.x)&&ge(n.y),r=o?null:t.getState().nodeInternals.get(e.id);return o||r?[o?e:fe(r),r,o]:[null,null,o]}),[]),m=(0,c.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0,r=p(e),a=(0,i.Z)(r,3),l=a[0],u=a[1],c=a[2];return l?(o||t.getState().getNodes()).filter((function(e){if(!c&&(e.id===u.id||!e.positionAbsolute))return!1;var t=fe(e),o=ve(t,l);return n&&o>0||o>=l.width*l.height})):[]}),[]),y=(0,c.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=p(e),r=(0,i.Z)(o,1),a=r[0];if(!a)return!1;var l=ve(a,t),u=n&&l>0;return u||l>=a.width*a.height}),[]);return(0,c.useMemo)((function(){return(0,l.Z)((0,l.Z)({},e),{},{getNodes:n,getNode:o,getEdges:r,getEdge:u,setNodes:s,setEdges:d,addNodes:f,addEdges:h,toObject:v,deleteElements:g,getIntersectingNodes:m,isNodeIntersecting:y})}),[e,n,o,r,u,s,d,f,h,v,g,m,y])}var nn={actInsideInputWithModifier:!1};var on={position:"absolute",width:"100%",height:"100%",top:0,left:0},rn=function(e){return{x:e.x,y:e.y,zoom:e.k}},an=function(e,t){return e.target.closest(".".concat(t))},ln=function(e,t){return 2===t&&Array.isArray(e)&&e.includes(2)},un=function(e){var t=e.ctrlKey&&Se()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},cn=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}},sn=function(e){var t=e.onMove,n=e.onMoveStart,o=e.onMoveEnd,r=e.onPaneContextMenu,i=e.zoomOnScroll,a=void 0===i||i,l=e.zoomOnPinch,u=void 0===l||l,s=e.panOnScroll,d=void 0!==s&&s,f=e.panOnScrollSpeed,h=void 0===f?.5:f,v=e.panOnScrollMode,g=void 0===v?_e.Free:v,p=e.zoomOnDoubleClick,m=void 0===p||p,y=e.elementsSelectable,E=e.panOnDrag,C=void 0===E||E,_=e.defaultViewport,N=e.translateExtent,M=e.minZoom,k=e.maxZoom,Z=e.zoomActivationKeyCode,P=e.preventScrolling,A=void 0===P||P,O=e.children,I=e.noWheelClassName,D=e.noPanClassName,z=(0,c.useRef)(),R=Q(),B=(0,c.useRef)(!1),T=(0,c.useRef)(!1),H=(0,c.useRef)(null),L=(0,c.useRef)({x:0,y:0,zoom:0}),X=$(cn,b.X),Y=X.d3Zoom,F=X.d3Selection,K=X.d3ZoomHandler,U=X.userSelectionActive,j=Vt(Z),W=(0,c.useRef)(0),q=(0,c.useRef)(!1),G=(0,c.useRef)();return function(e){var t=Q();(0,c.useEffect)((function(){var n,o=function(){if(e.current){var n,o,r=oe(e.current);0!==r.height&&0!==r.width||null===(n=(o=t.getState()).onError)||void 0===n||n.call(o,"004",V()),t.setState({width:r.width||500,height:r.height||500})}};return o(),window.addEventListener("resize",o),e.current&&(n=new ResizeObserver((function(){return o()}))).observe(e.current),function(){window.removeEventListener("resize",o),n&&e.current&&n.unobserve(e.current)}}),[])}(H),(0,c.useEffect)((function(){if(H.current){var e=H.current.getBoundingClientRect(),t=(0,w.sP)().scaleExtent([M,k]).translateExtent(N),n=(0,x.Z)(H.current).call(t),o=w.CR.translate(_.x,_.y).scale(re(_.zoom,M,k)),r=[[0,0],[e.width,e.height]],i=t.constrain()(o,r,N);t.transform(n,i),t.wheelDelta(un),R.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:H.current.closest(".react-flow")})}}),[]),(0,c.useEffect)((function(){F&&Y&&(!d||j||U?"undefined"!==typeof K&&F.on("wheel.zoom",(function(e,t){if(!A||an(e,I))return null;e.preventDefault(),K.call(this,e,t)}),{passive:!1}):F.on("wheel.zoom",(function(e){if(an(e,I))return!1;e.preventDefault(),e.stopImmediatePropagation();var r=F.property("__zoom").k||1,i=Se();if(e.ctrlKey&&u&&i){var a=(0,S.Z)(e),l=un(e),c=r*Math.pow(2,l);Y.scaleTo(F,c,a,e)}else{var s=1===e.deltaMode?20:1,d=g===_e.Vertical?0:e.deltaX*s,f=g===_e.Horizontal?0:e.deltaY*s;!i&&e.shiftKey&&g!==_e.Vertical&&(d=e.deltaY*s,f=0),Y.translateBy(F,-d/r*h,-f/r*h,{internal:!0});var v=rn(F.property("__zoom")),p=R.getState(),m=p.onViewportChangeStart,y=p.onViewportChange,b=p.onViewportChangeEnd;clearTimeout(G.current),q.current||(q.current=!0,null===n||void 0===n||n(e,v),null===m||void 0===m||m(v)),q.current&&(null===t||void 0===t||t(e,v),null===y||void 0===y||y(v),G.current=setTimeout((function(){null===o||void 0===o||o(e,v),null===b||void 0===b||b(v),q.current=!1}),150))}}),{passive:!1}))}),[U,d,g,F,Y,K,j,u,A,I,n,t,o]),(0,c.useEffect)((function(){Y&&Y.on("start",(function(e){var t,o;if(!e.sourceEvent||e.sourceEvent.internal)return null;W.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;var r=R.getState().onViewportChangeStart,i=rn(e.transform);B.current=!0,L.current=i,"mousedown"===(null===(o=e.sourceEvent)||void 0===o?void 0:o.type)&&R.setState({paneDragging:!0}),null===r||void 0===r||r(i),null===n||void 0===n||n(e.sourceEvent,i)}))}),[Y,n]),(0,c.useEffect)((function(){Y&&(U&&!B.current?Y.on("zoom",null):U||Y.on("zoom",(function(e){var n,o,i=R.getState().onViewportChange;if(R.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),T.current=!(!r||!ln(C,null!==(n=W.current)&&void 0!==n?n:0)),(t||i)&&(null===(o=e.sourceEvent)||void 0===o||!o.internal)){var a=rn(e.transform);null===i||void 0===i||i(a),null===t||void 0===t||t(e.sourceEvent,a)}})))}),[U,Y,t,C,r]),(0,c.useEffect)((function(){Y&&Y.on("end",(function(e){var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;var n,i,a=R.getState().onViewportChangeEnd;if(B.current=!1,R.setState({paneDragging:!1}),r&&ln(C,null!==(t=W.current)&&void 0!==t?t:0)&&!T.current&&r(e.sourceEvent),T.current=!1,(o||a)&&(n=L.current,i=e.transform,n.x!==i.x||n.y!==i.y||n.zoom!==i.k)){var l=rn(e.transform);L.current=l,clearTimeout(z.current),z.current=setTimeout((function(){null===a||void 0===a||a(l),null===o||void 0===o||o(e.sourceEvent,l)}),d?150:0)}}))}),[Y,d,C,o,r]),(0,c.useEffect)((function(){Y&&Y.filter((function(e){var t=j||a,n=u&&e.ctrlKey;if((!0===C||Array.isArray(C)&&C.includes(1))&&1===e.button&&"mousedown"===e.type&&(an(e,"react-flow__node")||an(e,"react-flow__edge")))return!0;if(!C&&!t&&!d&&!m&&!u)return!1;if(U)return!1;if(!m&&"dblclick"===e.type)return!1;if(an(e,I)&&"wheel"===e.type)return!1;if(an(e,D)&&("wheel"!==e.type||d&&"wheel"===e.type&&!j))return!1;if(!u&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!d&&!n&&"wheel"===e.type)return!1;if(!C&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(C)&&!C.includes(e.button)&&("mousedown"===e.type||"touchstart"===e.type))return!1;var o=Array.isArray(C)&&C.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&o}))}),[U,Y,a,u,d,m,C,y,j]),c.createElement("div",{className:"react-flow__renderer",ref:H,style:on},O)},dn=function(e){return{userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect}};function fn(){var e=$(dn,b.X),t=e.userSelectionActive,n=e.userSelectionRect;return t&&n?c.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}}):null}function hn(e,t){var n=e.find((function(e){return e.id===t.parentNode}));if(n){var o=t.position.x+t.width-n.width,r=t.position.y+t.height-n.height;if(o>0||r>0||t.position.x<0||t.position.y<0){var i,a;if(n.style=(0,l.Z)({},n.style)||{},n.style.width=null!==(i=n.style.width)&&void 0!==i?i:n.width,n.style.height=null!==(a=n.style.height)&&void 0!==a?a:n.height,o>0&&(n.style.width+=o),r>0&&(n.style.height+=r),t.position.x<0){var u=Math.abs(t.position.x);n.position.x=n.position.x-u,n.style.width+=u,t.position.x=0}if(t.position.y<0){var c=Math.abs(t.position.y);n.position.y=n.position.y-c,n.style.height+=c,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function vn(e,t){if(e.some((function(e){return"reset"===e.type})))return e.filter((function(e){return"reset"===e.type})).map((function(e){return e.item}));var n=e.filter((function(e){return"add"===e.type})).map((function(e){return e.item}));return t.reduce((function(t,n){var r=e.filter((function(e){return e.id===n.id}));if(0===r.length)return t.push(n),t;var i,a=(0,l.Z)({},n),u=(0,o.Z)(r);try{for(u.s();!(i=u.n()).done;){var c=i.value;if(c)switch(c.type){case"select":a.selected=c.selected;break;case"position":"undefined"!==typeof c.position&&(a.position=c.position),"undefined"!==typeof c.positionAbsolute&&(a.positionAbsolute=c.positionAbsolute),"undefined"!==typeof c.dragging&&(a.dragging=c.dragging),a.expandParent&&hn(t,a);break;case"dimensions":"undefined"!==typeof c.dimensions&&(a.width=c.dimensions.width,a.height=c.dimensions.height),"undefined"!==typeof c.updateStyle&&(a.style=(0,l.Z)((0,l.Z)({},a.style||{}),c.dimensions)),"boolean"===typeof c.resizing&&(a.resizing=c.resizing),a.expandParent&&hn(t,a);break;case"remove":return t}}}catch(s){u.e(s)}finally{u.f()}return t.push(a),t}),n)}function gn(e,t){return vn(e,t)}var pn=function(e,t){return{id:e,type:"select",selected:t}};function mn(e,t){return e.reduce((function(e,n){var o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(pn(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(pn(n.id,!1))),e}),[])}var yn=function(e,t){return function(n){n.target===t.current&&(null===e||void 0===e||e(n))}},bn=function(e){return{userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}},wn=(0,c.memo)((function(e){var t=e.isSelecting,n=e.selectionMode,o=void 0===n?Ne.Full:n,r=e.panOnDrag,i=e.onSelectionStart,a=e.onSelectionEnd,u=e.onPaneClick,d=e.onPaneContextMenu,f=e.onPaneScroll,h=e.onPaneMouseEnter,v=e.onPaneMouseMove,g=e.onPaneMouseLeave,p=e.children,m=(0,c.useRef)(null),y=Q(),w=(0,c.useRef)(0),x=(0,c.useRef)(0),S=(0,c.useRef)(),E=$(bn,b.X),C=E.userSelectionActive,_=E.elementsSelectable,N=E.dragging,M=function(){y.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,x.current=0},k=function(e){null===u||void 0===u||u(e),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},Z=f?function(e){return f(e)}:void 0,P=_&&(t||C);return c.createElement("div",{className:(0,s.Z)(["react-flow__pane",{dragging:N,selection:t}]),onClick:P?void 0:yn(k,m),onContextMenu:yn((function(e){Array.isArray(r)&&null!==r&&void 0!==r&&r.includes(2)?e.preventDefault():null===d||void 0===d||d(e)}),m),onWheel:yn(Z,m),onMouseEnter:P?void 0:h,onMouseDown:P?function(e){var n=y.getState(),o=n.resetSelectedElements,r=n.domNode;if(S.current=null===r||void 0===r?void 0:r.getBoundingClientRect(),_&&t&&0===e.button&&e.target===m.current&&S.current){var a=xe(e,S.current),l=a.x,u=a.y;o(),y.setState({userSelectionRect:{width:0,height:0,startX:l,startY:u,x:l,y:u}}),null===i||void 0===i||i(e)}}:void 0,onMouseMove:P?function(e){var n,r,i=y.getState(),a=i.userSelectionRect,u=i.nodeInternals,c=i.edges,s=i.transform,d=i.onNodesChange,f=i.onEdgesChange,h=i.nodeOrigin,v=i.getNodes;if(t&&S.current&&a){y.setState({userSelectionActive:!0,nodesSelectionActive:!1});var g=xe(e,S.current),p=null!==(n=a.startX)&&void 0!==n?n:0,m=null!==(r=a.startY)&&void 0!==r?r:0,b=(0,l.Z)((0,l.Z)({},a),{},{x:g.x<p?g.x:p,y:g.y<m?g.y:m,width:Math.abs(g.x-p),height:Math.abs(g.y-m)}),E=v(),C=nt(u,b,s,o===Ne.Partial,!0,h),_=ot(C,c).map((function(e){return e.id})),N=C.map((function(e){return e.id}));if(w.current!==N.length){w.current=N.length;var M=mn(E,N);M.length&&(null===d||void 0===d||d(M))}if(x.current!==_.length){x.current=_.length;var k=mn(c,_);k.length&&(null===f||void 0===f||f(k))}y.setState({userSelectionRect:b})}}:v,onMouseUp:P?function(e){if(0===e.button){var t=y.getState().userSelectionRect;!C&&t&&e.target===m.current&&(null===k||void 0===k||k(e)),y.setState({nodesSelectionActive:w.current>0}),M(),null===a||void 0===a||a(e)}}:void 0,onMouseLeave:P?function(e){C&&(y.setState({nodesSelectionActive:w.current>0}),null===a||void 0===a||a(e)),M()}:g,ref:m,style:on},p,c.createElement(fn,null))}));function xn(e,t){if(!e.parentNode)return!1;var n=t.get(e.parentNode);return!!n&&(!!n.selected||xn(n,t))}function Sn(e,t,n){var o=e;do{var r;if(null!==(r=o)&&void 0!==r&&r.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function En(e,t,n,o){return Array.from(e.values()).filter((function(n){return(n.selected||n.id===o)&&(!n.parentNode||!xn(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable)})).map((function(e){var t,o,r,i;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)&&void 0!==t?t:0),y:n.y-(null!==(r=null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)&&void 0!==r?r:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode,width:e.width,height:e.height,expandParent:e.expandParent}}))}function Cn(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}function _n(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],i=arguments.length>5?arguments[5]:void 0,a=Cn(e,e.extent||o),l=a;if("parent"!==e.extent||e.expandParent){if(e.extent&&e.parentNode&&"parent"!==e.extent){var u=n.get(e.parentNode),c=et(u,r).positionAbsolute,s=c.x,d=c.y;l=[[e.extent[0][0]+s,e.extent[0][1]+d],[e.extent[1][0]+s,e.extent[1][1]+d]]}}else if(e.parentNode&&e.width&&e.height){var f=n.get(e.parentNode),h=et(f,r).positionAbsolute,v=h.x,g=h.y;l=f&&ge(v)&&ge(g)&&ge(f.width)&&ge(f.height)?[[v+e.width*r[0],g+e.height*r[1]],[v+f.width-e.width+e.width*r[0],g+f.height-e.height+e.height*r[1]]]:l}else null===i||void 0===i||i("005",Y()),l=a;var p={x:0,y:0};if(e.parentNode){var m=n.get(e.parentNode);p=et(m,r).positionAbsolute}var y=l&&"parent"!==l?ie(t,l):t;return{position:{x:y.x-p.x,y:y.y-p.y},positionAbsolute:y}}function Nn(e){var t=e.nodeId,n=e.dragItems,o=e.nodeInternals,r=n.map((function(e){var t=o.get(e.id);return(0,l.Z)((0,l.Z)({},t),{},{position:e.position,positionAbsolute:e.positionAbsolute})}));return[t?r.find((function(e){return e.id===t})):r[0],r]}wn.displayName="Pane";var Mn=function(e,t,n,o){var r=t.querySelectorAll(e);if(!r||!r.length)return null;var i=Array.from(r),a=t.getBoundingClientRect(),u=a.width*o[0],c=a.height*o[1];return i.map((function(e){var t=e.getBoundingClientRect();return(0,l.Z)({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-u)/n,y:(t.top-a.top-c)/n},oe(e))}))};function kn(e,t,n){return void 0===n?n:function(o){var r=t().nodeInternals.get(e);r&&n(o,(0,l.Z)({},r))}}function Zn(e){var t=e.id,n=e.store,o=e.unselect,r=void 0!==o&&o,i=e.nodeRef,a=n.getState(),l=a.addSelectedNodes,u=a.unselectNodesAndEdges,c=a.multiSelectionActive,s=a.nodeInternals,d=a.onError,f=s.get(t);f?(n.setState({nodesSelectionActive:!1}),f.selected?(r||f.selected&&c)&&(u({nodes:[f],edges:[]}),requestAnimationFrame((function(){var e;return null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.blur()}))):l([t])):null===d||void 0===d||d("012",q(t))}function Pn(e){return function(t,n,o){return null===e||void 0===e?void 0:e(t,o)}}function An(e){var t=e.nodeRef,n=e.disabled,o=void 0!==n&&n,r=e.noDragClassName,a=e.handleSelector,u=e.nodeId,s=e.isSelectable,d=e.selectNodesOnDrag,f=Q(),h=(0,c.useState)(!1),v=(0,i.Z)(h,2),g=v[0],p=v[1],m=(0,c.useRef)([]),y=(0,c.useRef)({x:null,y:null}),b=(0,c.useRef)(0),w=(0,c.useRef)(null),O=(0,c.useRef)({x:0,y:0}),I=(0,c.useRef)(null),D=(0,c.useRef)(!1),z=(0,c.useRef)(!1),R=function(){var e=Q();return(0,c.useCallback)((function(t){var n=t.sourceEvent,o=e.getState(),r=o.transform,i=o.snapGrid,a=o.snapToGrid,u=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,s={x:(u-r[0])/r[2],y:(c-r[1])/r[2]};return(0,l.Z)({xSnapped:a?i[0]*Math.round(s.x/i[0]):s.x,ySnapped:a?i[1]*Math.round(s.y/i[1]):s.y},s)}),[])}();return(0,c.useEffect)((function(){if(null!==t&&void 0!==t&&t.current){var e=(0,x.Z)(t.current),n=function(e){var t=e.x,n=e.y,o=f.getState(),r=o.nodeInternals,a=o.onNodeDrag,l=o.onSelectionDrag,c=o.updateNodePositions,s=o.nodeExtent,d=o.snapGrid,h=o.snapToGrid,v=o.nodeOrigin,g=o.onError;y.current={x:t,y:n};var b=!1,w={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&s){var x=tt(m.current,v);w=se(x)}if(m.current=m.current.map((function(e){var o={x:t-e.distance.x,y:n-e.distance.y};h&&(o.x=d[0]*Math.round(o.x/d[0]),o.y=d[1]*Math.round(o.y/d[1]));var i,a,l=[[s[0][0],s[0][1]],[s[1][0],s[1][1]]];m.current.length>1&&s&&!e.extent&&(l[0][0]=e.positionAbsolute.x-w.x+s[0][0],l[1][0]=e.positionAbsolute.x+(null!==(i=e.width)&&void 0!==i?i:0)-w.x2+s[1][0],l[0][1]=e.positionAbsolute.y-w.y+s[0][1],l[1][1]=e.positionAbsolute.y+(null!==(a=e.height)&&void 0!==a?a:0)-w.y2+s[1][1]);var u=_n(e,o,r,l,v,g);return b=b||e.position.x!==u.position.x||e.position.y!==u.position.y,e.position=u.position,e.positionAbsolute=u.positionAbsolute,e})),b){c(m.current,!0,!0),p(!0);var S=u?a:Pn(l);if(S&&I.current){var E=Nn({nodeId:u,dragItems:m.current,nodeInternals:r}),C=(0,i.Z)(E,2),_=C[0],N=C[1];S(I.current,_,N)}}},l=function e(){if(w.current){var t=le(O.current,w.current),o=(0,i.Z)(t,2),r=o[0],a=o[1];if(0!==r||0!==a){var l,u,c=f.getState(),s=c.transform,d=c.panBy;y.current.x=(null!==(l=y.current.x)&&void 0!==l?l:0)-r/s[2],y.current.y=(null!==(u=y.current.y)&&void 0!==u?u:0)-a/s[2],d({x:r,y:a})&&n(y.current)}b.current=requestAnimationFrame(e)}},c=function(e){var n=f.getState(),o=n.nodeInternals,r=n.multiSelectionActive,a=n.nodesDraggable,l=n.unselectNodesAndEdges,c=n.onNodeDragStart,h=n.onSelectionDragStart;z.current=!0;var v,g=u?c:Pn(h);d&&s||r||!u||(null!==(v=o.get(u))&&void 0!==v&&v.selected||l());u&&s&&d&&Zn({id:u,store:f,nodeRef:t});var p=R(e);if(y.current=p,m.current=En(o,a,p,u),g&&m.current){var b=Nn({nodeId:u,dragItems:m.current,nodeInternals:o}),w=(0,i.Z)(b,2),x=w[0],S=w[1];g(e.sourceEvent,x,S)}};if(!o){var h=function(){var e,t,n,o,r=k,i=Z,a=P,l=A,u={},c=(0,E.Z)("start","drag","end"),s=0,d=0;function f(e){e.on("mousedown.drag",h).filter(l).on("touchstart.drag",p).on("touchmove.drag",m,_.Q7).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,l){if(!o&&r.call(this,a,l)){var u=b(this,i.call(this,a,l),a,l,"mouse");u&&((0,x.Z)(a.view).on("mousemove.drag",v,_.Dd).on("mouseup.drag",g,_.Dd),(0,C.Z)(a.view),(0,_.rG)(a),n=!1,e=a.clientX,t=a.clientY,u("start",a))}}function v(o){if((0,_.ZP)(o),!n){var r=o.clientX-e,i=o.clientY-t;n=r*r+i*i>d}u.mouse("drag",o)}function g(e){(0,x.Z)(e.view).on("mousemove.drag mouseup.drag",null),(0,C.D)(e.view,n),(0,_.ZP)(e),u.mouse("end",e)}function p(e,t){if(r.call(this,e,t)){var n,o,a=e.changedTouches,l=i.call(this,e,t),u=a.length;for(n=0;n<u;++n)(o=b(this,l,e,t,a[n].identifier,a[n]))&&((0,_.rG)(e),o("start",e,a[n]))}}function m(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=u[o[t].identifier])&&((0,_.ZP)(e),n("drag",e,o[t]))}function y(e){var t,n,r=e.changedTouches,i=r.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),t=0;t<i;++t)(n=u[r[t].identifier])&&((0,_.rG)(e),n("end",e,r[t]))}function b(e,t,n,o,r,i){var l,d,h,v=c.copy(),g=(0,S.Z)(i||n,t);if(null!=(h=a.call(e,new M("beforestart",{sourceEvent:n,target:f,identifier:r,active:s,x:g[0],y:g[1],dx:0,dy:0,dispatch:v}),o)))return l=h.x-g[0]||0,d=h.y-g[1]||0,function n(i,a,c){var p,m=g;switch(i){case"start":u[r]=n,p=s++;break;case"end":delete u[r],--s;case"drag":g=(0,S.Z)(c||a,t),p=s}v.call(i,e,new M(i,{sourceEvent:a,subject:h,target:f,identifier:r,active:p,x:g[0]+l,y:g[1]+d,dx:g[0]-m[0],dy:g[1]-m[1],dispatch:v}),o)}}return f.filter=function(e){return arguments.length?(r="function"===typeof e?e:N(!!e),f):r},f.container=function(e){return arguments.length?(i="function"===typeof e?e:N(e),f):i},f.subject=function(e){return arguments.length?(a="function"===typeof e?e:N(e),f):a},f.touchable=function(e){return arguments.length?(l="function"===typeof e?e:N(!!e),f):l},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}().on("start",(function(e){var t=f.getState(),n=t.domNode;0===t.nodeDragThreshold&&c(e);var o=R(e);y.current=o,w.current=(null===n||void 0===n?void 0:n.getBoundingClientRect())||null,O.current=xe(e.sourceEvent,w.current)})).on("drag",(function(e){var t=R(e),o=f.getState(),r=o.autoPanOnNodeDrag,i=o.nodeDragThreshold;if(!D.current&&z.current&&r&&(D.current=!0,l()),!z.current){var a,u,s,d,h=t.xSnapped-(null!==(a=null===y||void 0===y||null===(u=y.current)||void 0===u?void 0:u.x)&&void 0!==a?a:0),v=t.ySnapped-(null!==(s=null===y||void 0===y||null===(d=y.current)||void 0===d?void 0:d.y)&&void 0!==s?s:0);Math.sqrt(h*h+v*v)>i&&c(e)}(y.current.x!==t.xSnapped||y.current.y!==t.ySnapped)&&m.current&&z.current&&(I.current=e.sourceEvent,O.current=xe(e.sourceEvent,w.current),n(t))})).on("end",(function(e){if(z.current&&(p(!1),D.current=!1,z.current=!1,cancelAnimationFrame(b.current),m.current)){var t=f.getState(),n=t.updateNodePositions,o=t.nodeInternals,r=t.onNodeDragStop,a=t.onSelectionDragStop,l=u?r:Pn(a);if(n(m.current,!1,!1),l){var c=Nn({nodeId:u,dragItems:m.current,nodeInternals:o}),s=(0,i.Z)(c,2),d=s[0],h=s[1];l(e.sourceEvent,d,h)}}})).filter((function(e){var n=e.target;return!e.button&&(!r||!Sn(n,".".concat(r),t))&&(!a||Sn(n,a,t))}));return e.call(h),function(){e.on(".drag",null)}}e.on(".drag",null)}}),[t,o,r,a,s,f,u,d,R]),g}function On(){var e=Q();return(0,c.useCallback)((function(t){var n=e.getState(),o=n.nodeInternals,r=n.nodeExtent,i=n.updateNodePositions,a=n.getNodes,l=n.snapToGrid,u=n.snapGrid,c=n.onError,s=n.nodesDraggable,d=a().filter((function(e){return e.selected&&(e.draggable||s&&"undefined"===typeof e.draggable)})),f=l?u[0]:5,h=l?u[1]:5,v=t.isShiftPressed?4:1,g=t.x*f*v,p=t.y*h*v;i(d.map((function(e){if(e.positionAbsolute){var t={x:e.positionAbsolute.x+g,y:e.positionAbsolute.y+p};l&&(t.x=u[0]*Math.round(t.x/u[0]),t.y=u[1]*Math.round(t.y/u[1]));var n=_n(e,t,o,r,void 0,c),i=n.positionAbsolute,a=n.position;e.position=a,e.positionAbsolute=i}return e})),!0,!1)}),[])}var In={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Dn=function(e){var t=function(t){var n=t.id,o=t.type,i=t.data,a=t.xPos,u=t.yPos,d=t.xPosOrigin,f=t.yPosOrigin,h=t.selected,v=t.onClick,g=t.onMouseEnter,p=t.onMouseMove,m=t.onMouseLeave,y=t.onContextMenu,b=t.onDoubleClick,w=t.style,x=t.className,S=t.isDraggable,E=t.isSelectable,C=t.isConnectable,_=t.isFocusable,N=t.selectNodesOnDrag,M=t.sourcePosition,k=t.targetPosition,Z=t.hidden,P=t.resizeObserver,A=t.dragHandle,O=t.zIndex,I=t.isParent,D=t.noDragClassName,z=t.noPanClassName,R=t.initialized,B=t.disableKeyboardA11y,T=t.ariaLabel,H=t.rfId,L=t.hasHandleBounds,X=Q(),V=(0,c.useRef)(null),Y=(0,c.useRef)(M),F=(0,c.useRef)(k),K=(0,c.useRef)(o),U=E||S||v||g||p||m,j=On(),W=kn(n,X.getState,g),q=kn(n,X.getState,p),G=kn(n,X.getState,m),$=kn(n,X.getState,y),J=kn(n,X.getState,b);(0,c.useEffect)((function(){return function(){V.current&&(null===P||void 0===P||P.unobserve(V.current))}}),[]),(0,c.useEffect)((function(){if(V.current&&!Z){var e=V.current;R&&L||(null===P||void 0===P||P.unobserve(e),null===P||void 0===P||P.observe(e))}}),[Z,R,L]),(0,c.useEffect)((function(){var e=K.current!==o,t=Y.current!==M,r=F.current!==k;V.current&&(e||t||r)&&(e&&(K.current=o),t&&(Y.current=M),r&&(F.current=k),X.getState().updateNodeDimensions([{id:n,nodeElement:V.current,forceUpdate:!0}]))}),[n,o,M,k]);var ee=An({nodeRef:V,disabled:Z||!S,noDragClassName:D,handleSelector:A,nodeId:n,isSelectable:E,selectNodesOnDrag:N});return Z?null:c.createElement("div",{className:(0,s.Z)(["react-flow__node","react-flow__node-".concat(o),(0,r.Z)({},z,S),x,{selected:h,selectable:E,parent:I,dragging:ee}]),ref:V,style:(0,l.Z)({zIndex:O,transform:"translate(".concat(d,"px,").concat(f,"px)"),pointerEvents:U?"all":"none",visibility:R?"visible":"hidden"},w),"data-id":n,"data-testid":"rf__node-".concat(n),onMouseEnter:W,onMouseMove:q,onMouseLeave:G,onContextMenu:$,onClick:function(e){var t=X.getState().nodeDragThreshold;if(E&&(!N||!S||t>0)&&Zn({id:n,store:X,nodeRef:V}),v){var o=X.getState().nodeInternals.get(n);o&&v(e,(0,l.Z)({},o))}},onDoubleClick:J,onKeyDown:_?function(e){if(!be(e))if(me.includes(e.key)&&E){var t="Escape"===e.key;Zn({id:n,store:X,unselect:t,nodeRef:V})}else!B&&S&&h&&Object.prototype.hasOwnProperty.call(In,e.key)&&(X.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~a,", y: ").concat(~~u)}),j({x:In[e.key].x,y:In[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:_?0:void 0,role:_?"button":void 0,"aria-describedby":B?void 0:"".concat(Bt,"-").concat(H),"aria-label":T},c.createElement(We,{value:n},c.createElement(e,{id:n,data:i,type:o,xPos:a,yPos:u,selected:h,isConnectable:C,sourcePosition:M,targetPosition:k,dragging:ee,dragHandle:A,zIndex:O})))};return t.displayName="NodeWrapper",(0,c.memo)(t)},zn=function(e){var t=e.getNodes().filter((function(e){return e.selected}));return(0,l.Z)((0,l.Z)({},tt(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var Rn=(0,c.memo)((function(e){var t=e.onSelectionContextMenu,n=e.noPanClassName,o=e.disableKeyboardA11y,r=Q(),i=$(zn,b.X),a=i.width,l=i.height,u=i.x,d=i.y,f=i.transformString,h=i.userSelectionActive,v=On(),g=(0,c.useRef)(null);if((0,c.useEffect)((function(){var e;o||(null===(e=g.current)||void 0===e||e.focus({preventScroll:!0}))}),[o]),An({nodeRef:g}),h||!a||!l)return null;var p=t?function(e){var n=r.getState().getNodes().filter((function(e){return e.selected}));t(e,n)}:void 0;return c.createElement("div",{className:(0,s.Z)(["react-flow__nodesselection","react-flow__container",n]),style:{transform:f}},c.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:o?void 0:-1,onKeyDown:o?void 0:function(e){Object.prototype.hasOwnProperty.call(In,e.key)&&v({x:In[e.key].x,y:In[e.key].y,isShiftPressed:e.shiftKey})},style:{width:a,height:l,top:d,left:u}}))})),Bn=function(e){return e.nodesSelectionActive},Tn=function(e){var t=e.children,n=e.onPaneClick,o=e.onPaneMouseEnter,r=e.onPaneMouseMove,i=e.onPaneMouseLeave,a=e.onPaneContextMenu,l=e.onPaneScroll,u=e.deleteKeyCode,s=e.onMove,d=e.onMoveStart,f=e.onMoveEnd,h=e.selectionKeyCode,v=e.selectionOnDrag,g=e.selectionMode,p=e.onSelectionStart,m=e.onSelectionEnd,y=e.multiSelectionKeyCode,b=e.panActivationKeyCode,w=e.zoomActivationKeyCode,x=e.elementsSelectable,S=e.zoomOnScroll,E=e.zoomOnPinch,C=e.panOnScroll,_=e.panOnScrollSpeed,N=e.panOnScrollMode,M=e.zoomOnDoubleClick,k=e.panOnDrag,Z=e.defaultViewport,P=e.translateExtent,A=e.minZoom,O=e.maxZoom,I=e.preventScrolling,D=e.onSelectionContextMenu,z=e.noWheelClassName,R=e.noPanClassName,B=e.disableKeyboardA11y,T=$(Bn),H=Vt(h),L=Vt(b),X=L||k,V=L||C,Y=H||v&&!0!==X;return function(e){var t=e.deleteKeyCode,n=e.multiSelectionKeyCode,o=Q(),r=tn().deleteElements,i=Vt(t,nn),a=Vt(n);(0,c.useEffect)((function(){if(i){var e=o.getState(),t=e.edges,n=(0,e.getNodes)().filter((function(e){return e.selected})),a=t.filter((function(e){return e.selected}));r({nodes:n,edges:a}),o.setState({nodesSelectionActive:!1})}}),[i]),(0,c.useEffect)((function(){o.setState({multiSelectionActive:a})}),[a])}({deleteKeyCode:u,multiSelectionKeyCode:y}),c.createElement(sn,{onMove:s,onMoveStart:d,onMoveEnd:f,onPaneContextMenu:a,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:E,panOnScroll:V,panOnScrollSpeed:_,panOnScrollMode:N,zoomOnDoubleClick:M,panOnDrag:!H&&X,defaultViewport:Z,translateExtent:P,minZoom:A,maxZoom:O,zoomActivationKeyCode:w,preventScrolling:I,noWheelClassName:z,noPanClassName:R},c.createElement(wn,{onSelectionStart:p,onSelectionEnd:m,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:l,panOnDrag:X,isSelecting:!!Y,selectionMode:g},t,T&&c.createElement(Rn,{onSelectionContextMenu:D,noPanClassName:R,disableKeyboardA11y:B})))};Tn.displayName="FlowRenderer";var Hn=(0,c.memo)(Tn);function Ln(e){var t={input:Dn(e.input||xt),default:Dn(e.default||bt),output:Dn(e.output||Et),group:Dn(e.group||Ct)},n=Object.keys(e).filter((function(e){return!["input","default","output","group"].includes(e)})).reduce((function(t,n){return t[n]=Dn(e[n]||bt),t}),{});return(0,l.Z)((0,l.Z)({},t),n)}var Xn=function(e){return{nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}},Vn=function(e){var t,n=$(Xn,b.X),o=n.nodesDraggable,r=n.nodesConnectable,i=n.nodesFocusable,a=n.elementsSelectable,l=n.updateNodeDimensions,u=n.onError,s=(t=e.onlyRenderVisibleElements,$((0,c.useCallback)((function(e){return t?nt(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()}),[t]))),d=(0,c.useRef)(),f=(0,c.useMemo)((function(){if("undefined"===typeof ResizeObserver)return null;var e=new ResizeObserver((function(e){var t=e.map((function(e){return{id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}}));l(t)}));return d.current=e,e}),[]);return(0,c.useEffect)((function(){return function(){var e;null===d||void 0===d||null===(e=d.current)||void 0===e||e.disconnect()}}),[]),c.createElement("div",{className:"react-flow__nodes",style:on},s.map((function(t){var n,l,s,d,h,v,g,p,m=t.type||"default";e.nodeTypes[m]||(null===u||void 0===u||u("003",X(m)),m="default");var y=e.nodeTypes[m]||e.nodeTypes.default,b=!!(t.draggable||o&&"undefined"===typeof t.draggable),w=!!(t.selectable||a&&"undefined"===typeof t.selectable),x=!!(t.connectable||r&&"undefined"===typeof t.connectable),S=!!(t.focusable||i&&"undefined"===typeof t.focusable),E=e.nodeExtent?ie(t.positionAbsolute,e.nodeExtent):t.positionAbsolute,C=null!==(n=null===E||void 0===E?void 0:E.x)&&void 0!==n?n:0,_=null!==(l=null===E||void 0===E?void 0:E.y)&&void 0!==l?l:0,N=function(e){var t=e.x,n=e.y,o=e.width,r=e.height,i=e.origin;return o&&r?i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:n}:{x:t-o*i[0],y:n-r*i[1]}:{x:t,y:n}}({x:C,y:_,width:null!==(s=t.width)&&void 0!==s?s:0,height:null!==(d=t.height)&&void 0!==d?d:0,origin:e.nodeOrigin});return c.createElement(y,{key:t.id,id:t.id,className:t.className,style:t.style,type:m,data:t.data,sourcePosition:t.sourcePosition||Ze.Bottom,targetPosition:t.targetPosition||Ze.Top,hidden:t.hidden,xPos:C,yPos:_,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!t.selected,isDraggable:b,isSelectable:w,isConnectable:x,isFocusable:S,resizeObserver:f,dragHandle:t.dragHandle,zIndex:null!==(h=null===(v=t[pe])||void 0===v?void 0:v.z)&&void 0!==h?h:0,isParent:!(null===(g=t[pe])||void 0===g||!g.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!t.width&&!!t.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:t.ariaLabel,hasHandleBounds:!(null===(p=t[pe])||void 0===p||!p.handleBounds)})})))};Vn.displayName="NodeRenderer";var Yn=(0,c.memo)(Vn),Fn=function(e,t,n){return n===Ze.Left?e-t:n===Ze.Right?e+t:e},Kn=function(e,t,n){return n===Ze.Top?e-t:n===Ze.Bottom?e+t:e},Un="react-flow__edgeupdater",jn=function(e){var t=e.position,n=e.centerX,o=e.centerY,r=e.radius,i=void 0===r?10:r,a=e.onMouseDown,l=e.onMouseEnter,u=e.onMouseOut,d=e.type;return c.createElement("circle",{onMouseDown:a,onMouseEnter:l,onMouseOut:u,className:(0,s.Z)([Un,"".concat(Un,"-").concat(d)]),cx:Fn(n,i,t),cy:Kn(o,i,t),r:i,stroke:"transparent",fill:"transparent"})},Wn=function(){return!0},qn=function(e){var t=function(t){var n=t.id,o=t.className,r=t.type,a=t.data,l=t.onClick,u=t.onEdgeDoubleClick,d=t.selected,f=t.animated,h=t.label,v=t.labelStyle,g=t.labelShowBg,p=t.labelBgStyle,m=t.labelBgPadding,y=t.labelBgBorderRadius,b=t.style,w=t.source,x=t.target,S=t.sourceX,E=t.sourceY,C=t.targetX,_=t.targetY,N=t.sourcePosition,M=t.targetPosition,k=t.elementsSelectable,Z=t.hidden,P=t.sourceHandleId,A=t.targetHandleId,O=t.onContextMenu,I=t.onMouseEnter,D=t.onMouseMove,z=t.onMouseLeave,R=t.edgeUpdaterRadius,B=t.onEdgeUpdate,T=t.onEdgeUpdateStart,H=t.onEdgeUpdateEnd,L=t.markerEnd,X=t.markerStart,V=t.rfId,Y=t.ariaLabel,F=t.isFocusable,K=t.isUpdatable,U=t.pathOptions,j=t.interactionWidth,W=(0,c.useRef)(null),q=(0,c.useState)(!1),G=(0,i.Z)(q,2),$=G[0],J=G[1],ee=(0,c.useState)(!1),te=(0,i.Z)(ee,2),ne=te[0],oe=te[1],re=Q(),ie=(0,c.useMemo)((function(){return"url('#".concat(Ge(X,V),"')")}),[X,V]),ae=(0,c.useMemo)((function(){return"url('#".concat(Ge(L,V),"')")}),[L,V]);if(Z)return null;var le=Pe(n,re.getState,u),ue=Pe(n,re.getState,O),ce=Pe(n,re.getState,I),se=Pe(n,re.getState,D),de=Pe(n,re.getState,z),fe=function(e,t){if(0===e.button){var o=re.getState(),r=o.edges,i=o.isValidConnection,a=t?x:w,l=(t?A:P)||null,u=t?"target":"source",c=i||Wn,s=t,d=r.find((function(e){return e.id===n}));oe(!0),null===T||void 0===T||T(e,d,u);ht({event:e,handleId:l,nodeId:a,onConnect:function(e){return null===B||void 0===B?void 0:B(d,e)},isTarget:s,getState:re.getState,setState:re.setState,isValidConnection:c,edgeUpdaterType:u,onEdgeUpdateEnd:function(e){oe(!1),null===H||void 0===H||H(e,d,u)}})}},he=function(){return J(!0)},ve=function(){return J(!1)},ge=!k&&!l;return c.createElement("g",{className:(0,s.Z)(["react-flow__edge","react-flow__edge-".concat(r),o,{selected:d,animated:f,inactive:ge,updating:$}]),onClick:function(e){var t=re.getState(),o=t.edges,r=t.addSelectedEdges,i=t.unselectNodesAndEdges,a=t.multiSelectionActive,u=o.find((function(e){return e.id===n}));if(u){var c;if(k)if(re.setState({nodesSelectionActive:!1}),u.selected&&a)i({nodes:[],edges:[u]}),null===(c=W.current)||void 0===c||c.blur();else r([n]);l&&l(e,u)}},onDoubleClick:le,onContextMenu:ue,onMouseEnter:ce,onMouseMove:se,onMouseLeave:de,onKeyDown:F?function(e){if(me.includes(e.key)&&k){var t,o=re.getState(),r=o.unselectNodesAndEdges,i=o.addSelectedEdges,a=o.edges;if("Escape"===e.key)null===(t=W.current)||void 0===t||t.blur(),r({edges:[a.find((function(e){return e.id===n}))]});else i([n])}}:void 0,tabIndex:F?0:void 0,role:F?"button":"img","data-testid":"rf__edge-".concat(n),"aria-label":null===Y?void 0:Y||"Edge from ".concat(w," to ").concat(x),"aria-describedby":F?"".concat(Tt,"-").concat(V):void 0,ref:W},!ne&&c.createElement(e,{id:n,source:w,target:x,selected:d,animated:f,label:h,labelStyle:v,labelShowBg:g,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,data:a,style:b,sourceX:S,sourceY:E,targetX:C,targetY:_,sourcePosition:N,targetPosition:M,sourceHandleId:P,targetHandleId:A,markerStart:ie,markerEnd:ae,pathOptions:U,interactionWidth:j}),K&&c.createElement(c.Fragment,null,("source"===K||!0===K)&&c.createElement(jn,{position:N,centerX:S,centerY:E,radius:R,onMouseDown:function(e){return fe(e,!0)},onMouseEnter:he,onMouseOut:ve,type:"source"}),("target"===K||!0===K)&&c.createElement(jn,{position:M,centerX:C,centerY:_,radius:R,onMouseDown:function(e){return fe(e,!1)},onMouseEnter:he,onMouseOut:ve,type:"target"})))};return t.displayName="EdgeWrapper",(0,c.memo)(t)};function Gn(e){var t={default:qn(e.default||Ue),straight:qn(e.bezier||Ve),step:qn(e.step||Xe),smoothstep:qn(e.step||Le),simplebezier:qn(e.simplebezier||ze)},n=Object.keys(e).filter((function(e){return!["default","bezier"].includes(e)})).reduce((function(t,n){return t[n]=qn(e[n]||Ue),t}),{});return(0,l.Z)((0,l.Z)({},t),n)}function $n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=((null===n||void 0===n?void 0:n.x)||0)+t.x,r=((null===n||void 0===n?void 0:n.y)||0)+t.y,i=(null===n||void 0===n?void 0:n.width)||t.width,a=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case Ze.Top:return{x:o+i/2,y:r};case Ze.Right:return{x:o+i,y:r+a/2};case Ze.Bottom:return{x:o+i/2,y:r+a};case Ze.Left:return{x:o,y:r+a/2}}}function Qn(e,t){return e?1!==e.length&&t?t&&e.find((function(e){return e.id===t}))||null:e[0]:null}function Jn(e){var t,n,o,r,i,a=(null===e||void 0===e||null===(t=e[pe])||void 0===t?void 0:t.handleBounds)||null,l=a&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.y);return[{x:(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)||0,y:(null===e||void 0===e||null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},a,!!l]}var eo=[{level:0,isMaxLevel:!0,edges:[]}];function to(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1,r=e.reduce((function(e,r){var i=ge(r.zIndex),a=i?r.zIndex:0;if(n){var l,u,c=t.get(r.target),s=t.get(r.source),d=r.selected||(null===c||void 0===c?void 0:c.selected)||(null===s||void 0===s?void 0:s.selected),f=Math.max((null===s||void 0===s||null===(l=s[pe])||void 0===l?void 0:l.z)||0,(null===c||void 0===c||null===(u=c[pe])||void 0===u?void 0:u.z)||0,1e3);a=(i?r.zIndex:0)+(d?f:0)}return e[a]?e[a].push(r):e[a]=[r],o=a>o?a:o,e}),{}),a=Object.entries(r).map((function(e){var t=(0,i.Z)(e,2),n=+t[0];return{edges:t[1],level:n,isMaxLevel:n===o}}));return 0===a.length?eo:a}($((0,c.useCallback)((function(n){return e?n.edges.filter((function(e){var o=t.get(e.source),r=t.get(e.target);return(null===o||void 0===o?void 0:o.width)&&(null===o||void 0===o?void 0:o.height)&&(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&function(e){var t=e.sourcePos,n=e.targetPos,o=e.sourceWidth,r=e.sourceHeight,i=e.targetWidth,a=e.targetHeight,l=e.width,u=e.height,c=e.transform,s={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+o,n.x+i),y2:Math.max(t.y+r,n.y+a)};s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);var d=se({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:l/c[2],height:u/c[2]}),f=Math.max(0,Math.min(d.x2,s.x2)-Math.max(d.x,s.x)),h=Math.max(0,Math.min(d.y2,s.y2)-Math.max(d.y,s.y));return Math.ceil(f*h)>0}({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:r.width,targetHeight:r.height,width:n.width,height:n.height,transform:n.transform})})):n.edges}),[e,t])),t,n)}var no=(I={},(0,r.Z)(I,ke.Arrow,(function(e){var t=e.color,n=void 0===t?"none":t,o=e.strokeWidth,r=void 0===o?1:o;return c.createElement("polyline",{style:{stroke:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})})),(0,r.Z)(I,ke.ArrowClosed,(function(e){var t=e.color,n=void 0===t?"none":t,o=e.strokeWidth,r=void 0===o?1:o;return c.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})})),I);var oo=function(e){var t=e.id,n=e.type,o=e.color,r=e.width,i=void 0===r?12.5:r,a=e.height,l=void 0===a?12.5:a,u=e.markerUnits,s=void 0===u?"strokeWidth":u,d=e.strokeWidth,f=e.orient,h=void 0===f?"auto-start-reverse":f,v=function(e){var t=Q();return(0,c.useMemo)((function(){var n,o;return Object.prototype.hasOwnProperty.call(no,e)?no[e]:(null===(n=(o=t.getState()).onError)||void 0===n||n.call(o,"009",K(e)),null)}),[e])}(n);return v?c.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(i),markerHeight:"".concat(l),viewBox:"-10 -10 20 20",markerUnits:s,orient:h,refX:"0",refY:"0"},c.createElement(v,{color:o,strokeWidth:d})):null},ro=function(e){var t=e.defaultColor,n=e.rfId,o=$((0,c.useCallback)(function(e){var t=e.defaultColor,n=e.rfId;return function(e){var o=[];return e.edges.reduce((function(e,r){return[r.markerStart,r.markerEnd].forEach((function(r){if(r&&"object"===typeof r){var i=Ge(r,n);o.includes(i)||(e.push((0,l.Z)({id:i,color:r.color||t},r)),o.push(i))}})),e}),[]).sort((function(e,t){return e.id.localeCompare(t.id)}))}}({defaultColor:t,rfId:n}),[t,n]),(function(e,t){return!(e.length!==t.length||e.some((function(e,n){return e.id!==t[n].id})))}));return c.createElement("defs",null,o.map((function(e){return c.createElement(oo,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})})))};ro.displayName="MarkerDefinitions";var io=(0,c.memo)(ro),ao=function(e){return{nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}},lo=function(e){var t=e.defaultMarkerColor,n=e.onlyRenderVisibleElements,o=e.elevateEdgesOnSelect,r=e.rfId,a=e.edgeTypes,l=e.noPanClassName,u=e.onEdgeUpdate,d=e.onEdgeContextMenu,f=e.onEdgeMouseEnter,h=e.onEdgeMouseMove,v=e.onEdgeMouseLeave,g=e.onEdgeClick,p=e.edgeUpdaterRadius,m=e.onEdgeDoubleClick,y=e.onEdgeUpdateStart,w=e.onEdgeUpdateEnd,x=e.children,S=$(ao,b.X),E=S.edgesFocusable,C=S.edgesUpdatable,_=S.elementsSelectable,N=S.width,M=S.height,k=S.connectionMode,Z=S.nodeInternals,P=S.onError,A=to(n,Z,o);return N?c.createElement(c.Fragment,null,A.map((function(e){var n=e.level,o=e.edges,b=e.isMaxLevel;return c.createElement("svg",{key:n,style:{zIndex:n},width:N,height:M,className:"react-flow__edges react-flow__container"},b&&c.createElement(io,{defaultColor:t,rfId:r}),c.createElement("g",null,o.map((function(e){var t,n,o=Jn(Z.get(e.source)),b=(0,i.Z)(o,3),x=b[0],S=b[1],N=b[2],M=Jn(Z.get(e.target)),A=(0,i.Z)(M,3),O=A[0],I=A[1],D=A[2];if(!N||!D)return null;var z=e.type||"default";a[z]||(null===P||void 0===P||P("011",W(z)),z="default");var R=a[z]||a.default,B=k===Ce.Strict?I.target:(null!==(t=I.target)&&void 0!==t?t:[]).concat(null!==(n=I.source)&&void 0!==n?n:[]),T=Qn(S.source,e.sourceHandle),H=Qn(B,e.targetHandle),L=(null===T||void 0===T?void 0:T.position)||Ze.Bottom,X=(null===H||void 0===H?void 0:H.position)||Ze.Top,V=!!(e.focusable||E&&"undefined"===typeof e.focusable),Y="undefined"!==typeof u&&(e.updatable||C&&"undefined"===typeof e.updatable);if(!T||!H)return null===P||void 0===P||P("008",U(T,e)),null;var F=function(e,t,n,o,r,i){var a=$n(n,e,t),l=$n(i,o,r);return{sourceX:a.x,sourceY:a.y,targetX:l.x,targetY:l.y}}(x,T,L,O,H,X),K=F.sourceX,j=F.sourceY,q=F.targetX,G=F.targetY;return c.createElement(R,{key:e.id,id:e.id,className:(0,s.Z)([e.className,l]),type:z,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:K,sourceY:j,targetX:q,targetY:G,sourcePosition:L,targetPosition:X,elementsSelectable:_,onEdgeUpdate:u,onContextMenu:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:v,onClick:g,edgeUpdaterRadius:p,onEdgeDoubleClick:m,onEdgeUpdateStart:y,onEdgeUpdateEnd:w,rfId:r,ariaLabel:e.ariaLabel,isFocusable:V,isUpdatable:Y,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth})}))))})),x):null};lo.displayName="EdgeRenderer";var uo=(0,c.memo)(lo),co=function(e){return"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")")};function so(e){var t=e.children,n=$(co);return c.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}var fo=(D={},(0,r.Z)(D,Ze.Left,Ze.Right),(0,r.Z)(D,Ze.Right,Ze.Left),(0,r.Z)(D,Ze.Top,Ze.Bottom),(0,r.Z)(D,Ze.Bottom,Ze.Top),D),ho=function(e){var t,n,o,r,a,u,s,d=e.nodeId,f=e.handleType,h=e.style,v=e.type,g=void 0===v?Me.Bezier:v,p=e.CustomComponent,m=e.connectionStatus,y=$((0,c.useCallback)((function(e){return{fromNode:e.nodeInternals.get(d),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}}),[d]),b.X),w=y.fromNode,x=y.handleId,S=y.toX,E=y.toY,C=y.connectionMode,_=null===w||void 0===w||null===(t=w[pe])||void 0===t?void 0:t.handleBounds,N=null===_||void 0===_?void 0:_[f];if(C===Ce.Loose&&(N=N||(null===_||void 0===_?void 0:_["source"===f?"target":"source"])),!w||!N)return null;var M=x?N.find((function(e){return e.id===x})):N[0],k=M?M.x+M.width/2:(null!==(n=w.width)&&void 0!==n?n:0)/2,Z=M?M.y+M.height/2:null!==(o=w.height)&&void 0!==o?o:0,P=(null!==(r=null===(a=w.positionAbsolute)||void 0===a?void 0:a.x)&&void 0!==r?r:0)+k,A=(null!==(u=null===(s=w.positionAbsolute)||void 0===s?void 0:s.y)&&void 0!==u?u:0)+Z,O=null===M||void 0===M?void 0:M.position,I=O?fo[O]:null;if(!O||!I)return null;if(p)return c.createElement(p,{connectionLineType:g,connectionLineStyle:h,fromNode:w,fromHandle:M,fromX:P,fromY:A,toX:S,toY:E,fromPosition:O,toPosition:I,connectionStatus:m});var D="",z={sourceX:P,sourceY:A,sourcePosition:O,targetX:S,targetY:E,targetPosition:I};if(g===Me.Bezier){var R=Ke(z);D=(0,i.Z)(R,1)[0]}else if(g===Me.Step){var B=He((0,l.Z)((0,l.Z)({},z),{},{borderRadius:0}));D=(0,i.Z)(B,1)[0]}else if(g===Me.SmoothStep){var T=He(z);D=(0,i.Z)(T,1)[0]}else if(g===Me.SimpleBezier){var H=De(z);D=(0,i.Z)(H,1)[0]}else D="M".concat(P,",").concat(A," ").concat(S,",").concat(E);return c.createElement("path",{d:D,fill:"none",className:"react-flow__connection-path",style:h})};ho.displayName="ConnectionLine";var vo=function(e){return{nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height}};function go(e){var t=e.containerStyle,n=e.style,o=e.type,r=e.component,i=$(vo,b.X),a=i.nodeId,l=i.handleType,u=i.nodesConnectable,d=i.width,f=i.height,h=i.connectionStatus;return!!(a&&l&&d&&u)?c.createElement("svg",{style:t,width:d,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container"},c.createElement("g",{className:(0,s.Z)(["react-flow__connection",h])},c.createElement(ho,{nodeId:a,handleType:l,style:n,type:o,CustomComponent:r,connectionStatus:h}))):null}function po(e,t){(0,c.useRef)(null),Q();return(0,c.useMemo)((function(){return t(e)}),[e])}var mo=function(e){var t=e.nodeTypes,n=e.edgeTypes,o=e.onMove,r=e.onMoveStart,i=e.onMoveEnd,a=e.onInit,l=e.onNodeClick,u=e.onEdgeClick,s=e.onNodeDoubleClick,d=e.onEdgeDoubleClick,f=e.onNodeMouseEnter,h=e.onNodeMouseMove,v=e.onNodeMouseLeave,g=e.onNodeContextMenu,p=e.onSelectionContextMenu,m=e.onSelectionStart,y=e.onSelectionEnd,b=e.connectionLineType,w=e.connectionLineStyle,x=e.connectionLineComponent,S=e.connectionLineContainerStyle,E=e.selectionKeyCode,C=e.selectionOnDrag,_=e.selectionMode,N=e.multiSelectionKeyCode,M=e.panActivationKeyCode,k=e.zoomActivationKeyCode,Z=e.deleteKeyCode,P=e.onlyRenderVisibleElements,A=e.elementsSelectable,O=e.selectNodesOnDrag,I=e.defaultViewport,D=e.translateExtent,z=e.minZoom,R=e.maxZoom,B=e.preventScrolling,T=e.defaultMarkerColor,H=e.zoomOnScroll,L=e.zoomOnPinch,X=e.panOnScroll,V=e.panOnScrollSpeed,Y=e.panOnScrollMode,F=e.zoomOnDoubleClick,K=e.panOnDrag,U=e.onPaneClick,j=e.onPaneMouseEnter,W=e.onPaneMouseMove,q=e.onPaneMouseLeave,G=e.onPaneScroll,$=e.onPaneContextMenu,Q=e.onEdgeUpdate,J=e.onEdgeContextMenu,ee=e.onEdgeMouseEnter,te=e.onEdgeMouseMove,ne=e.onEdgeMouseLeave,oe=e.edgeUpdaterRadius,re=e.onEdgeUpdateStart,ie=e.onEdgeUpdateEnd,ae=e.noDragClassName,le=e.noWheelClassName,ue=e.noPanClassName,ce=e.elevateEdgesOnSelect,se=e.disableKeyboardA11y,de=e.nodeOrigin,fe=e.nodeExtent,he=e.rfId,ve=po(t,Ln),ge=po(n,Gn);return function(e){var t=tn(),n=(0,c.useRef)(!1);(0,c.useEffect)((function(){!n.current&&t.viewportInitialized&&e&&(setTimeout((function(){return e(t)}),1),n.current=!0)}),[e,t.viewportInitialized])}(a),c.createElement(Hn,{onPaneClick:U,onPaneMouseEnter:j,onPaneMouseMove:W,onPaneMouseLeave:q,onPaneContextMenu:$,onPaneScroll:G,deleteKeyCode:Z,selectionKeyCode:E,selectionOnDrag:C,selectionMode:_,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:k,elementsSelectable:A,onMove:o,onMoveStart:r,onMoveEnd:i,zoomOnScroll:H,zoomOnPinch:L,zoomOnDoubleClick:F,panOnScroll:X,panOnScrollSpeed:V,panOnScrollMode:Y,panOnDrag:K,defaultViewport:I,translateExtent:D,minZoom:z,maxZoom:R,onSelectionContextMenu:p,preventScrolling:B,noDragClassName:ae,noWheelClassName:le,noPanClassName:ue,disableKeyboardA11y:se},c.createElement(so,null,c.createElement(uo,{edgeTypes:ge,onEdgeClick:u,onEdgeDoubleClick:d,onEdgeUpdate:Q,onlyRenderVisibleElements:P,onEdgeContextMenu:J,onEdgeMouseEnter:ee,onEdgeMouseMove:te,onEdgeMouseLeave:ne,onEdgeUpdateStart:re,onEdgeUpdateEnd:ie,edgeUpdaterRadius:oe,defaultMarkerColor:T,noPanClassName:ue,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:se,rfId:he},c.createElement(go,{style:w,type:b,component:x,containerStyle:S})),c.createElement("div",{className:"react-flow__edgelabel-renderer"}),c.createElement(Yn,{nodeTypes:ve,onNodeClick:l,onNodeDoubleClick:s,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:v,onNodeContextMenu:g,selectNodesOnDrag:O,onlyRenderVisibleElements:P,noPanClassName:ue,noDragClassName:ae,disableKeyboardA11y:se,nodeOrigin:de,nodeExtent:fe,rfId:he})))};mo.displayName="GraphView";var yo=(0,c.memo)(mo),bo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],wo={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:bo,nodeExtent:bo,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ce.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:ye,isValidConnection:void 0},xo=function(){return e=function(e,t){return(0,l.Z)((0,l.Z)({},wo),{},{setNodes:function(n){var o=t(),r=o.nodeInternals,i=o.nodeOrigin,a=o.elevateNodesOnSelect;e({nodeInternals:jt(n,r,i,a)})},getNodes:function(){return Array.from(t().nodeInternals.values())},setEdges:function(n){var o=t().defaultEdgeOptions,r=void 0===o?{}:o;e({edges:n.map((function(e){return(0,l.Z)((0,l.Z)({},r),e)}))})},setDefaultNodesAndEdges:function(n,o){var r="undefined"!==typeof n,i="undefined"!==typeof o,a=r?jt(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?o:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:function(n){var o=t(),i=o.onNodesChange,a=o.nodeInternals,u=o.fitViewOnInit,c=o.fitViewOnInitDone,s=o.fitViewOnInitOptions,d=o.domNode,f=o.nodeOrigin,h=null===d||void 0===d?void 0:d.querySelector(".react-flow__viewport");if(h){var v=window.getComputedStyle(h),g=new window.DOMMatrixReadOnly(v.transform).m22,p=n.reduce((function(e,t){var n=a.get(t.id);if(n){var o=oe(t.nodeElement);o.width&&o.height&&(n.width!==o.width||n.height!==o.height||t.forceUpdate)&&(a.set(n.id,(0,l.Z)((0,l.Z)({},n),{},(0,r.Z)({},pe,(0,l.Z)((0,l.Z)({},n[pe]),{},{handleBounds:{source:Mn(".source",t.nodeElement,g,f),target:Mn(".target",t.nodeElement,g,f)}})),o)),e.push({id:n.id,type:"dimensions",dimensions:o}))}return e}),[]);Ut(a,f);var m=c||u&&!c&&Wt(t,(0,l.Z)({initial:!0},s));e({nodeInternals:new Map(a),fitViewOnInitDone:m}),(null===p||void 0===p?void 0:p.length)>0&&(null===i||void 0===i||i(p))}},updateNodePositions:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t(),i=r.triggerNodeChanges,a=e.map((function(e){var t={id:e.id,type:"position",dragging:o};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}));i(a)},triggerNodeChanges:function(n){var o=t(),r=o.onNodesChange,i=o.nodeInternals,a=o.hasDefaultNodes,l=o.nodeOrigin,u=o.getNodes,c=o.elevateNodesOnSelect;if(null!==n&&void 0!==n&&n.length){if(a){var s=jt(gn(n,u()),i,l,c);e({nodeInternals:s})}null===r||void 0===r||r(n)}},addSelectedNodes:function(n){var o,r=t(),i=r.multiSelectionActive,a=r.edges,l=r.getNodes,u=null;i?o=n.map((function(e){return pn(e,!0)})):(o=mn(l(),n),u=mn(a,[])),$t({changedNodes:o,changedEdges:u,get:t,set:e})},addSelectedEdges:function(n){var o,r=t(),i=r.multiSelectionActive,a=r.edges,l=r.getNodes,u=null;i?o=n.map((function(e){return pn(e,!0)})):(o=mn(a,n),u=mn(l(),[])),$t({changedNodes:u,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.nodes,r=n.edges,i=t(),a=i.edges,l=i.getNodes,u=o||l(),c=r||a,s=u.map((function(e){return e.selected=!1,pn(e.id,!1)})),d=c.map((function(e){return pn(e.id,!1)}));$t({changedNodes:s,changedEdges:d,get:t,set:e})},setMinZoom:function(n){var o=t(),r=o.d3Zoom,i=o.maxZoom;null===r||void 0===r||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:function(n){var o=t(),r=o.d3Zoom,i=o.minZoom;null===r||void 0===r||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:function(n){var o;null===(o=t().d3Zoom)||void 0===o||o.translateExtent(n),e({translateExtent:n})},resetSelectedElements:function(){var n=t(),o=n.edges;$t({changedNodes:(0,n.getNodes)().filter((function(e){return e.selected})).map((function(e){return pn(e.id,!1)})),changedEdges:o.filter((function(e){return e.selected})).map((function(e){return pn(e.id,!1)})),get:t,set:e})},setNodeExtent:function(n){var o=t().nodeInternals;o.forEach((function(e){e.positionAbsolute=ie(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(o)})},panBy:function(e){var n=t(),o=n.transform,r=n.width,i=n.height,a=n.d3Zoom,l=n.d3Selection,u=n.translateExtent;if(!a||!l||!e.x&&!e.y)return!1;var c=w.CR.translate(o[0]+e.x,o[1]+e.y).scale(o[2]),s=[[0,0],[r,i]],d=null===a||void 0===a?void 0:a.constrain()(c,s,u);return a.transform(l,d),o[0]!==d.x||o[1]!==d.y||o[2]!==d.k},cancelConnection:function(){return e({connectionNodeId:wo.connectionNodeId,connectionHandleId:wo.connectionHandleId,connectionHandleType:wo.connectionHandleType,connectionStatus:wo.connectionStatus,connectionStartHandle:wo.connectionStartHandle,connectionEndHandle:wo.connectionEndHandle})},reset:function(){return e((0,l.Z)({},wo))}})},t=Object.is,e?y(e,t):y;var e,t},So=function(e){var t=e.children,n=(0,c.useRef)(null);return n.current||(n.current=xo()),c.createElement(L,{value:n.current},t)};So.displayName="ReactFlowProvider";var Eo=function(e){var t=e.children;return(0,c.useContext)(H)?c.createElement(c.Fragment,null,t):c.createElement(So,null,t)};Eo.displayName="ReactFlowWrapper";var Co={input:xt,default:bt,output:Et,group:Ct},_o={default:Ue,straight:Ve,step:Xe,smoothstep:Le,simplebezier:ze},No=[0,0],Mo=[15,15],ko={x:0,y:0,zoom:1},Zo={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Po=(0,c.forwardRef)((function(e,t){var n=e.nodes,o=e.edges,r=e.defaultNodes,i=e.defaultEdges,a=e.className,d=e.nodeTypes,f=void 0===d?Co:d,h=e.edgeTypes,v=void 0===h?_o:h,g=e.onNodeClick,p=e.onEdgeClick,m=e.onInit,y=e.onMove,b=e.onMoveStart,w=e.onMoveEnd,x=e.onConnect,S=e.onConnectStart,E=e.onConnectEnd,C=e.onClickConnectStart,_=e.onClickConnectEnd,N=e.onNodeMouseEnter,M=e.onNodeMouseMove,k=e.onNodeMouseLeave,Z=e.onNodeContextMenu,P=e.onNodeDoubleClick,A=e.onNodeDragStart,O=e.onNodeDrag,I=e.onNodeDragStop,D=e.onNodesDelete,z=e.onEdgesDelete,R=e.onSelectionChange,B=e.onSelectionDragStart,H=e.onSelectionDrag,L=e.onSelectionDragStop,X=e.onSelectionContextMenu,V=e.onSelectionStart,Y=e.onSelectionEnd,F=e.connectionMode,K=void 0===F?Ce.Strict:F,U=e.connectionLineType,j=void 0===U?Me.Bezier:U,W=e.connectionLineStyle,q=e.connectionLineComponent,G=e.connectionLineContainerStyle,$=e.deleteKeyCode,Q=void 0===$?"Backspace":$,J=e.selectionKeyCode,ee=void 0===J?"Shift":J,ne=e.selectionOnDrag,oe=void 0!==ne&&ne,re=e.selectionMode,ie=void 0===re?Ne.Full:re,ae=e.panActivationKeyCode,le=void 0===ae?"Space":ae,ue=e.multiSelectionKeyCode,ce=void 0===ue?Se()?"Meta":"Control":ue,se=e.zoomActivationKeyCode,de=void 0===se?Se()?"Meta":"Control":se,fe=e.snapToGrid,he=void 0!==fe&&fe,ve=e.snapGrid,ge=void 0===ve?Mo:ve,pe=e.onlyRenderVisibleElements,me=void 0!==pe&&pe,ye=e.selectNodesOnDrag,be=void 0===ye||ye,we=e.nodesDraggable,xe=e.nodesConnectable,Ee=e.nodesFocusable,ke=e.nodeOrigin,Ze=void 0===ke?No:ke,Pe=e.edgesFocusable,Ae=e.edgesUpdatable,Oe=e.elementsSelectable,Ie=e.defaultViewport,De=void 0===Ie?ko:Ie,ze=e.minZoom,Re=void 0===ze?.5:ze,Be=e.maxZoom,Te=void 0===Be?2:Be,He=e.translateExtent,Le=void 0===He?bo:He,Xe=e.preventScrolling,Ve=void 0===Xe||Xe,Ye=e.nodeExtent,Fe=e.defaultMarkerColor,Ke=void 0===Fe?"#b1b1b7":Fe,Ue=e.zoomOnScroll,je=void 0===Ue||Ue,We=e.zoomOnPinch,qe=void 0===We||We,Ge=e.panOnScroll,$e=void 0!==Ge&&Ge,Qe=e.panOnScrollSpeed,Je=void 0===Qe?.5:Qe,et=e.panOnScrollMode,tt=void 0===et?_e.Free:et,nt=e.zoomOnDoubleClick,ot=void 0===nt||nt,rt=e.panOnDrag,it=void 0===rt||rt,at=e.onPaneClick,lt=e.onPaneMouseEnter,ut=e.onPaneMouseMove,ct=e.onPaneMouseLeave,st=e.onPaneScroll,dt=e.onPaneContextMenu,ft=e.children,ht=e.onEdgeUpdate,vt=e.onEdgeContextMenu,gt=e.onEdgeDoubleClick,pt=e.onEdgeMouseEnter,mt=e.onEdgeMouseMove,yt=e.onEdgeMouseLeave,bt=e.onEdgeUpdateStart,wt=e.onEdgeUpdateEnd,xt=e.edgeUpdaterRadius,St=void 0===xt?10:xt,Et=e.onNodesChange,Ct=e.onEdgesChange,_t=e.noDragClassName,Nt=void 0===_t?"nodrag":_t,Mt=e.noWheelClassName,kt=void 0===Mt?"nowheel":Mt,Zt=e.noPanClassName,At=void 0===Zt?"nopan":Zt,Ot=e.fitView,It=void 0!==Ot&&Ot,zt=e.fitViewOptions,Rt=e.connectOnClick,Bt=void 0===Rt||Rt,Tt=e.attributionPosition,Ht=e.proOptions,Lt=e.defaultEdgeOptions,Vt=e.elevateNodesOnSelect,Yt=void 0===Vt||Vt,Ft=e.elevateEdgesOnSelect,Kt=void 0!==Ft&&Ft,Ut=e.disableKeyboardA11y,jt=void 0!==Ut&&Ut,Wt=e.autoPanOnConnect,qt=void 0===Wt||Wt,Gt=e.autoPanOnNodeDrag,$t=void 0===Gt||Gt,Qt=e.connectionRadius,Jt=void 0===Qt?20:Qt,en=e.isValidConnection,tn=e.onError,nn=e.style,on=e.id,rn=e.nodeDragThreshold,an=(0,u.Z)(e,T),ln=on||"1";return c.createElement("div",(0,l.Z)((0,l.Z)({},an),{},{style:(0,l.Z)((0,l.Z)({},nn),Zo),ref:t,className:(0,s.Z)(["react-flow",a]),"data-testid":"rf__wrapper",id:on}),c.createElement(Eo,null,c.createElement(yo,{onInit:m,onMove:y,onMoveStart:b,onMoveEnd:w,onNodeClick:g,onEdgeClick:p,onNodeMouseEnter:N,onNodeMouseMove:M,onNodeMouseLeave:k,onNodeContextMenu:Z,onNodeDoubleClick:P,nodeTypes:f,edgeTypes:v,connectionLineType:j,connectionLineStyle:W,connectionLineComponent:q,connectionLineContainerStyle:G,selectionKeyCode:ee,selectionOnDrag:oe,selectionMode:ie,deleteKeyCode:Q,multiSelectionKeyCode:ce,panActivationKeyCode:le,zoomActivationKeyCode:de,onlyRenderVisibleElements:me,selectNodesOnDrag:be,defaultViewport:De,translateExtent:Le,minZoom:Re,maxZoom:Te,preventScrolling:Ve,zoomOnScroll:je,zoomOnPinch:qe,zoomOnDoubleClick:ot,panOnScroll:$e,panOnScrollSpeed:Je,panOnScrollMode:tt,panOnDrag:it,onPaneClick:at,onPaneMouseEnter:lt,onPaneMouseMove:ut,onPaneMouseLeave:ct,onPaneScroll:st,onPaneContextMenu:dt,onSelectionContextMenu:X,onSelectionStart:V,onSelectionEnd:Y,onEdgeUpdate:ht,onEdgeContextMenu:vt,onEdgeDoubleClick:gt,onEdgeMouseEnter:pt,onEdgeMouseMove:mt,onEdgeMouseLeave:yt,onEdgeUpdateStart:bt,onEdgeUpdateEnd:wt,edgeUpdaterRadius:St,defaultMarkerColor:Ke,noDragClassName:Nt,noWheelClassName:kt,noPanClassName:At,elevateEdgesOnSelect:Kt,rfId:ln,disableKeyboardA11y:jt,nodeOrigin:Ze,nodeExtent:Ye}),c.createElement(Dt,{nodes:n,edges:o,defaultNodes:r,defaultEdges:i,onConnect:x,onConnectStart:S,onConnectEnd:E,onClickConnectStart:C,onClickConnectEnd:_,nodesDraggable:we,nodesConnectable:xe,nodesFocusable:Ee,edgesFocusable:Pe,edgesUpdatable:Ae,elementsSelectable:Oe,elevateNodesOnSelect:Yt,minZoom:Re,maxZoom:Te,nodeExtent:Ye,onNodesChange:Et,onEdgesChange:Ct,snapToGrid:he,snapGrid:ge,connectionMode:K,translateExtent:Le,connectOnClick:Bt,defaultEdgeOptions:Lt,fitView:It,fitViewOptions:zt,onNodesDelete:D,onEdgesDelete:z,onNodeDragStart:A,onNodeDrag:O,onNodeDragStop:I,onSelectionDrag:H,onSelectionDragStart:B,onSelectionDragStop:L,noPanClassName:At,nodeOrigin:Ze,rfId:ln,autoPanOnConnect:qt,autoPanOnNodeDrag:$t,onError:tn,connectionRadius:Jt,isValidConnection:en,nodeDragThreshold:rn}),c.createElement(Pt,{onSelectionChange:R}),ft,c.createElement(te,{proOptions:Ht,position:Tt}),c.createElement(Xt,{rfId:ln,disableKeyboardA11y:jt})))}));Po.displayName="ReactFlow";function Ao(e){return function(t){var n=(0,c.useState)(t),o=(0,i.Z)(n,2),r=o[0],a=o[1],l=(0,c.useCallback)((function(t){return a((function(n){return e(t,n)}))}),[]);return[r,a,l]}}var Oo=Ao(gn),Io=Ao((function(e,t){return vn(e,t)}))},76841:function(e,t,n){"use strict";n.d(t,{a:function(){return y}});var o=n(72791),r=n(5869),i=n(25848),a=n(18208),l=n(62988),u=n(84308),c=n(15348),s=function(e){var t=e.id,n=e.x,i=e.y,a=e.width,l=e.height,u=e.style,c=e.color,s=e.strokeColor,d=e.strokeWidth,f=e.className,h=e.borderRadius,v=e.shapeRendering,g=e.onClick,p=e.selected,m=u||{},y=m.background,b=m.backgroundColor,w=c||y||b;return o.createElement("rect",{className:(0,r.Z)(["react-flow__minimap-node",{selected:p},f]),x:n,y:i,rx:h,ry:h,width:a,height:l,fill:w,stroke:s,strokeWidth:d,shapeRendering:v,onClick:g?function(e){return g(e,t)}:void 0})};s.displayName="MiniMapNode";var d=(0,o.memo)(s),f=function(e){return e.nodeOrigin},h=function(e){return e.getNodes().filter((function(e){return!e.hidden&&e.width&&e.height}))},v=function(e){return e instanceof Function?e:function(){return e}};var g=(0,o.memo)((function(e){var t=e.nodeStrokeColor,n=void 0===t?"transparent":t,r=e.nodeColor,a=void 0===r?"#e2e2e2":r,l=e.nodeClassName,u=void 0===l?"":l,s=e.nodeBorderRadius,g=void 0===s?5:s,p=e.nodeStrokeWidth,m=void 0===p?2:p,y=e.nodeComponent,b=void 0===y?d:y,w=e.onClick,x=(0,c.oR)(h,i.X),S=(0,c.oR)(f),E=v(a),C=v(n),_=v(u),N="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return o.createElement(o.Fragment,null,x.map((function(e){var t=(0,c.VP)(e,S).positionAbsolute,n=t.x,r=t.y;return o.createElement(b,{key:e.id,x:n,y:r,width:e.width,height:e.height,style:e.style,selected:e.selected,className:_(e),color:E(e),borderRadius:g,strokeColor:C(e),strokeWidth:m,shapeRendering:N,onClick:w,id:e.id})})))})),p=function(e){var t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(0,c.oI)((0,c.RX)(t,e.nodeOrigin),n):n,rfId:e.rfId}};function m(e){var t,n,s=e.style,d=e.className,f=e.nodeStrokeColor,h=void 0===f?"transparent":f,v=e.nodeColor,m=void 0===v?"#e2e2e2":v,y=e.nodeClassName,b=void 0===y?"":y,w=e.nodeBorderRadius,x=void 0===w?5:w,S=e.nodeStrokeWidth,E=void 0===S?2:S,C=e.nodeComponent,_=e.maskColor,N=void 0===_?"rgb(240, 240, 240, 0.6)":_,M=e.maskStrokeColor,k=void 0===M?"none":M,Z=e.maskStrokeWidth,P=void 0===Z?1:Z,A=e.position,O=void 0===A?"bottom-right":A,I=e.onClick,D=e.onNodeClick,z=e.pannable,R=void 0!==z&&z,B=e.zoomable,T=void 0!==B&&B,H=e.ariaLabel,L=void 0===H?"React Flow mini map":H,X=e.inversePan,V=void 0!==X&&X,Y=e.zoomStep,F=void 0===Y?10:Y,K=e.offsetScale,U=void 0===K?5:K,j=(0,c.AC)(),W=(0,o.useRef)(null),q=(0,c.oR)(p,i.X),G=q.boundingRect,$=q.viewBB,Q=q.rfId,J=null!==(t=null===s||void 0===s?void 0:s.width)&&void 0!==t?t:200,ee=null!==(n=null===s||void 0===s?void 0:s.height)&&void 0!==n?n:150,te=G.width/J,ne=G.height/ee,oe=Math.max(te,ne),re=oe*J,ie=oe*ee,ae=U*oe,le=G.x-(re-G.width)/2-ae,ue=G.y-(ie-G.height)/2-ae,ce=re+2*ae,se=ie+2*ae,de="".concat("react-flow__minimap-desc","-").concat(Q),fe=(0,o.useRef)(0);fe.current=oe,(0,o.useEffect)((function(){if(W.current){var e=(0,l.Z)(W.current),t=(0,a.sP)().on("zoom",R?function(e){var t=j.getState(),n=t.transform,o=t.d3Selection,r=t.d3Zoom,i=t.translateExtent,l=t.width,u=t.height;if("mousemove"===e.sourceEvent.type&&o&&r){var c=fe.current*Math.max(1,n[2])*(V?-1:1),s={x:n[0]-e.sourceEvent.movementX*c,y:n[1]-e.sourceEvent.movementY*c},d=[[0,0],[l,u]],f=a.CR.translate(s.x,s.y).scale(n[2]),h=r.constrain()(f,d,i);r.transform(o,h)}}:null).on("zoom.wheel",T?function(e){var t=j.getState(),n=t.transform,o=t.d3Selection,r=t.d3Zoom;if("wheel"===e.sourceEvent.type&&o&&r){var i=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*F,a=n[2]*Math.pow(2,i);r.scaleTo(o,a)}}:null);return e.call(t),function(){e.on("zoom",null)}}}),[R,T,V,F]);var he=I?function(e){var t=(0,u.Z)(e);I(e,{x:t[0],y:t[1]})}:void 0,ve=D?function(e,t){var n=j.getState().nodeInternals.get(t);D(e,n)}:void 0;return o.createElement(c.s_,{position:O,style:s,className:(0,r.Z)(["react-flow__minimap",d]),"data-testid":"rf__minimap"},o.createElement("svg",{width:J,height:ee,viewBox:"".concat(le," ").concat(ue," ").concat(ce," ").concat(se),role:"img","aria-labelledby":de,ref:W,onClick:he},L&&o.createElement("title",{id:de},L),o.createElement(g,{onClick:ve,nodeColor:m,nodeStrokeColor:h,nodeBorderRadius:x,nodeClassName:b,nodeStrokeWidth:E,nodeComponent:C}),o.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(le-ae,",").concat(ue-ae,"h").concat(ce+2*ae,"v").concat(se+2*ae,"h").concat(-ce-2*ae,"z\n        M").concat($.x,",").concat($.y,"h").concat($.width,"v").concat($.height,"h").concat(-$.width,"z"),fill:N,fillRule:"evenodd",stroke:k,strokeWidth:P,pointerEvents:"none"})))}m.displayName="MiniMap";var y=(0,o.memo)(m)},5869:function(e,t,n){"use strict";function o(e){if("string"===typeof e||"number"===typeof e)return""+e;var t="";if(Array.isArray(e))for(var n,r=0;r<e.length;r++)""!==(n=o(e[r]))&&(t+=(t&&" ")+n);else for(var i in e)e[i]&&(t+=(t&&" ")+i);return t}n.d(t,{Z:function(){return o}})},16383:function(e,t){"use strict";var n={value:function(){}};function o(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new r(o)}function r(e){this._=e}function i(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",o=e.indexOf(".");if(o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function a(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}function l(e,t,o){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=n,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=o&&e.push({name:t,value:o}),e}r.prototype=o.prototype={constructor:r,on:function(e,t){var n,o=this._,r=i(e+"",o),u=-1,c=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++u<c;)if(n=(e=r[u]).type)o[n]=l(o[n],e.name,t);else if(null==t)for(n in o)o[n]=l(o[n],e.name,null);return this}for(;++u<c;)if((n=(e=r[u]).type)&&(n=a(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new r(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=new Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(o=this._[e]).length;i<n;++i)o[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}},t.Z=o},36890:function(e,t,n){"use strict";n.d(t,{D:function(){return a},Z:function(){return i}});var o=n(62988),r=n(54085);function i(e){var t=e.document.documentElement,n=(0,o.Z)(e).on("dragstart.drag",r.ZP,r.Dd);"onselectstart"in t?n.on("selectstart.drag",r.ZP,r.Dd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function a(e,t){var n=e.document.documentElement,i=(0,o.Z)(e).on("dragstart.drag",null);t&&(i.on("click.drag",r.ZP,r.Dd),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},54085:function(e,t,n){"use strict";n.d(t,{Dd:function(){return r},Q7:function(){return o},ZP:function(){return a},rG:function(){return i}});var o={passive:!1},r={capture:!0,passive:!1};function i(e){e.stopImmediatePropagation()}function a(e){e.preventDefault(),e.stopImmediatePropagation()}},75487:function(e,t,n){"use strict";function o(e){return function(){return this.matches(e)}}function r(e){return function(t){return t.matches(e)}}n.d(t,{P:function(){return r},Z:function(){return o}})},47351:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var o=n(5921);function r(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),o.Z.hasOwnProperty(t)?{space:o.Z[t],local:e}:e}},5921:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var o="http://www.w3.org/1999/xhtml";t.Z={svg:"http://www.w3.org/2000/svg",xhtml:o,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},84308:function(e,t,n){"use strict";function o(e,t){if(e=function(e){for(var t;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}n.d(t,{Z:function(){return o}})},62988:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var o=n(86659);function r(e){return"string"===typeof e?new o.Y1([[document.querySelector(e)]],[document.documentElement]):new o.Y1([[e]],o.Jz)}},86659:function(e,t,n){"use strict";n.d(t,{Y1:function(){return he},ZP:function(){return ge},Jz:function(){return fe}});var o=n(4942),r=n(59995);function i(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}var a=n(63811);var l=n(75487),u=Array.prototype.find;function c(){return this.firstElementChild}var s=Array.prototype.filter;function d(){return Array.from(this.children)}function f(e){return new Array(e.length)}function h(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function v(e){return function(){return e}}function g(e,t,n,o,r,i){for(var a,l=0,u=t.length,c=i.length;l<c;++l)(a=t[l])?(a.__data__=i[l],o[l]=a):n[l]=new h(e,i[l]);for(;l<u;++l)(a=t[l])&&(r[l]=a)}function p(e,t,n,o,r,i,a){var l,u,c,s=new Map,d=t.length,f=i.length,v=new Array(d);for(l=0;l<d;++l)(u=t[l])&&(v[l]=c=a.call(u,u.__data__,l,t)+"",s.has(c)?r[l]=u:s.set(c,u));for(l=0;l<f;++l)c=a.call(e,i[l],l,i)+"",(u=s.get(c))?(o[l]=u,u.__data__=i[l],s.delete(c)):n[l]=new h(e,i[l]);for(l=0;l<d;++l)(u=t[l])&&s.get(v[l])===u&&(r[l]=u)}function m(e){return e.__data__}function y(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function b(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}h.prototype={constructor:h,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var w=n(37762);var x=n(47351);function S(e){return function(){this.removeAttribute(e)}}function E(e){return function(){this.removeAttributeNS(e.space,e.local)}}function C(e,t){return function(){this.setAttribute(e,t)}}function _(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function N(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function M(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var k=n(86255);function Z(e){return function(){delete this[e]}}function P(e,t){return function(){this[e]=t}}function A(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function O(e){return e.trim().split(/^|\s+/)}function I(e){return e.classList||new D(e)}function D(e){this._node=e,this._names=O(e.getAttribute("class")||"")}function z(e,t){for(var n=I(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function R(e,t){for(var n=I(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function B(e){return function(){z(this,e)}}function T(e){return function(){R(this,e)}}function H(e,t){return function(){(t.apply(this,arguments)?z:R)(this,e)}}function L(){this.textContent=""}function X(e){return function(){this.textContent=e}}function V(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Y(){this.innerHTML=""}function F(e){return function(){this.innerHTML=e}}function K(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function U(){this.nextSibling&&this.parentNode.appendChild(this)}function j(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}D.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var W=n(5921);function q(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===W.P&&t.documentElement.namespaceURI===W.P?t.createElement(e):t.createElementNS(n,e)}}function G(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $(e){var t=(0,x.Z)(e);return(t.local?G:q)(t)}function Q(){return null}function J(){var e=this.parentNode;e&&e.removeChild(this)}function ee(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function te(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ne(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function oe(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,i=t.length;o<i;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function re(e,t,n){return function(){var o,r=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var a=0,l=r.length;a<l;++a)if((o=r[a]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),void(o.value=t);this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}var ie=n(47140);function ae(e,t,n){var o=(0,ie.Z)(e),r=o.CustomEvent;"function"===typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function le(e,t){return function(){return ae(this,e,t)}}function ue(e,t){return function(){return ae(this,e,t.apply(this,arguments))}}var ce=n(74165),se=(0,ce.Z)().mark(de);function de(){var e,t,n,o,r,i,a;return(0,ce.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){l.next=13;break}o=e[t],r=0,i=o.length;case 3:if(!(r<i)){l.next=10;break}if(!(a=o[r])){l.next=7;break}return l.next=7,a;case 7:++r,l.next=3;break;case 10:++t,l.next=1;break;case 13:case"end":return l.stop()}}),se,this)}var fe=[null];function he(e,t){this._groups=e,this._parents=t}function ve(){return new he([[document.documentElement]],fe)}he.prototype=ve.prototype=(0,o.Z)({constructor:he,select:function(e){"function"!==typeof e&&(e=(0,r.Z)(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var a,l,u=t[i],c=u.length,s=o[i]=new Array(c),d=0;d<c;++d)(a=u[d])&&(l=e.call(a,a.__data__,d,u))&&("__data__"in a&&(l.__data__=a.__data__),s[d]=l);return new he(o,this._parents)},selectAll:function(e){e="function"===typeof e?function(e){return function(){return i(e.apply(this,arguments))}}(e):(0,a.Z)(e);for(var t=this._groups,n=t.length,o=[],r=[],l=0;l<n;++l)for(var u,c=t[l],s=c.length,d=0;d<s;++d)(u=c[d])&&(o.push(e.call(u,u.__data__,d,c)),r.push(u));return new he(o,r)},selectChild:function(e){return this.select(null==e?c:function(e){return function(){return u.call(this.children,e)}}("function"===typeof e?e:(0,l.P)(e)))},selectChildren:function(e){return this.selectAll(null==e?d:function(e){return function(){return s.call(this.children,e)}}("function"===typeof e?e:(0,l.P)(e)))},filter:function(e){"function"!==typeof e&&(e=(0,l.Z)(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,a=t[r],u=a.length,c=o[r]=[],s=0;s<u;++s)(i=a[s])&&e.call(i,i.__data__,s,a)&&c.push(i);return new he(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,m);var n=t?p:g,o=this._parents,r=this._groups;"function"!==typeof e&&(e=v(e));for(var i=r.length,a=new Array(i),l=new Array(i),u=new Array(i),c=0;c<i;++c){var s=o[c],d=r[c],f=d.length,h=y(e.call(s,s&&s.__data__,c,o)),b=h.length,w=l[c]=new Array(b),x=a[c]=new Array(b),S=u[c]=new Array(f);n(s,d,w,x,S,h,t);for(var E,C,_=0,N=0;_<b;++_)if(E=w[_]){for(_>=N&&(N=_+1);!(C=x[N])&&++N<b;);E._next=C||null}}return(a=new he(a,o))._enter=l,a._exit=u,a},enter:function(){return new he(this._enter||this._groups.map(f),this._parents)},exit:function(){return new he(this._exit||this._groups.map(f),this._parents)},join:function(e,t,n){var o=this.enter(),r=this,i=this.exit();return"function"===typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?i.remove():n(i),o&&r?o.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),l=new Array(r),u=0;u<a;++u)for(var c,s=n[u],d=o[u],f=s.length,h=l[u]=new Array(f),v=0;v<f;++v)(c=s[v]||d[v])&&(h[v]=c);for(;u<r;++u)l[u]=n[u];return new he(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],i=r.length-1,a=r[i];--i>=0;)(o=r[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=b);for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a,l=n[i],u=l.length,c=r[i]=new Array(u),s=0;s<u;++s)(a=l[s])&&(c[s]=a);c.sort(t)}return new he(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null},size:function(){var e,t=0,n=(0,w.Z)(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(o){n.e(o)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,i=t[n],a=0,l=i.length;a<l;++a)(r=i[a])&&e.call(r,r.__data__,a,i);return this},attr:function(e,t){var n=(0,x.Z)(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?E:S:"function"===typeof t?n.local?M:N:n.local?_:C)(n,t))},style:k.Z,property:function(e,t){return arguments.length>1?this.each((null==t?Z:"function"===typeof t?A:P)(e,t)):this.node()[e]},classed:function(e,t){var n=O(e+"");if(arguments.length<2){for(var o=I(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"===typeof t?H:t?B:T)(n,t))},text:function(e){return arguments.length?this.each(null==e?L:("function"===typeof e?V:X)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Y:("function"===typeof e?K:F)(e)):this.node().innerHTML},raise:function(){return this.each(U)},lower:function(){return this.each(j)},append:function(e){var t="function"===typeof e?e:$(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:$(e),o=null==t?Q:"function"===typeof t?t:(0,r.Z)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))},remove:function(){return this.each(J)},clone:function(e){return this.select(e?te:ee)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,r,i=ne(e+""),a=i.length;if(!(arguments.length<2)){for(l=t?re:oe,o=0;o<a;++o)this.each(l(i[o],t,n));return this}var l=this.node().__on;if(l)for(var u,c=0,s=l.length;c<s;++c)for(o=0,u=l[c];o<a;++o)if((r=i[o]).type===u.type&&r.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"===typeof t?ue:le)(e,t))}},Symbol.iterator,de);var ge=ve},86255:function(e,t,n){"use strict";n.d(t,{S:function(){return u},Z:function(){return l}});var o=n(47140);function r(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function a(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function l(e,t,n){return arguments.length>1?this.each((null==t?r:"function"===typeof t?a:i)(e,t,null==n?"":n)):u(this.node(),e)}function u(e,t){return e.style.getPropertyValue(t)||(0,o.Z)(e).getComputedStyle(e,null).getPropertyValue(t)}},59995:function(e,t,n){"use strict";function o(){}function r(e){return null==e?o:function(){return this.querySelector(e)}}n.d(t,{Z:function(){return r}})},63811:function(e,t,n){"use strict";function o(){return[]}function r(e){return null==e?o:function(){return this.querySelectorAll(e)}}n.d(t,{Z:function(){return r}})},47140:function(e,t,n){"use strict";function o(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}n.d(t,{Z:function(){return o}})},18208:function(e,t,n){"use strict";n.d(t,{sP:function(){return dn},CR:function(){return tn}});var o=n(16383),r=n(36890);function i(e){return((e=Math.exp(e))+1/e)/2}var a,l,u=function e(t,n,o){function r(e,r){var a,l,u=e[0],c=e[1],s=e[2],d=r[0],f=r[1],h=r[2],v=d-u,g=f-c,p=v*v+g*g;if(p<1e-12)l=Math.log(h/s)/t,a=function(e){return[u+e*v,c+e*g,s*Math.exp(t*e*l)]};else{var m=Math.sqrt(p),y=(h*h-s*s+o*p)/(2*s*n*m),b=(h*h-s*s-o*p)/(2*h*n*m),w=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(b*b+1)-b);l=(x-w)/t,a=function(e){var o,r=e*l,a=i(w),d=s/(n*m)*(a*(o=t*r+w,((o=Math.exp(2*o))-1)/(o+1))-function(e){return((e=Math.exp(e))-1/e)/2}(w));return[u+d*v,c+d*g,s*a/i(t*r+w)]}}return a.duration=1e3*l*t/Math.SQRT2,a}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n;return e(n,o,o*o)},r}(Math.SQRT2,2,4),c=n(62988),s=n(84308),d=n(86659),f=0,h=0,v=0,g=0,p=0,m=0,y="object"===typeof performance&&performance.now?performance:Date,b="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function w(){return p||(b(x),p=y.now()+m)}function x(){p=0}function S(){this._call=this._time=this._next=null}function E(e,t,n){var o=new S;return o.restart(e,t,n),o}function C(){p=(g=y.now())+m,f=h=0;try{!function(){w(),++f;for(var e,t=a;t;)(e=p-t._time)>=0&&t._call.call(void 0,e),t=t._next;--f}()}finally{f=0,function(){var e,t,n=a,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:a=t);l=e,N(o)}(),p=0}}function _(){var e=y.now(),t=e-g;t>1e3&&(m-=t,g=e)}function N(e){f||(h&&(h=clearTimeout(h)),e-p>24?(e<1/0&&(h=setTimeout(C,e-y.now()-m)),v&&(v=clearInterval(v))):(v||(g=y.now(),v=setInterval(_,1e3)),f=1,b(C)))}function M(e,t,n){var o=new S;return t=null==t?0:+t,o.restart((function(n){o.stop(),e(n+t)}),t,n),o}S.prototype=E.prototype={constructor:S,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?w():+n)+(null==t?0:+t),this._next||l===this||(l?l._next=this:a=this,l=this),this._call=e,this._time=n,N()},stop:function(){this._call&&(this._call=null,this._time=1/0,N())}};var k=(0,o.Z)("start","end","cancel","interrupt"),Z=[];function P(e,t,n,o,r,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var o,r=e.__transition;function i(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var c,s,d,f;if(1!==n.state)return u();for(c in r)if((f=r[c]).name===n.name){if(3===f.state)return M(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[c]):+c<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[c])}if(M((function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(d=n.tween.length),c=0,s=-1;c<d;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++s]=f);o.length=s+1}}function l(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=5,1),i=-1,a=o.length;++i<a;)o[i].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var o in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=E(i,0,n.time)}(e,n,{name:t,index:o,group:r,on:k,tween:Z,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function A(e,t){var n=I(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function O(e,t){var n=I(e,t);if(n.state>3)throw new Error("too late; already running");return n}function I(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function D(e,t){var n,o,r,i=e.__transition,a=!0;if(i){for(r in t=null==t?null:t+"",i)(n=i[r]).name===t?(o=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]):a=!1;a&&delete e.__transition}}var z=n(4942);function R(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var B,T=180/Math.PI,H={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function L(e,t,n,o,r,i){var a,l,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*o)&&(n-=e*u,o-=t*u),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,u/=l),e*o<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*T,skewX:Math.atan(u)*T,scaleX:a,scaleY:l}}function X(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(i,a){var l=[],u=[];return i=e(i),a=e(a),function(e,o,r,i,a,l){if(e!==r||o!==i){var u=a.push("translate(",null,t,null,n);l.push({i:u-4,x:R(e,r)},{i:u-2,x:R(o,i)})}else(r||i)&&a.push("translate("+r+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,l,u),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(r(n)+"rotate(",null,o)-2,x:R(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}(i.rotate,a.rotate,l,u),function(e,t,n,i){e!==t?i.push({i:n.push(r(n)+"skewX(",null,o)-2,x:R(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}(i.skewX,a.skewX,l,u),function(e,t,n,o,i,a){if(e!==n||t!==o){var l=i.push(r(i)+"scale(",null,",",null,")");a.push({i:l-4,x:R(e,n)},{i:l-2,x:R(t,o)})}else 1===n&&1===o||i.push(r(i)+"scale("+n+","+o+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,l,u),i=a=null,function(e){for(var t,n=-1,o=u.length;++n<o;)l[(t=u[n]).i]=t.x(e);return l.join("")}}}var V=X((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?H:L(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Y=X((function(e){return null==e?H:(B||(B=document.createElementNS("http://www.w3.org/2000/svg","g")),B.setAttribute("transform",e),(e=B.transform.baseVal.consolidate())?L((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):H)}),", ",")",")"),F=n(47351);function K(e,t){var n,o;return function(){var r=O(this,e),i=r.tween;if(i!==n)for(var a=0,l=(o=n=i).length;a<l;++a)if(o[a].name===t){(o=o.slice()).splice(a,1);break}r.tween=o}}function U(e,t,n){var o,r;if("function"!==typeof n)throw new Error;return function(){var i=O(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var l={name:t,value:n},u=0,c=r.length;u<c;++u)if(r[u].name===t){r[u]=l;break}u===c&&r.push(l)}i.tween=r}}function j(e,t,n){var o=e._id;return e.each((function(){var e=O(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return I(e,o).value[t]}}function W(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function q(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function G(){}var $=.7,Q=1/$,J="\\s*([+-]?\\d+)\\s*",ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ne=/^#([0-9a-f]{3,8})$/,oe=new RegExp("^rgb\\(".concat(J,",").concat(J,",").concat(J,"\\)$")),re=new RegExp("^rgb\\(".concat(te,",").concat(te,",").concat(te,"\\)$")),ie=new RegExp("^rgba\\(".concat(J,",").concat(J,",").concat(J,",").concat(ee,"\\)$")),ae=new RegExp("^rgba\\(".concat(te,",").concat(te,",").concat(te,",").concat(ee,"\\)$")),le=new RegExp("^hsl\\(".concat(ee,",").concat(te,",").concat(te,"\\)$")),ue=new RegExp("^hsla\\(".concat(ee,",").concat(te,",").concat(te,",").concat(ee,"\\)$")),ce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function se(){return this.rgb().formatHex()}function de(){return this.rgb().formatRgb()}function fe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ne.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?he(t):3===n?new pe(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ve(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ve(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=oe.exec(e))?new pe(t[1],t[2],t[3],1):(t=re.exec(e))?new pe(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ie.exec(e))?ve(t[1],t[2],t[3],t[4]):(t=ae.exec(e))?ve(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=le.exec(e))?Se(t[1],t[2]/100,t[3]/100,1):(t=ue.exec(e))?Se(t[1],t[2]/100,t[3]/100,t[4]):ce.hasOwnProperty(e)?he(ce[e]):"transparent"===e?new pe(NaN,NaN,NaN,0):null}function he(e){return new pe(e>>16&255,e>>8&255,255&e,1)}function ve(e,t,n,o){return o<=0&&(e=t=n=NaN),new pe(e,t,n,o)}function ge(e){return e instanceof G||(e=fe(e)),e?new pe((e=e.rgb()).r,e.g,e.b,e.opacity):new pe}function pe(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function me(){return"#".concat(xe(this.r)).concat(xe(this.g)).concat(xe(this.b))}function ye(){var e=be(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(we(this.r),", ").concat(we(this.g),", ").concat(we(this.b)).concat(1===e?")":", ".concat(e,")"))}function be(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function we(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xe(e){return((e=we(e))<16?"0":"")+e.toString(16)}function Se(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ce(e,t,n,o)}function Ee(e){if(e instanceof Ce)return new Ce(e.h,e.s,e.l,e.opacity);if(e instanceof G||(e=fe(e)),!e)return new Ce;if(e instanceof Ce)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),a=NaN,l=i-r,u=(i+r)/2;return l?(a=t===i?(n-o)/l+6*(n<o):n===i?(o-t)/l+2:(t-n)/l+4,l/=u<.5?i+r:2-i-r,a*=60):l=u>0&&u<1?0:a,new Ce(a,l,u,e.opacity)}function Ce(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function _e(e){return(e=(e||0)%360)<0?e+360:e}function Ne(e){return Math.max(0,Math.min(1,e||0))}function Me(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ke(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ze(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Pe(){}W(G,fe,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:se,formatHex:se,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ee(this).formatHsl()},formatRgb:de,toString:de}),W(pe,(function(e,t,n,o){return 1===arguments.length?ge(e):new pe(e,t,n,null==o?1:o)}),q(G,{brighter:function(e){return e=null==e?Q:Math.pow(Q,e),new pe(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?$:Math.pow($,e),new pe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new pe(we(this.r),we(this.g),we(this.b),be(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:me,formatHex:me,formatHex8:function(){return"#".concat(xe(this.r)).concat(xe(this.g)).concat(xe(this.b)).concat(xe(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:ye,toString:ye})),W(Ce,(function(e,t,n,o){return 1===arguments.length?Ee(e):new Ce(e,t,n,null==o?1:o)}),q(G,{brighter:function(e){return e=null==e?Q:Math.pow(Q,e),new Ce(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?$:Math.pow($,e),new Ce(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new pe(Me(e>=240?e-240:e+120,r,o),Me(e,r,o),Me(e<120?e+240:e-120,r,o),this.opacity)},clamp:function(){return new Ce(_e(this.h),Ne(this.s),Ne(this.l),be(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=be(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(_e(this.h),", ").concat(100*Ne(this.s),"%, ").concat(100*Ne(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var Ae=.7,Oe=1/Ae,Ie="\\s*([+-]?\\d+)\\s*",De="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Re=/^#([0-9a-f]{3,8})$/,Be=new RegExp("^rgb\\(".concat(Ie,",").concat(Ie,",").concat(Ie,"\\)$")),Te=new RegExp("^rgb\\(".concat(ze,",").concat(ze,",").concat(ze,"\\)$")),He=new RegExp("^rgba\\(".concat(Ie,",").concat(Ie,",").concat(Ie,",").concat(De,"\\)$")),Le=new RegExp("^rgba\\(".concat(ze,",").concat(ze,",").concat(ze,",").concat(De,"\\)$")),Xe=new RegExp("^hsl\\(".concat(De,",").concat(ze,",").concat(ze,"\\)$")),Ve=new RegExp("^hsla\\(".concat(De,",").concat(ze,",").concat(ze,",").concat(De,"\\)$")),Ye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fe(){return this.rgb().formatHex()}function Ke(){return this.rgb().formatRgb()}function Ue(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Re.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?je(t):3===n?new $e(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?We(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?We(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Be.exec(e))?new $e(t[1],t[2],t[3],1):(t=Te.exec(e))?new $e(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=He.exec(e))?We(t[1],t[2],t[3],t[4]):(t=Le.exec(e))?We(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Xe.exec(e))?ot(t[1],t[2]/100,t[3]/100,1):(t=Ve.exec(e))?ot(t[1],t[2]/100,t[3]/100,t[4]):Ye.hasOwnProperty(e)?je(Ye[e]):"transparent"===e?new $e(NaN,NaN,NaN,0):null}function je(e){return new $e(e>>16&255,e>>8&255,255&e,1)}function We(e,t,n,o){return o<=0&&(e=t=n=NaN),new $e(e,t,n,o)}function qe(e){return e instanceof Pe||(e=Ue(e)),e?new $e((e=e.rgb()).r,e.g,e.b,e.opacity):new $e}function Ge(e,t,n,o){return 1===arguments.length?qe(e):new $e(e,t,n,null==o?1:o)}function $e(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function Qe(){return"#".concat(nt(this.r)).concat(nt(this.g)).concat(nt(this.b))}function Je(){var e=et(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(tt(this.r),", ").concat(tt(this.g),", ").concat(tt(this.b)).concat(1===e?")":", ".concat(e,")"))}function et(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function nt(e){return((e=tt(e))<16?"0":"")+e.toString(16)}function ot(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new it(e,t,n,o)}function rt(e){if(e instanceof it)return new it(e.h,e.s,e.l,e.opacity);if(e instanceof Pe||(e=Ue(e)),!e)return new it;if(e instanceof it)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),a=NaN,l=i-r,u=(i+r)/2;return l?(a=t===i?(n-o)/l+6*(n<o):n===i?(o-t)/l+2:(t-n)/l+4,l/=u<.5?i+r:2-i-r,a*=60):l=u>0&&u<1?0:a,new it(a,l,u,e.opacity)}function it(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function at(e){return(e=(e||0)%360)<0?e+360:e}function lt(e){return Math.max(0,Math.min(1,e||0))}function ut(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ct(e,t,n,o,r){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*o+a*r)/6}ke(Pe,Ue,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Fe,formatHex:Fe,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return rt(this).formatHsl()},formatRgb:Ke,toString:Ke}),ke($e,Ge,Ze(Pe,{brighter:function(e){return e=null==e?Oe:Math.pow(Oe,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Ae:Math.pow(Ae,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new $e(tt(this.r),tt(this.g),tt(this.b),et(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qe,formatHex:Qe,formatHex8:function(){return"#".concat(nt(this.r)).concat(nt(this.g)).concat(nt(this.b)).concat(nt(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Je,toString:Je})),ke(it,(function(e,t,n,o){return 1===arguments.length?rt(e):new it(e,t,n,null==o?1:o)}),Ze(Pe,{brighter:function(e){return e=null==e?Oe:Math.pow(Oe,e),new it(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Ae:Math.pow(Ae,e),new it(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new $e(ut(e>=240?e-240:e+120,r,o),ut(e,r,o),ut(e<120?e+240:e-120,r,o),this.opacity)},clamp:function(){return new it(at(this.h),lt(this.s),lt(this.l),et(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=et(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(at(this.h),", ").concat(100*lt(this.s),"%, ").concat(100*lt(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var st=function(e){return function(){return e}};function dt(e,t){return function(n){return e+n*t}}function ft(e){return 1===(e=+e)?ht:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}(t,n,e):st(isNaN(t)?n:t)}}function ht(e,t){var n=t-e;return n?dt(e,n):st(isNaN(e)?t:e)}var vt=function e(t){var n=ft(t);function o(e,t){var o=n((e=Ge(e)).r,(t=Ge(t)).r),r=n(e.g,t.g),i=n(e.b,t.b),a=ht(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=r(t),e.b=i(t),e.opacity=a(t),e+""}}return o.gamma=e,o}(1);function gt(e){return function(t){var n,o,r=t.length,i=new Array(r),a=new Array(r),l=new Array(r);for(n=0;n<r;++n)o=Ge(t[n]),i[n]=o.r||0,a[n]=o.g||0,l[n]=o.b||0;return i=e(i),a=e(a),l=e(l),o.opacity=1,function(e){return o.r=i(e),o.g=a(e),o.b=l(e),o+""}}}gt((function(e){var t=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[o],i=e[o+1],a=o>0?e[o-1]:2*r-i,l=o<t-1?e[o+2]:2*i-r;return ct((n-o/t)*t,a,r,i,l)}})),gt((function(e){var t=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*t),r=e[(o+t-1)%t],i=e[o%t],a=e[(o+1)%t],l=e[(o+2)%t];return ct((n-o/t)*t,r,i,a,l)}}));var pt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mt=new RegExp(pt.source,"g");function yt(e,t){var n,o,r,i=pt.lastIndex=mt.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(n=pt.exec(e))&&(o=mt.exec(t));)(r=o.index)>i&&(r=t.slice(i,r),l[a]?l[a]+=r:l[++a]=r),(n=n[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:R(n,o)})),i=mt.lastIndex;return i<t.length&&(r=t.slice(i),l[a]?l[a]+=r:l[++a]=r),l.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,o=0;o<t;++o)l[(n=u[o]).i]=n.x(e);return l.join("")})}function bt(e,t){var n;return("number"===typeof t?R:t instanceof fe?vt:(n=fe(t))?(t=n,vt):yt)(e,t)}function wt(e){return function(){this.removeAttribute(e)}}function xt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function St(e,t,n){var o,r,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function Et(e,t,n){var o,r,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function Ct(e,t,n){var o,r,i;return function(){var a,l,u=n(this);if(null!=u)return(a=this.getAttribute(e))===(l=u+"")?null:a===o&&l===r?i:(r=l,i=t(o=a,u));this.removeAttribute(e)}}function _t(e,t,n){var o,r,i;return function(){var a,l,u=n(this);if(null!=u)return(a=this.getAttributeNS(e.space,e.local))===(l=u+"")?null:a===o&&l===r?i:(r=l,i=t(o=a,u));this.removeAttributeNS(e.space,e.local)}}function Nt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Mt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function kt(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Mt(e,r)),n}return r._value=t,r}function Zt(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Nt(e,r)),n}return r._value=t,r}function Pt(e,t){return function(){A(this,e).delay=+t.apply(this,arguments)}}function At(e,t){return t=+t,function(){A(this,e).delay=t}}function Ot(e,t){return function(){O(this,e).duration=+t.apply(this,arguments)}}function It(e,t){return t=+t,function(){O(this,e).duration=t}}function Dt(e,t){if("function"!==typeof t)throw new Error;return function(){O(this,e).ease=t}}var zt=n(75487);function Rt(e,t,n){var o,r,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?A:O;return function(){var a=i(this,e),l=a.on;l!==o&&(r=(o=l).copy()).on(t,n),a.on=r}}var Bt=n(59995);var Tt=n(63811);var Ht=d.ZP.prototype.constructor;var Lt=n(86255);function Xt(e){return function(){this.style.removeProperty(e)}}function Vt(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Yt(e,t,n){var o,r;function i(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&Vt(e,i,n)),o}return i._value=t,i}function Ft(e){return function(t){this.textContent=e.call(this,t)}}function Kt(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Ft(o)),t}return o._value=e,o}var Ut=0;function jt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Wt(){return++Ut}var qt=d.ZP.prototype;jt.prototype=function(e){return(0,d.ZP)().transition(e)}.prototype=(0,z.Z)({constructor:jt,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=(0,Bt.Z)(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var l,u,c=o[a],s=c.length,d=i[a]=new Array(s),f=0;f<s;++f)(l=c[f])&&(u=e.call(l,l.__data__,f,c))&&("__data__"in l&&(u.__data__=l.__data__),d[f]=u,P(d[f],t,n,f,d,I(l,n)));return new jt(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=(0,Tt.Z)(e));for(var o=this._groups,r=o.length,i=[],a=[],l=0;l<r;++l)for(var u,c=o[l],s=c.length,d=0;d<s;++d)if(u=c[d]){for(var f,h=e.call(u,u.__data__,d,c),v=I(u,n),g=0,p=h.length;g<p;++g)(f=h[g])&&P(f,t,n,g,h,v);i.push(h),a.push(u)}return new jt(i,a,t,n)},selectChild:qt.selectChild,selectChildren:qt.selectChildren,filter:function(e){"function"!==typeof e&&(e=(0,zt.Z)(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,a=t[r],l=a.length,u=o[r]=[],c=0;c<l;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&u.push(i);return new jt(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),l=0;l<i;++l)for(var u,c=t[l],s=n[l],d=c.length,f=a[l]=new Array(d),h=0;h<d;++h)(u=c[h]||s[h])&&(f[h]=u);for(;l<o;++l)a[l]=t[l];return new jt(a,this._parents,this._name,this._id)},selection:function(){return new Ht(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Wt(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a,l=o[i],u=l.length,c=0;c<u;++c)if(a=l[c]){var s=I(a,t);P(a,e,n,c,l,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new jt(o,this._parents,e,n)},call:qt.call,nodes:qt.nodes,node:qt.node,size:qt.size,empty:qt.empty,each:qt.each,on:function(e,t){var n=this._id;return arguments.length<2?I(this.node(),n).on.on(e):this.each(Rt(n,e,t))},attr:function(e,t){var n=(0,F.Z)(e),o="transform"===n?Y:bt;return this.attrTween(e,"function"===typeof t?(n.local?_t:Ct)(n,o,j(this,"attr."+e,t)):null==t?(n.local?xt:wt)(n):(n.local?Et:St)(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var o=(0,F.Z)(e);return this.tween(n,(o.local?kt:Zt)(o,t))},style:function(e,t,n){var o="transform"===(e+="")?V:bt;return null==t?this.styleTween(e,function(e,t){var n,o,r;return function(){var i=(0,Lt.S)(this,e),a=(this.style.removeProperty(e),(0,Lt.S)(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}(e,o)).on("end.style."+e,Xt(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var o,r,i;return function(){var a=(0,Lt.S)(this,e),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=(0,Lt.S)(this,e)),a===u?null:a===o&&u===r?i:(r=u,i=t(o=a,l))}}(e,o,j(this,"style."+e,t))).each(function(e,t){var n,o,r,i,a="style."+t,l="end."+a;return function(){var u=O(this,e),c=u.on,s=null==u.value[a]?i||(i=Xt(t)):void 0;c===n&&r===s||(o=(n=c).copy()).on(l,r=s),u.on=o}}(this._id,e)):this.styleTween(e,function(e,t,n){var o,r,i=n+"";return function(){var a=(0,Lt.S)(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}(e,o,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!==typeof t)throw new Error;return this.tween(o,Yt(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(j(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,Kt(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=I(this.node(),n).tween,i=0,a=r.length;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((null==t?K:U)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Pt:At)(t,e)):I(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Ot:It)(t,e)):I(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Dt(t,e)):I(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;O(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,o=n._id,r=n.size();return new Promise((function(i,a){var l={value:a},u={value:function(){0===--r&&i()}};n.each((function(){var n=O(this,o),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),n.on=t})),0===r&&i()}))}},Symbol.iterator,qt[Symbol.iterator]);var Gt={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function $t(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}d.ZP.prototype.interrupt=function(e){return this.each((function(){D(this,e)}))},d.ZP.prototype.transition=function(e){var t,n;e instanceof jt?(t=e._id,e=e._name):(t=Wt(),(n=Gt).time=w(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a,l=o[i],u=l.length,c=0;c<u;++c)(a=l[c])&&P(a,e,t,c,l,n||$t(a,t));return new jt(o,this._parents,e,t)};var Qt=function(e){return function(){return e}};function Jt(e,t){var n=t.sourceEvent,o=t.target,r=t.transform,i=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function en(e,t,n){this.k=e,this.x=t,this.y=n}en.prototype={constructor:en,scale:function(e){return 1===e?this:new en(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new en(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tn=new en(1,0,0);function nn(e){e.stopImmediatePropagation()}function on(e){e.preventDefault(),e.stopImmediatePropagation()}function rn(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function an(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function ln(){return this.__zoom||tn}function un(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cn(){return navigator.maxTouchPoints||"ontouchstart"in this}function sn(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function dn(){var e,t,n,i=rn,a=an,l=sn,d=un,f=cn,h=[0,1/0],v=[[-1/0,-1/0],[1/0,1/0]],g=250,p=u,m=(0,o.Z)("start","zoom","end"),y=500,b=0,w=10;function x(e){e.property("__zoom",ln).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",Z).on("dblclick.zoom",P).filter(f).on("touchstart.zoom",A).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(e,t){return(t=Math.max(h[0],Math.min(h[1],t)))===e.k?e:new en(t,e.x,e.y)}function E(e,t,n){var o=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return o===e.x&&r===e.y?e:new en(e.k,o,r)}function C(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function _(e,t,n,o){e.on("start.zoom",(function(){N(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){N(this,arguments).event(o).end()})).tween("zoom",(function(){var e=this,r=arguments,i=N(e,r).event(o),l=a.apply(e,r),u=null==n?C(l):"function"===typeof n?n.apply(e,r):n,c=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]),s=e.__zoom,d="function"===typeof t?t.apply(e,r):t,f=p(s.invert(u).concat(c/s.k),d.invert(u).concat(c/d.k));return function(e){if(1===e)e=d;else{var t=f(e),n=c/t[2];e=new en(n,u[0]-t[0]*n,u[1]-t[1]*n)}i.zoom(null,e)}}))}function N(e,t,n){return!n&&e.__zooming||new M(e,t)}function M(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=a.apply(e,t),this.taps=0}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(i.apply(this,arguments)){var r=N(this,n).event(e),a=this.__zoom,u=Math.max(h[0],Math.min(h[1],a.k*Math.pow(2,d.apply(this,arguments)))),c=(0,s.Z)(e);if(r.wheel)r.mouse[0][0]===c[0]&&r.mouse[0][1]===c[1]||(r.mouse[1]=a.invert(r.mouse[0]=c)),clearTimeout(r.wheel);else{if(a.k===u)return;r.mouse=[c,a.invert(c)],D(this),r.start()}on(e),r.wheel=setTimeout(f,150),r.zoom("mouse",l(E(S(a,u),r.mouse[0],r.mouse[1]),r.extent,v))}function f(){r.wheel=null,r.end()}}function Z(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];if(!n&&i.apply(this,arguments)){var u=e.currentTarget,d=N(this,o,!0).event(e),f=(0,c.Z)(e.view).on("mousemove.zoom",m,!0).on("mouseup.zoom",y,!0),h=(0,s.Z)(e,u),g=e.clientX,p=e.clientY;(0,r.Z)(e.view),nn(e),d.mouse=[h,this.__zoom.invert(h)],D(this),d.start()}function m(e){if(on(e),!d.moved){var t=e.clientX-g,n=e.clientY-p;d.moved=t*t+n*n>b}d.event(e).zoom("mouse",l(E(d.that.__zoom,d.mouse[0]=(0,s.Z)(e,u),d.mouse[1]),d.extent,v))}function y(e){f.on("mousemove.zoom mouseup.zoom",null),(0,r.D)(e.view,d.moved),on(e),d.event(e).end()}}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(i.apply(this,arguments)){var r=this.__zoom,u=(0,s.Z)(e.changedTouches?e.changedTouches[0]:e,this),d=r.invert(u),f=r.k*(e.shiftKey?.5:2),h=l(E(S(r,f),u,d),a.apply(this,n),v);on(e),g>0?(0,c.Z)(this).transition().duration(g).call(_,h,u,e):(0,c.Z)(this).call(x.transform,h,u,e)}}function A(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];if(i.apply(this,arguments)){var l,u,c,d,f=n.touches,h=f.length,v=N(this,r,n.changedTouches.length===h).event(n);for(nn(n),u=0;u<h;++u)c=f[u],d=[d=(0,s.Z)(c,this),this.__zoom.invert(d),c.identifier],v.touch0?v.touch1||v.touch0[2]===d[2]||(v.touch1=d,v.taps=0):(v.touch0=d,l=!0,v.taps=1+!!e);e&&(e=clearTimeout(e)),l&&(v.taps<2&&(t=d[0],e=setTimeout((function(){e=null}),y)),D(this),v.start())}}function O(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r,i,a,u,c=N(this,n).event(e),d=e.changedTouches,f=d.length;for(on(e),r=0;r<f;++r)i=d[r],a=(0,s.Z)(i,this),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=a:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=a);if(i=c.that.__zoom,c.touch1){var h=c.touch0[0],g=c.touch0[1],p=c.touch1[0],m=c.touch1[1],y=(y=p[0]-h[0])*y+(y=p[1]-h[1])*y,b=(b=m[0]-g[0])*b+(b=m[1]-g[1])*b;i=S(i,Math.sqrt(y/b)),a=[(h[0]+p[0])/2,(h[1]+p[1])/2],u=[(g[0]+m[0])/2,(g[1]+m[1])/2]}else{if(!c.touch0)return;a=c.touch0[0],u=c.touch0[1]}c.zoom("touch",l(E(i,a,u),c.extent,v))}}function I(e){for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];if(this.__zooming){var a,l,u=N(this,r).event(e),d=e.changedTouches,f=d.length;for(nn(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),y),a=0;a<f;++a)l=d[a],u.touch0&&u.touch0[2]===l.identifier?delete u.touch0:u.touch1&&u.touch1[2]===l.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),2===u.taps&&(l=(0,s.Z)(l,this),Math.hypot(t[0]-l[0],t[1]-l[1])<w)){var h=(0,c.Z)(this).on("dblclick.zoom");h&&h.apply(this,arguments)}}}return x.transform=function(e,t,n,o){var r=e.selection?e.selection():e;r.property("__zoom",ln),e!==r?_(e,t,n,o):r.interrupt().each((function(){N(this,arguments).event(o).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},x.scaleBy=function(e,t,n,o){x.scaleTo(e,(function(){var e=this.__zoom.k,n="function"===typeof t?t.apply(this,arguments):t;return e*n}),n,o)},x.scaleTo=function(e,t,n,o){x.transform(e,(function(){var e=a.apply(this,arguments),o=this.__zoom,r=null==n?C(e):"function"===typeof n?n.apply(this,arguments):n,i=o.invert(r),u="function"===typeof t?t.apply(this,arguments):t;return l(E(S(o,u),r,i),e,v)}),n,o)},x.translateBy=function(e,t,n,o){x.transform(e,(function(){return l(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),a.apply(this,arguments),v)}),null,o)},x.translateTo=function(e,t,n,o,r){x.transform(e,(function(){var e=a.apply(this,arguments),r=this.__zoom,i=null==o?C(e):"function"===typeof o?o.apply(this,arguments):o;return l(tn.translate(i[0],i[1]).scale(r.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,v)}),o,r)},M.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=(0,c.Z)(this.that).datum();m.call(e,this.that,new Jt(e,{sourceEvent:this.sourceEvent,target:x,type:e,transform:this.that.__zoom,dispatch:m}),t)}},x.wheelDelta=function(e){return arguments.length?(d="function"===typeof e?e:Qt(+e),x):d},x.filter=function(e){return arguments.length?(i="function"===typeof e?e:Qt(!!e),x):i},x.touchable=function(e){return arguments.length?(f="function"===typeof e?e:Qt(!!e),x):f},x.extent=function(e){return arguments.length?(a="function"===typeof e?e:Qt([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),x):a},x.scaleExtent=function(e){return arguments.length?(h[0]=+e[0],h[1]=+e[1],x):[h[0],h[1]]},x.translateExtent=function(e){return arguments.length?(v[0][0]=+e[0][0],v[1][0]=+e[1][0],v[0][1]=+e[0][1],v[1][1]=+e[1][1],x):[[v[0][0],v[0][1]],[v[1][0],v[1][1]]]},x.constrain=function(e){return arguments.length?(l=e,x):l},x.duration=function(e){return arguments.length?(g=+e,x):g},x.interpolate=function(e){return arguments.length?(p=e,x):p},x.on=function(){var e=m.on.apply(m,arguments);return e===m?x:e},x.clickDistance=function(e){return arguments.length?(b=(e=+e)*e,x):Math.sqrt(b)},x.tapDistance=function(e){return arguments.length?(w=+e,x):w},x}en.prototype},25848:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var o=n(70885),r=n(37762);function i(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;var n,i=(0,r.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=(0,o.Z)(n.value,2),l=a[0],u=a[1];if(!Object.is(u,t.get(l)))return!1}}catch(p){i.e(p)}finally{i.f()}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var c,s=(0,r.Z)(e);try{for(s.s();!(c=s.n()).done;){var d=c.value;if(!t.has(d))return!1}}catch(p){s.e(p)}finally{s.f()}return!0}var f=Object.keys(e);if(f.length!==Object.keys(t).length)return!1;for(var h=0,v=f;h<v.length;h++){var g=v[h];if(!Object.prototype.hasOwnProperty.call(t,g)||!Object.is(e[g],t[g]))return!1}return!0}}}]);
//# sourceMappingURL=280.3fa40e0b.chunk.js.map