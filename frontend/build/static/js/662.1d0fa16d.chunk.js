"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[662],{79662:(e,o,r)=>{r.r(o),r.d(o,{default:()=>k});var s=r(66934),t=r(91614),d=r(20890),n=r(64554),i=r(80043),a=r(52989),c=r(25212),l=r(81724),u=r(98246),m=r(16871),x=r(72791),h=r(61134),p=r(61265),f=r(67414),g=r(77196),j=r(47071),v=r(63466),w=r(13400),Z=r(39709),q=r(38072),y=r(53026),b=r(66076),C=r(80184);function P(){const e=(0,m.s0)(),{enqueueSnackbar:o}=(0,u.Ds)(),[r,s]=(0,x.useState)(!1),t=sessionStorage.getItem("email-recovery"),d=l.Ry().shape({code1:l.Z_().required("Code is required"),code2:l.Z_().required("Code is required"),code3:l.Z_().required("Code is required"),code4:l.Z_().required("Code is required"),code5:l.Z_().required("Code is required"),code6:l.Z_().required("Code is required"),email:l.Z_().email("Email must be a valid email address").required("Email is required"),password:l.Z_().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:l.Z_().required("Confirm password is required").oneOf([l.iH("password"),null],"Passwords must match")}),n={code1:"",code2:"",code3:"",code4:"",code5:"",code6:"",email:t||"",password:"",confirmPassword:""},i=(0,h.cI)({mode:"all",resolver:(0,p.X)(d),defaultValues:n}),{control:a,setValue:c,handleSubmit:P,formState:{isSubmitting:S,errors:_}}=i;(0,x.useEffect)((()=>{const e=document.querySelector("input.field-code");return null===e||void 0===e||e.addEventListener("paste",k),()=>{null===e||void 0===e||e.removeEventListener("paste",k)}}),[]);const k=e=>{let o=e.clipboardData.getData("text");o=o.split(""),[].forEach.call(document.querySelectorAll(".field-code"),((e,r)=>{e.value=o[r];const s="code".concat(r+1);c(s,o[r])})),e.preventDefault()};return(0,C.jsx)(b.RV,{methods:i,onSubmit:P((async r=>{try{await new Promise((e=>setTimeout(e,500))),console.log("data:",{email:r.email,code:"".concat(r.code1).concat(r.code2).concat(r.code3).concat(r.code4).concat(r.code5).concat(r.code6),password:r.password}),sessionStorage.removeItem("email-recovery"),o("Change password success!"),e(q.vB.root,{replace:!0})}catch(s){console.error(s)}})),children:(0,C.jsxs)(f.Z,{spacing:3,children:[(0,C.jsx)(b.au,{name:"email",label:"Email",disabled:!!t}),(0,C.jsx)(f.Z,{direction:"row",spacing:2,justifyContent:"center",children:["code1","code2","code3","code4","code5","code6"].map(((e,o)=>(0,C.jsx)(h.Qr,{name:"code".concat(o+1),control:a,render:e=>{let{field:r,fieldState:{error:s}}=e;return(0,C.jsx)(g.Z,{...r,error:!!s,autoFocus:0===o,placeholder:"-",onChange:e=>((e,o)=>{const{maxLength:r,value:s,name:t}=e.target,d=t.replace("code",""),n=Number(d);if(s.length>=r&&n<6){const e=document.querySelector("input[name=code".concat(n+1,"]"));null!==e&&e.focus()}o(e)})(e,r.onChange),inputProps:{className:"field-code",maxLength:1,sx:{p:0,textAlign:"center",width:{xs:36,sm:56},height:{xs:36,sm:56}}}})}},e)))}),(!!_.code1||!!_.code2||!!_.code3||!!_.code4||!!_.code5||!!_.code6)&&(0,C.jsx)(j.Z,{error:!0,sx:{px:2},children:"Code is required"}),(0,C.jsx)(b.au,{name:"password",label:"Password",type:r?"text":"password",InputProps:{endAdornment:(0,C.jsx)(v.Z,{position:"end",children:(0,C.jsx)(w.Z,{onClick:()=>s(!r),edge:"end",children:(0,C.jsx)(y.Z,{icon:r?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,C.jsx)(b.au,{name:"confirmPassword",label:"Confirm New Password",type:r?"text":"password",InputProps:{endAdornment:(0,C.jsx)(v.Z,{position:"end",children:(0,C.jsx)(w.Z,{onClick:()=>s(!r),edge:"end",children:(0,C.jsx)(y.Z,{icon:r?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,C.jsx)(Z.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:S,sx:{mt:3},children:"Change password"})]})})}var S=r(43646);const _=(0,s.ZP)("div")((e=>{let{theme:o}=e;return{maxWidth:480,margin:"auto",minHeight:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",padding:o.spacing(12,0)}}));function k(){return(0,C.jsxs)(c.Z,{title:"New Password",children:[(0,C.jsx)(a.Z,{}),(0,C.jsx)(t.Z,{children:(0,C.jsxs)(_,{sx:{textAlign:"center"},children:[(0,C.jsx)(S.Jg,{sx:{mb:5,mx:"auto",height:120}}),(0,C.jsx)(d.Z,{variant:"h3",gutterBottom:!0,children:"Request sent successfully!"}),(0,C.jsxs)(d.Z,{sx:{color:"text.secondary"},children:["We've sent a 6-digit confirmation email to your email.",(0,C.jsx)("br",{}),"Please enter the code in below box to verify your email."]}),(0,C.jsx)(n.Z,{sx:{mt:5,mb:3},children:(0,C.jsx)(P,{})}),(0,C.jsxs)(d.Z,{variant:"body2",children:["Don\u2019t have a code? \xa0",(0,C.jsx)(i.Z,{variant:"subtitle2",onClick:()=>{},children:"Resend code"})]})]})})]})}}}]);
//# sourceMappingURL=662.1d0fa16d.chunk.js.map